/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app/components/Advantages/advantages.scss":
/*!*******************************************************!*\
  !*** ./src/app/components/Advantages/advantages.scss ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/CardOpportunities/card-opportunities.scss":
/*!**********************************************************************!*\
  !*** ./src/app/components/CardOpportunities/card-opportunities.scss ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/CardTeam/card-team.scss":
/*!****************************************************!*\
  !*** ./src/app/components/CardTeam/card-team.scss ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/Footer/footer.scss":
/*!***********************************************!*\
  !*** ./src/app/components/Footer/footer.scss ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/Header/header.scss":
/*!***********************************************!*\
  !*** ./src/app/components/Header/header.scss ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/Main/main.scss":
/*!*******************************************!*\
  !*** ./src/app/components/Main/main.scss ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/Textbook/WordCard/wordCard.scss":
/*!************************************************************!*\
  !*** ./src/app/components/Textbook/WordCard/wordCard.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/Textbook/WordDetails/wordDetails.scss":
/*!******************************************************************!*\
  !*** ./src/app/components/Textbook/WordDetails/wordDetails.scss ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/Textbook/WordGroupButton/wordGroupButton.scss":
/*!**************************************************************************!*\
  !*** ./src/app/components/Textbook/WordGroupButton/wordGroupButton.scss ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/components/Textbook/WordPagination/wordPagination.scss":
/*!************************************************************************!*\
  !*** ./src/app/components/Textbook/WordPagination/wordPagination.scss ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/pages/AudioCallPage/AudioCallGamePage/gamepage.scss":
/*!*********************************************************************!*\
  !*** ./src/app/pages/AudioCallPage/AudioCallGamePage/gamepage.scss ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/pages/AudioCallPage/AudioCallResultPage/result.scss":
/*!*********************************************************************!*\
  !*** ./src/app/pages/AudioCallPage/AudioCallResultPage/result.scss ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/pages/AudioCallPage/AudioCallRules/rules.scss":
/*!***************************************************************!*\
  !*** ./src/app/pages/AudioCallPage/AudioCallRules/rules.scss ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/pages/AuthPage/register.scss":
/*!**********************************************!*\
  !*** ./src/app/pages/AuthPage/register.scss ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/pages/LoadingPage/loadingpage.scss":
/*!****************************************************!*\
  !*** ./src/app/pages/LoadingPage/loadingpage.scss ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/pages/TextbookPage/textbook.scss":
/*!**************************************************!*\
  !*** ./src/app/pages/TextbookPage/textbook.scss ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/styles/index.scss":
/*!*******************************!*\
  !*** ./src/styles/index.scss ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/app/app.ts":
/*!************************!*\
  !*** ./src/app/app.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "App": () => (/* binding */ App)
/* harmony export */ });
/* harmony import */ var _app_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app.view */ "./src/app/app.view.ts");
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./basic */ "./src/app/basic/index.ts");
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components */ "./src/app/components/index.ts");
/* harmony import */ var _pages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages */ "./src/app/pages/index.ts");
/* harmony import */ var _pages_AudioCallPage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/AudioCallPage */ "./src/app/pages/AudioCallPage/index.ts");
/* harmony import */ var _pages_AuthPage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/AuthPage */ "./src/app/pages/AuthPage/index.ts");






class App {
    constructor() {
        this.root = document.querySelector('.root');
        this.view = new _app_view__WEBPACK_IMPORTED_MODULE_0__.AppView(this.root);
        this.routes = {
            '/': _components__WEBPACK_IMPORTED_MODULE_2__.Main,
            auth: _pages_AuthPage__WEBPACK_IMPORTED_MODULE_5__.AuthPage,
            games: _pages__WEBPACK_IMPORTED_MODULE_3__.Textbook,
            sprint: _pages__WEBPACK_IMPORTED_MODULE_3__.Textbook,
            textbook: _pages__WEBPACK_IMPORTED_MODULE_3__.Textbook,
            audiocall: _pages_AudioCallPage__WEBPACK_IMPORTED_MODULE_4__.AudioCall,
            statistics: _pages__WEBPACK_IMPORTED_MODULE_3__.Textbook,
        };
        this.router = new _basic__WEBPACK_IMPORTED_MODULE_1__.Router(this.root, this.view, this.routes);
    }
    start() {
        this.router.run();
    }
}


/***/ }),

/***/ "./src/app/app.view.ts":
/*!*****************************!*\
  !*** ./src/app/app.view.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppView": () => (/* binding */ AppView)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ */ "./src/app/index.ts");

class AppView {
    constructor(root) {
        this.root = root;
        this.header = new ___WEBPACK_IMPORTED_MODULE_0__.Header(root);
        this.header.init();
        this.main = new ___WEBPACK_IMPORTED_MODULE_0__.Main(root);
        this.main.init();
        this.footer = new ___WEBPACK_IMPORTED_MODULE_0__.Footer(root);
        this.footer.init();
    }
    renderGame(route) {
        if (this.root)
            this.root.innerHTML = '';
        route.render();
    }
    renderPage(route) {
        if (this.root)
            this.root.innerHTML = '';
        this.header.init();
        this.main.init();
        this.main.instance.innerHTML = '';
        this.footer.init();
        route.render();
    }
    renderModal(route, previousRoute) {
        route.onExit = () => (window.location.hash = previousRoute);
        route.render();
    }
}


/***/ }),

/***/ "./src/app/basic/api/api.ts":
/*!**********************************!*\
  !*** ./src/app/basic/api/api.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Api": () => (/* binding */ Api)
/* harmony export */ });
/* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/constants */ "./src/app/basic/common/constants.ts");

class Api {
    constructor(...rest) {
        throw new Error("This class can't be invoked through constructor");
        console.log(rest);
    }
    /**
     * Проверяет авторизирован ли пользователь
     * @returns true - пользователь авторизирован
     */
    static isAuthorized() {
        return !!Api.mainToken;
    }
    /**
     * Возвращает токен-строку или null, если не авторизирован
     * @returns Токен-строка или null, если не авторизирован
     */
    static getAuthToken() {
        return Api.isAuthorized() ? { token: Api.mainToken, userId: Api.userId, refreshToken: Api.refreshToken } : null;
    }
    /**
     * Сохраняет токен и ИД пользователя для дальнейших запросов
     * @param response Токен логина и ИД
     */
    static setAuthData(response, time) {
        Api.mainToken = response.token;
        Api.refreshToken = response.refreshToken;
        Api.userId = response.userId;
        Api.tokenTime = time ? time : Date.now();
    }
    //static async responseHandler<T>(response: Response): Promise<T | IError> {}
    /**
     * Отправляет POST запрос
     * @param url URL адрес
     * @param body Отправляемые данные
     * @returns Respose-ответ без декодирования
     */
    static async sendPost(url, body, auth = false) {
        return fetch(url, {
            method: 'POST',
            headers: {
                Authorization: auth ? `Bearer ${Api.mainToken}` : '',
                Accept: 'application/json',
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(body),
        }).then(async (resp) => {
            return resp.ok ? (await resp.json()) : { error: true, errorMessage: await resp.text() };
        });
    }
    /**
     * Отправляет GET запрос с авторизацией
     * @param url URL адрес
     * @returns Respose-ответ без декодирования
     */
    static async getGetAuth(url, mainToken = true) {
        return fetch(url, {
            method: 'GET',
            headers: {
                Authorization: `Bearer ${mainToken ? Api.mainToken : Api.refreshToken}`,
                Accept: 'application/json',
            },
        }).then(async (resp) => {
            return resp.ok ? (await resp.json()) : { error: true, errorMessage: await resp.text() };
        });
    }
    /**
     * Отправляет GET запрос без авторизации
     * @param url URL адрес
     * @returns Respose-ответ без декодирования
     */
    static async getGet(url) {
        return fetch(url, {
            method: 'GET',
            headers: {
                Accept: 'application/json',
            },
        }).then(async (resp) => {
            return resp.ok ? (await resp.json()) : { error: true, errorMessage: await resp.text() };
        });
    }
    /**
     * Отправляет PUT запрос
     * @param url URL адрес
     * @param body Отправляемые данные
     * @returns Respose-ответ без декодирования
     */
    static async sendPut(url, body) {
        return fetch(url, {
            method: 'PUT',
            headers: {
                Authorization: `Bearer ${Api.mainToken}`,
                Accept: 'application/json',
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(body),
        }).then(async (resp) => {
            return resp.ok ? (await resp.json()) : { error: true, errorMessage: await resp.text() };
        });
    }
    /**
     * Отправляет DELETE запрос
     * @param url URL адрес
     * @returns Respose-ответ без декодирования
     */
    static async sendDelete(url) {
        return fetch(url, {
            method: 'DELETE',
            headers: {
                Authorization: `Bearer ${Api.mainToken}`,
            },
        }).then((resp) => resp.ok);
    }
    /*
     *
     *  Раздел Words
     *
     */
    /**
     * Возвращает список слов заданной группы и страницы
     * @param group Номер группы
     * @param page Номер страницы
     * @returns Массив слов заданной группы и страницы
     */
    static async getWords(group, page) {
        return Api.getGet(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/words?group=${group}&page=${page}`);
    }
    /**
     * Возвращает слово по ИД
     * @param id ID слова
     * @returns Массив слов заданной группы и страницы
     */
    static async getWordsById(id) {
        return Api.getGet(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/words/${id}`);
    }
    /*
     *
     *  Раздел Users
     *
     */
    /**
     * Создает нового пользователя
     * @param user Данные о пользователе
     * @returns Ответ о регистрации или ошибка
     */
    static async createNewUser(user) {
        return Api.sendPost(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users`, user);
    }
    /**
     * Возвращает имя и пароль текущего пользователя
     * @returns Имя и пароль пользователя
     */
    static async getUserInfo() {
        return Api.getGetAuth(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}`);
    }
    static async getUserNewToken() {
        return Api.getGetAuth(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/tokens`, false);
    }
    /*
     *
     *  Раздел Users/Words
     *
     */
    /**
     * Возвращает массив пользовательских слов
     * @returns Массив пользовательских слов
     */
    static async getUserAllWords() {
        return Api.getGetAuth(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/words`);
    }
    /**
     * Создает новое пользовательское слово
     * @param wordId ID пользовательского слова
     * @param body Информация о слове
     * @returns Информация о слове
     */
    static async createUserWord(wordId, body) {
        return Api.sendPost(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/words/${wordId}`, body, true);
    }
    /**
     * Возвращает информацию о слове пользователя
     * @param wordId ID слова пользователя
     * @returns Информацию о слове пользователя
     */
    static async getUserWord(wordId) {
        return Api.getGetAuth(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/words/${wordId}`);
    }
    /**
     * Обновляет пользовательское слово
     * @param wordId ID пользовательского слова
     * @param body Информация о слове
     * @returns Информация о слове
     */
    static async updateUserWord(wordId, body) {
        return Api.sendPut(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/words/${wordId}`, body);
    }
    /**
     * Удаляет пользовательское слово
     * @param wordId ID пользовательского слова
     * @returns Удачно или нет
     */
    static async deleteUserWord(wordId) {
        return Api.sendDelete(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/words/${wordId}`);
    }
    /*
     *
     *  Раздел Users/AggregatedWords
     *
     */
    /**
     * Возвращает массив Agregated слов
     * @param query query-параметры запроса
     * @returns Массив Agregated слов
     */
    static async getUserAllAgregatedWords(query) {
        const queryString = Object.entries(query)
            .reduce((acc, cur) => acc + `${cur[0]}=${cur[1]}&`, '?')
            .slice(0, -1);
        return Api.getGetAuth(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/aggregatedWords${queryString}`);
    }
    /**
     * Возвращает информацию о Agregated слове
     * @param wordId ID Agregated слова
     * @returns Информацию о Agregated слове
     */
    static async getUserAgregatedWord(wordId) {
        return Api.getGetAuth(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/aggregatedWords/${wordId}`);
    }
    /*
     *
     *  Раздел Users/Statistic
     *
     */
    /**
     * Возвращает статистику о пользователе
     * @returns Статистика о пользователе
     */
    static async getUserStatistics() {
        return Api.getGetAuth(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/statistics`);
    }
    /**
     * Устанавливает новую статистику
     * @param body Новая статистика
     * @returns Новая статистика
     */
    static async updateUserStatistics(body) {
        return Api.sendPut(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/statistics`, body);
    }
    /*
     *
     *  Раздел Users/Setting
     *
     */
    /**
     * Возвращает настройки пользователя
     * @returns Настройки пользователя
     */
    static async getUserSettings() {
        return Api.getGetAuth(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/settings`);
    }
    /**
     * Устанавливает новые настройки
     * @param body Новая статистика
     * @returns Новая статистика
     */
    static async updateUserSettings(body) {
        return Api.sendPut(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/users/${Api.userId}/settings`, body);
    }
    /*
     *
     *  Раздел Sign In
     *
     */
    /**
     * Производит логин пользователя
     * @param user Имя и пароль пользователя
     * @returns Токен логина или ошибка
     */
    static async loginUser(user) {
        return Api.sendPost(`${_common_constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/signin`, user);
    }
}
Api.mainToken = '';
Api.refreshToken = '';
Api.userId = '';
Api.tokenTime = 0;


/***/ }),

/***/ "./src/app/basic/api/index.ts":
/*!************************************!*\
  !*** ./src/app/basic/api/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Api": () => (/* reexport safe */ _api__WEBPACK_IMPORTED_MODULE_0__.Api)
/* harmony export */ });
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ "./src/app/basic/api/api.ts");



/***/ }),

/***/ "./src/app/basic/common/constants.ts":
/*!*******************************************!*\
  !*** ./src/app/basic/common/constants.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GROUP_AMOUNT": () => (/* binding */ GROUP_AMOUNT),
/* harmony export */   "PAGES_PER_GROUP": () => (/* binding */ PAGES_PER_GROUP),
/* harmony export */   "WORDS_PER_PAGE": () => (/* binding */ WORDS_PER_PAGE),
/* harmony export */   "activityClass": () => (/* binding */ activityClass),
/* harmony export */   "baseUrl": () => (/* binding */ baseUrl),
/* harmony export */   "cardOnLoad": () => (/* binding */ cardOnLoad),
/* harmony export */   "groups": () => (/* binding */ groups),
/* harmony export */   "maxWordsPages": () => (/* binding */ maxWordsPages)
/* harmony export */ });
const groups = {
    A1: 'Easy',
    A2: 'Easy',
    B1: 'Medium',
    B2: 'Medium',
    C1: 'Hard',
    C2: 'Hard',
};
const maxWordsPages = 30;
const cardOnLoad = 0;
const activityClass = 'active';
const baseUrl = 'https://rslang-fromarys.herokuapp.com';
const GROUP_AMOUNT = 6;
const PAGES_PER_GROUP = 30;
const WORDS_PER_PAGE = 20;


/***/ }),

/***/ "./src/app/basic/common/index.ts":
/*!***************************************!*\
  !*** ./src/app/basic/common/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GROUP_AMOUNT": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.GROUP_AMOUNT),
/* harmony export */   "PAGES_PER_GROUP": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.PAGES_PER_GROUP),
/* harmony export */   "WORDS_PER_PAGE": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.WORDS_PER_PAGE),
/* harmony export */   "activityClass": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.activityClass),
/* harmony export */   "baseUrl": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.baseUrl),
/* harmony export */   "cardOnLoad": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.cardOnLoad),
/* harmony export */   "groups": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.groups),
/* harmony export */   "maxWordsPages": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.maxWordsPages)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ "./src/app/basic/common/constants.ts");



/***/ }),

/***/ "./src/app/basic/enums/enums.ts":
/*!**************************************!*\
  !*** ./src/app/basic/enums/enums.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ERegisterButtonText": () => (/* binding */ ERegisterButtonText),
/* harmony export */   "ERoutes": () => (/* binding */ ERoutes),
/* harmony export */   "EUserWordStatus": () => (/* binding */ EUserWordStatus)
/* harmony export */ });
var ERegisterButtonText;
(function (ERegisterButtonText) {
    ERegisterButtonText["register"] = "Register";
    ERegisterButtonText["login"] = "Login";
    ERegisterButtonText["cancel"] = "Cancel";
})(ERegisterButtonText || (ERegisterButtonText = {}));
var ERoutes;
(function (ERoutes) {
    ERoutes["main"] = "/";
    ERoutes["textbook"] = "textbook";
    ERoutes["statistics"] = "statistics";
    ERoutes["audiocall"] = "audiocall";
    ERoutes["sprint"] = "sprint";
    ERoutes["auth"] = "auth";
})(ERoutes || (ERoutes = {}));
var EUserWordStatus;
(function (EUserWordStatus) {
    EUserWordStatus["studied"] = "studied";
    EUserWordStatus["normal"] = "normal";
    EUserWordStatus["difficult"] = "difficult";
})(EUserWordStatus || (EUserWordStatus = {}));


/***/ }),

/***/ "./src/app/basic/enums/index.ts":
/*!**************************************!*\
  !*** ./src/app/basic/enums/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ERegisterButtonText": () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.ERegisterButtonText),
/* harmony export */   "ERoutes": () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.ERoutes),
/* harmony export */   "EUserWordStatus": () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus)
/* harmony export */ });
/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ "./src/app/basic/enums/enums.ts");



/***/ }),

/***/ "./src/app/basic/events/auth-button-click.event.ts":
/*!*********************************************************!*\
  !*** ./src/app/basic/events/auth-button-click.event.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AUTH_BUTTON_CLICK_EVENT": () => (/* binding */ AUTH_BUTTON_CLICK_EVENT)
/* harmony export */ });
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models */ "./src/app/basic/events/models/index.ts");

const AUTH_BUTTON_CLICK_EVENT = new Event(_models__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Login);


/***/ }),

/***/ "./src/app/basic/events/games-click.event.ts":
/*!***************************************************!*\
  !*** ./src/app/basic/events/games-click.event.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GAMES_CLICK_EVENT": () => (/* binding */ GAMES_CLICK_EVENT)
/* harmony export */ });
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models */ "./src/app/basic/events/models/index.ts");

const GAMES_CLICK_EVENT = new Event(_models__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Games);


/***/ }),

/***/ "./src/app/basic/events/index.ts":
/*!***************************************!*\
  !*** ./src/app/basic/events/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AUTH_BUTTON_CLICK_EVENT": () => (/* reexport safe */ _auth_button_click_event__WEBPACK_IMPORTED_MODULE_4__.AUTH_BUTTON_CLICK_EVENT),
/* harmony export */   "GAMES_CLICK_EVENT": () => (/* reexport safe */ _games_click_event__WEBPACK_IMPORTED_MODULE_2__.GAMES_CLICK_EVENT),
/* harmony export */   "IHeaderMenu": () => (/* reexport safe */ _models__WEBPACK_IMPORTED_MODULE_5__.IHeaderMenu),
/* harmony export */   "MAIN_CLICK_EVENT": () => (/* reexport safe */ _main_click_event__WEBPACK_IMPORTED_MODULE_0__.MAIN_CLICK_EVENT),
/* harmony export */   "STATISTICS_CLICK_EVENT": () => (/* reexport safe */ _statistics_click_event__WEBPACK_IMPORTED_MODULE_3__.STATISTICS_CLICK_EVENT),
/* harmony export */   "TEXT_BOOKS_CLICK_EVENT": () => (/* reexport safe */ _text_books_click_event__WEBPACK_IMPORTED_MODULE_1__.TEXT_BOOKS_CLICK_EVENT)
/* harmony export */ });
/* harmony import */ var _main_click_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main-click.event */ "./src/app/basic/events/main-click.event.ts");
/* harmony import */ var _text_books_click_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text-books-click.event */ "./src/app/basic/events/text-books-click.event.ts");
/* harmony import */ var _games_click_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./games-click.event */ "./src/app/basic/events/games-click.event.ts");
/* harmony import */ var _statistics_click_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./statistics-click.event */ "./src/app/basic/events/statistics-click.event.ts");
/* harmony import */ var _auth_button_click_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./auth-button-click.event */ "./src/app/basic/events/auth-button-click.event.ts");
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models */ "./src/app/basic/events/models/index.ts");








/***/ }),

/***/ "./src/app/basic/events/main-click.event.ts":
/*!**************************************************!*\
  !*** ./src/app/basic/events/main-click.event.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MAIN_CLICK_EVENT": () => (/* binding */ MAIN_CLICK_EVENT)
/* harmony export */ });
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models */ "./src/app/basic/events/models/index.ts");

const MAIN_CLICK_EVENT = new Event(_models__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Main);


/***/ }),

/***/ "./src/app/basic/events/models/header-menu.model.ts":
/*!**********************************************************!*\
  !*** ./src/app/basic/events/models/header-menu.model.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IHeaderMenu": () => (/* binding */ IHeaderMenu)
/* harmony export */ });
var IHeaderMenu;
(function (IHeaderMenu) {
    IHeaderMenu["Main"] = "MAIN";
    IHeaderMenu["Textbook"] = "TEXTBOOK";
    IHeaderMenu["Games"] = "GAMES";
    IHeaderMenu["Statistics"] = "STATISTICS";
    IHeaderMenu["Login"] = "LOG IN";
})(IHeaderMenu || (IHeaderMenu = {}));


/***/ }),

/***/ "./src/app/basic/events/models/index.ts":
/*!**********************************************!*\
  !*** ./src/app/basic/events/models/index.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IHeaderMenu": () => (/* reexport safe */ _header_menu_model__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu)
/* harmony export */ });
/* harmony import */ var _header_menu_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./header-menu.model */ "./src/app/basic/events/models/header-menu.model.ts");



/***/ }),

/***/ "./src/app/basic/events/statistics-click.event.ts":
/*!********************************************************!*\
  !*** ./src/app/basic/events/statistics-click.event.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "STATISTICS_CLICK_EVENT": () => (/* binding */ STATISTICS_CLICK_EVENT)
/* harmony export */ });
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models */ "./src/app/basic/events/models/index.ts");

const STATISTICS_CLICK_EVENT = new Event(_models__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Statistics);


/***/ }),

/***/ "./src/app/basic/events/text-books-click.event.ts":
/*!********************************************************!*\
  !*** ./src/app/basic/events/text-books-click.event.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TEXT_BOOKS_CLICK_EVENT": () => (/* binding */ TEXT_BOOKS_CLICK_EVENT)
/* harmony export */ });
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models */ "./src/app/basic/events/models/index.ts");

const TEXT_BOOKS_CLICK_EVENT = new Event(_models__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Textbook);


/***/ }),

/***/ "./src/app/basic/index.ts":
/*!********************************!*\
  !*** ./src/app/basic/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AUTH_BUTTON_CLICK_EVENT": () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_5__.AUTH_BUTTON_CLICK_EVENT),
/* harmony export */   "Api": () => (/* reexport safe */ _api__WEBPACK_IMPORTED_MODULE_0__.Api),
/* harmony export */   "ERegisterButtonText": () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_4__.ERegisterButtonText),
/* harmony export */   "ERoutes": () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_4__.ERoutes),
/* harmony export */   "EUserWordStatus": () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_4__.EUserWordStatus),
/* harmony export */   "GAMES_CLICK_EVENT": () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_5__.GAMES_CLICK_EVENT),
/* harmony export */   "GROUP_AMOUNT": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_2__.GROUP_AMOUNT),
/* harmony export */   "IHeaderMenu": () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_5__.IHeaderMenu),
/* harmony export */   "MAIN_CLICK_EVENT": () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_5__.MAIN_CLICK_EVENT),
/* harmony export */   "PAGES_PER_GROUP": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_2__.PAGES_PER_GROUP),
/* harmony export */   "Router": () => (/* reexport safe */ _router__WEBPACK_IMPORTED_MODULE_6__.Router),
/* harmony export */   "STATISTICS_CLICK_EVENT": () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_5__.STATISTICS_CLICK_EVENT),
/* harmony export */   "TEXT_BOOKS_CLICK_EVENT": () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_5__.TEXT_BOOKS_CLICK_EVENT),
/* harmony export */   "TextbookService": () => (/* reexport safe */ _services__WEBPACK_IMPORTED_MODULE_1__.TextbookService),
/* harmony export */   "WORDS_PER_PAGE": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_2__.WORDS_PER_PAGE),
/* harmony export */   "activityClass": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_2__.activityClass),
/* harmony export */   "baseUrl": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_2__.baseUrl),
/* harmony export */   "cardOnLoad": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_2__.cardOnLoad),
/* harmony export */   "groups": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_2__.groups),
/* harmony export */   "maxWordsPages": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_2__.maxWordsPages)
/* harmony export */ });
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ "./src/app/basic/api/index.ts");
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services */ "./src/app/basic/services/index.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common */ "./src/app/basic/common/index.ts");
/* harmony import */ var _interfaces__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interfaces */ "./src/app/basic/interfaces/index.ts");
/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./enums */ "./src/app/basic/enums/index.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events */ "./src/app/basic/events/index.ts");
/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./router */ "./src/app/basic/router/index.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./types */ "./src/app/basic/types/index.ts");










/***/ }),

/***/ "./src/app/basic/interfaces/index.ts":
/*!*******************************************!*\
  !*** ./src/app/basic/interfaces/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _textbook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textbook */ "./src/app/basic/interfaces/textbook/index.ts");
/* harmony import */ var _interfaces__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interfaces */ "./src/app/basic/interfaces/interfaces.ts");




/***/ }),

/***/ "./src/app/basic/interfaces/interfaces.ts":
/*!************************************************!*\
  !*** ./src/app/basic/interfaces/interfaces.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/basic/interfaces/textbook/index.ts":
/*!****************************************************!*\
  !*** ./src/app/basic/interfaces/textbook/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _textbook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textbook */ "./src/app/basic/interfaces/textbook/textbook.ts");
/* harmony import */ var _wordCard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wordCard */ "./src/app/basic/interfaces/textbook/wordCard.ts");
/* harmony import */ var _wordGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wordGroup */ "./src/app/basic/interfaces/textbook/wordGroup.ts");
/* harmony import */ var _wordDetails__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./wordDetails */ "./src/app/basic/interfaces/textbook/wordDetails.ts");
/* harmony import */ var _wordGroupButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./wordGroupButton */ "./src/app/basic/interfaces/textbook/wordGroupButton.ts");







/***/ }),

/***/ "./src/app/basic/interfaces/textbook/textbook.ts":
/*!*******************************************************!*\
  !*** ./src/app/basic/interfaces/textbook/textbook.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/basic/interfaces/textbook/wordCard.ts":
/*!*******************************************************!*\
  !*** ./src/app/basic/interfaces/textbook/wordCard.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/basic/interfaces/textbook/wordDetails.ts":
/*!**********************************************************!*\
  !*** ./src/app/basic/interfaces/textbook/wordDetails.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/basic/interfaces/textbook/wordGroup.ts":
/*!********************************************************!*\
  !*** ./src/app/basic/interfaces/textbook/wordGroup.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/basic/interfaces/textbook/wordGroupButton.ts":
/*!**************************************************************!*\
  !*** ./src/app/basic/interfaces/textbook/wordGroupButton.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/basic/router/index.ts":
/*!***************************************!*\
  !*** ./src/app/basic/router/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Router": () => (/* reexport safe */ _router__WEBPACK_IMPORTED_MODULE_0__.Router)
/* harmony export */ });
/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./router */ "./src/app/basic/router/router.ts");



/***/ }),

/***/ "./src/app/basic/router/router.ts":
/*!****************************************!*\
  !*** ./src/app/basic/router/router.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Router": () => (/* binding */ Router)
/* harmony export */ });
/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ "./src/app/basic/enums/index.ts");

class Router {
    constructor(root, main, routes) {
        this.root = root;
        this.main = main;
        this.routes = routes;
        this.route = '';
        this.mainNode = this.main.main.instance;
        this.previousRoute = '';
    }
    run() {
        this.switchRoute(this.getHash());
        window.addEventListener('hashchange', () => {
            this.switchRoute(this.getHash());
        });
    }
    getHash() {
        return window.location.hash.slice(1);
    }
    switchRoute(hash) {
        const key = this.routes[hash] ? hash : _enums__WEBPACK_IMPORTED_MODULE_0__.ERoutes.main;
        const Route = this.routes[key];
        if (key === _enums__WEBPACK_IMPORTED_MODULE_0__.ERoutes.sprint || key === _enums__WEBPACK_IMPORTED_MODULE_0__.ERoutes.audiocall) {
            this.loadGame(Route);
        }
        else if (key === _enums__WEBPACK_IMPORTED_MODULE_0__.ERoutes.auth) {
            this.loadModal(Route);
        }
        else {
            this.loadPage(Route, key);
        }
    }
    loadGame(Route) {
        const page = Number(localStorage.getItem('page')) || 0;
        const group = Number(localStorage.getItem('group')) || 0;
        if (this.root) {
            const route = new Route(this.root, group, page);
            this.route = '';
            this.main.renderGame(route);
        }
    }
    loadPage(Route, key) {
        const route = new Route(this.mainNode);
        if (key === _enums__WEBPACK_IMPORTED_MODULE_0__.ERoutes.textbook) {
            this.route = _enums__WEBPACK_IMPORTED_MODULE_0__.ERoutes.textbook;
        }
        else {
            this.route = '';
        }
        this.previousRoute = key;
        this.main.renderPage(route);
    }
    loadModal(Route) {
        if (this.root) {
            const route = new Route(this.mainNode);
            this.main.renderModal(route, this.previousRoute);
        }
    }
}


/***/ }),

/***/ "./src/app/basic/services/index.ts":
/*!*****************************************!*\
  !*** ./src/app/basic/services/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextbookService": () => (/* reexport safe */ _textbook_service__WEBPACK_IMPORTED_MODULE_0__.TextbookService)
/* harmony export */ });
/* harmony import */ var _textbook_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textbook.service */ "./src/app/basic/services/textbook.service.ts");



/***/ }),

/***/ "./src/app/basic/services/textbook.service.ts":
/*!****************************************************!*\
  !*** ./src/app/basic/services/textbook.service.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextbookService": () => (/* binding */ TextbookService)
/* harmony export */ });
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api */ "./src/app/basic/api/index.ts");

class TextbookService {
    static async getWords(group, page) {
        const result = await _api__WEBPACK_IMPORTED_MODULE_0__.Api.getWords(group, page).catch((error) => console.log(error));
        if (Array.isArray(result)) {
            return result;
        }
    }
}


/***/ }),

/***/ "./src/app/basic/types/index.ts":
/*!**************************************!*\
  !*** ./src/app/basic/types/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/app/basic/types/types.ts");



/***/ }),

/***/ "./src/app/basic/types/types.ts":
/*!**************************************!*\
  !*** ./src/app/basic/types/types.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/components/Advantages/advantages.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/Advantages/advantages.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Advantages": () => (/* binding */ Advantages)
/* harmony export */ });
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base-component */ "./src/app/components/base-component.ts");
/* harmony import */ var _advantages_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./advantages.view */ "./src/app/components/Advantages/advantages.view.ts");


class Advantages extends _base_component__WEBPACK_IMPORTED_MODULE_0__.BaseComponent {
    constructor() {
        super(...arguments);
        this.element = document.createElement('div');
        this.template = (0,_advantages_view__WEBPACK_IMPORTED_MODULE_1__.getTemplate)();
    }
}


/***/ }),

/***/ "./src/app/components/Advantages/advantages.view.ts":
/*!**********************************************************!*\
  !*** ./src/app/components/Advantages/advantages.view.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTemplate": () => (/* binding */ getTemplate)
/* harmony export */ });
/* harmony import */ var _advantages_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./advantages.scss */ "./src/app/components/Advantages/advantages.scss");

function getTemplate() {
    return `<div class="advantages" >
            <div class="left-content-advantages">
              <h2 class="title-advantages">Learn English easily and simply with RS Lang</h2>
              <p class="text-advantages">Stop learning English, it's time to learn it!</p>
              <p class="text-advantages">Start right now!</p>
            </div>
            <div class="right-content-advantages">
              <img class="img-advantages" src="../public/static/learn.png" alt="learn" />
            </div>
          </div>
  `;
}


/***/ }),

/***/ "./src/app/components/Advantages/index.ts":
/*!************************************************!*\
  !*** ./src/app/components/Advantages/index.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Advantages": () => (/* reexport safe */ _advantages__WEBPACK_IMPORTED_MODULE_0__.Advantages)
/* harmony export */ });
/* harmony import */ var _advantages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./advantages */ "./src/app/components/Advantages/advantages.ts");



/***/ }),

/***/ "./src/app/components/Button/Button.ts":
/*!*********************************************!*\
  !*** ./src/app/components/Button/Button.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Button": () => (/* binding */ Button)
/* harmony export */ });
/* harmony import */ var _Creator___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Creator/ */ "./src/app/components/Creator/index.ts");

class Button extends _Creator___WEBPACK_IMPORTED_MODULE_0__.Creator {
    constructor(parent, className, text, onClick) {
        super(parent, 'button', className, text);
        this.node.onclick = () => onClick(text);
    }
}


/***/ }),

/***/ "./src/app/components/Button/index.ts":
/*!********************************************!*\
  !*** ./src/app/components/Button/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Button": () => (/* reexport safe */ _Button__WEBPACK_IMPORTED_MODULE_0__.Button)
/* harmony export */ });
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Button */ "./src/app/components/Button/Button.ts");



/***/ }),

/***/ "./src/app/components/CardOpportunities/card-opportunities.ts":
/*!********************************************************************!*\
  !*** ./src/app/components/CardOpportunities/card-opportunities.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CardOpportunities": () => (/* binding */ CardOpportunities)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base-component */ "./src/app/components/base-component.ts");
/* harmony import */ var _card_opportunities_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./card-opportunities.view */ "./src/app/components/CardOpportunities/card-opportunities.view.ts");



class CardOpportunities extends _base_component__WEBPACK_IMPORTED_MODULE_1__.BaseComponent {
    constructor(root, settings) {
        super(root);
        this.settings = settings;
        this.element = document.createElement('div');
        this.template = (0,_card_opportunities_view__WEBPACK_IMPORTED_MODULE_2__.getTemplate)(this.settings);
    }
    get id() {
        return this.settings.id;
    }
    init() {
        super.init();
        this.listen();
    }
    destroy() {
        this.element.removeEventListener('click', this.onCardClick.bind(this));
        super.destroy();
    }
    listen() {
        this.element.addEventListener('click', this.onCardClick.bind(this));
    }
    onCardClick() {
        switch (this.id) {
            case _basic__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Main:
                document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_0__.MAIN_CLICK_EVENT);
                break;
            case _basic__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Textbook:
                document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_0__.TEXT_BOOKS_CLICK_EVENT);
                break;
            case _basic__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Games:
                document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_0__.GAMES_CLICK_EVENT);
                break;
            case _basic__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Statistics:
                document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_0__.STATISTICS_CLICK_EVENT);
                break;
        }
    }
}


/***/ }),

/***/ "./src/app/components/CardOpportunities/card-opportunities.view.ts":
/*!*************************************************************************!*\
  !*** ./src/app/components/CardOpportunities/card-opportunities.view.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTemplate": () => (/* binding */ getTemplate)
/* harmony export */ });
/* harmony import */ var _card_opportunities_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./card-opportunities.scss */ "./src/app/components/CardOpportunities/card-opportunities.scss");

function getTemplate(settings) {
    return `<div class="card-opportunities">
            <img class="card-backgr" src="${settings.srcBackgr}" alt="background" />
            <div class="content-card">
              <img class="icon-opportunities" src="${settings.srcIcon}" alt="textbook" />
              <p class="text-opportunities">${settings.text}</p>
            </div>
          </div>
  `;
}


/***/ }),

/***/ "./src/app/components/CardOpportunities/index.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/CardOpportunities/index.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CardOpportunities": () => (/* reexport safe */ _card_opportunities__WEBPACK_IMPORTED_MODULE_1__.CardOpportunities)
/* harmony export */ });
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models */ "./src/app/components/CardOpportunities/models/index.ts");
/* harmony import */ var _card_opportunities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card-opportunities */ "./src/app/components/CardOpportunities/card-opportunities.ts");




/***/ }),

/***/ "./src/app/components/CardOpportunities/models/card-opportunities.model.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/components/CardOpportunities/models/card-opportunities.model.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/components/CardOpportunities/models/index.ts":
/*!**************************************************************!*\
  !*** ./src/app/components/CardOpportunities/models/index.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _card_opportunities_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./card-opportunities.model */ "./src/app/components/CardOpportunities/models/card-opportunities.model.ts");



/***/ }),

/***/ "./src/app/components/CardTeam/card-team.ts":
/*!**************************************************!*\
  !*** ./src/app/components/CardTeam/card-team.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CardTeam": () => (/* binding */ CardTeam)
/* harmony export */ });
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base-component */ "./src/app/components/base-component.ts");
/* harmony import */ var _card_team_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card-team.view */ "./src/app/components/CardTeam/card-team.view.ts");


class CardTeam extends _base_component__WEBPACK_IMPORTED_MODULE_0__.BaseComponent {
    constructor(root, settings) {
        super(root);
        this.settings = settings;
        this.element = document.createElement('div');
        this.template = (0,_card_team_view__WEBPACK_IMPORTED_MODULE_1__.getTemplate)(this.settings);
    }
}


/***/ }),

/***/ "./src/app/components/CardTeam/card-team.view.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/CardTeam/card-team.view.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTemplate": () => (/* binding */ getTemplate)
/* harmony export */ });
/* harmony import */ var _card_team_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./card-team.scss */ "./src/app/components/CardTeam/card-team.scss");

function getTemplate(settings) {
    return `<div class="person">
            <img class="img-person" src="${settings.srcPerson}" />
            <div class="info-person">
              <a class="link-github-team" href="${settings.hrefPerson}" target="_blank">
              <h4 class="name-person">${settings.namePerson}</h4></a>
              <p class="done-person">${settings.donePerson}</p>
            </div>
          </div>
  `;
}


/***/ }),

/***/ "./src/app/components/CardTeam/index.ts":
/*!**********************************************!*\
  !*** ./src/app/components/CardTeam/index.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CardTeam": () => (/* reexport safe */ _card_team__WEBPACK_IMPORTED_MODULE_1__.CardTeam)
/* harmony export */ });
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models */ "./src/app/components/CardTeam/models/index.ts");
/* harmony import */ var _card_team__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card-team */ "./src/app/components/CardTeam/card-team.ts");




/***/ }),

/***/ "./src/app/components/CardTeam/models/card-team.model.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/CardTeam/models/card-team.model.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/app/components/CardTeam/models/index.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/CardTeam/models/index.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _card_team_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./card-team.model */ "./src/app/components/CardTeam/models/card-team.model.ts");



/***/ }),

/***/ "./src/app/components/Creator/Creator.ts":
/*!***********************************************!*\
  !*** ./src/app/components/Creator/Creator.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Creator": () => (/* binding */ Creator)
/* harmony export */ });
class Creator {
    constructor(parentNode, tagName = 'div', className = '', content = '') {
        const el = document.createElement(tagName);
        if (className)
            el.className = className;
        el.innerHTML = content;
        if (parentNode) {
            parentNode.append(el);
        }
        this.node = el;
    }
    destroy() {
        this.node.remove();
    }
}


/***/ }),

/***/ "./src/app/components/Creator/index.ts":
/*!*********************************************!*\
  !*** ./src/app/components/Creator/index.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Creator": () => (/* reexport safe */ _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator)
/* harmony export */ });
/* harmony import */ var _Creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Creator */ "./src/app/components/Creator/Creator.ts");



/***/ }),

/***/ "./src/app/components/Footer/footer.ts":
/*!*********************************************!*\
  !*** ./src/app/components/Footer/footer.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Footer": () => (/* binding */ Footer)
/* harmony export */ });
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base-component */ "./src/app/components/base-component.ts");
/* harmony import */ var _footer_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./footer.view */ "./src/app/components/Footer/footer.view.ts");


class Footer extends _base_component__WEBPACK_IMPORTED_MODULE_0__.BaseComponent {
    constructor() {
        super(...arguments);
        this.element = document.createElement('footer');
        this.template = (0,_footer_view__WEBPACK_IMPORTED_MODULE_1__.getTemplate)();
    }
}


/***/ }),

/***/ "./src/app/components/Footer/footer.view.ts":
/*!**************************************************!*\
  !*** ./src/app/components/Footer/footer.view.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTemplate": () => (/* binding */ getTemplate)
/* harmony export */ });
/* harmony import */ var _footer_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./footer.scss */ "./src/app/components/Footer/footer.scss");

function getTemplate() {
    return `
  <div class="content-footer">
    <ul class="link-github">
      <li class="item-link-github">&copy;2022</li>
      <a class="link-github-footer" href="https://github.com/fromarys" target="_blank"
      ><li class="item-link-github">Yevgenii Mineyev</li></a
      >
      <a class="link-github-footer" href="https://github.com/OksanaSeregina" target="_blank"
      ><li class="item-link-github">Oksana Seregina</li></a
      >
      <a class="link-github-footer" href="https://github.com/Andronio2" target="_blank"
      ><li class="item-link-github">Andrey Smirnov</li></a
      >
    </ul>
    <a class="rslink-footer" href="https://rs.school/js/" target="_blank"
        ><img src="../public/static/rs_school_js.svg" alt="logo" style="height: 50px"
    /></a>
   </div>
  `;
}


/***/ }),

/***/ "./src/app/components/Footer/index.ts":
/*!********************************************!*\
  !*** ./src/app/components/Footer/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Footer": () => (/* reexport safe */ _footer__WEBPACK_IMPORTED_MODULE_0__.Footer)
/* harmony export */ });
/* harmony import */ var _footer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./footer */ "./src/app/components/Footer/footer.ts");



/***/ }),

/***/ "./src/app/components/Header/header.ts":
/*!*********************************************!*\
  !*** ./src/app/components/Header/header.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Header": () => (/* binding */ Header)
/* harmony export */ });
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base-component */ "./src/app/components/base-component.ts");
/* harmony import */ var _header_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./header.view */ "./src/app/components/Header/header.view.ts");
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../basic */ "./src/app/basic/index.ts");



class Header extends _base_component__WEBPACK_IMPORTED_MODULE_0__.BaseComponent {
    constructor() {
        super(...arguments);
        this.navButtons = null;
        this.authButton = null;
        this.element = document.createElement('header');
        this.template = (0,_header_view__WEBPACK_IMPORTED_MODULE_1__.getTemplate)(_basic__WEBPACK_IMPORTED_MODULE_2__.IHeaderMenu);
    }
    init() {
        super.init();
        this.listen();
    }
    destroy() {
        this.navButtons.removeEventListener('click', this.onNavClick.bind(this));
        this.authButton.removeEventListener('click', this.onAuthClick.bind(this));
        super.destroy();
    }
    attachElement() {
        this.root?.prepend(this.element);
        this.navButtons = document.querySelector('[data-role="header-menu"]');
        this.authButton = document.querySelector('[data-role="auth"]');
    }
    listen() {
        this.navButtons.addEventListener('click', this.onNavClick.bind(this));
        this.authButton.addEventListener('click', this.onAuthClick.bind(this));
    }
    // Create custom events that can be listened from documents, likes
    // document.addEventListener(IHeaderMenu.Main, (event) => ...)
    onAuthClick(event) {
        event.preventDefault();
        document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_2__.AUTH_BUTTON_CLICK_EVENT);
    }
    // Create custom events that can be listened from documents, likes
    // document.addEventListener(IHeaderMenu.Main, (event) => ...)
    onNavClick(event) {
        event.preventDefault();
        const element = event.target.closest('[data-id]');
        if (!element) {
            return;
        }
        switch (element.getAttribute('data-id')) {
            case _basic__WEBPACK_IMPORTED_MODULE_2__.IHeaderMenu.Main:
                document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_2__.MAIN_CLICK_EVENT);
                break;
            case _basic__WEBPACK_IMPORTED_MODULE_2__.IHeaderMenu.Textbook:
                document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_2__.TEXT_BOOKS_CLICK_EVENT);
                break;
            case _basic__WEBPACK_IMPORTED_MODULE_2__.IHeaderMenu.Games:
                document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_2__.GAMES_CLICK_EVENT);
                break;
            case _basic__WEBPACK_IMPORTED_MODULE_2__.IHeaderMenu.Statistics:
                document.dispatchEvent(_basic__WEBPACK_IMPORTED_MODULE_2__.STATISTICS_CLICK_EVENT);
                break;
        }
    }
}


/***/ }),

/***/ "./src/app/components/Header/header.view.ts":
/*!**************************************************!*\
  !*** ./src/app/components/Header/header.view.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTemplate": () => (/* binding */ getTemplate)
/* harmony export */ });
/* harmony import */ var _header_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./header.scss */ "./src/app/components/Header/header.scss");

function getTemplate(menu) {
    return `
        <div class="content-header">
          <div class="logo">
            <a href="/" class="link-logo">
              <img class="img-logo" src="../../../public/static/logo.jpg" alt="logo" />
              <h1 class="title-logo">RSLang</h1>
            </a>
          </div>

          <nav data-role="header-menu" class="header-menu">
            <div class="menu">
              <div data-id="${menu.Main}" class="item">
                <a href="#"><span>${menu.Main}</span></a>
              </div>
              <div data-id="${menu.Textbook}" class="item">
                <a href="#textbook"><span>${menu.Textbook}</span></a>
              </div>
              <div data-id="${menu.Games}" class="item">
                <a href="#audiocall"><span>${menu.Games}</span></a>
              </div>
              <div data-id="${menu.Statistics}" class="item">
                <a href="#"><span>${menu.Statistics}</span></a>
              </div>
            </div>
          </nav>

          <div data-role="auth" class="log-in">
            <a href="#auth"><span>${menu.Login}</span></a>
          </div>
  `;
}


/***/ }),

/***/ "./src/app/components/Header/index.ts":
/*!********************************************!*\
  !*** ./src/app/components/Header/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Header": () => (/* reexport safe */ _header__WEBPACK_IMPORTED_MODULE_0__.Header)
/* harmony export */ });
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./header */ "./src/app/components/Header/header.ts");



/***/ }),

/***/ "./src/app/components/Input/Input.ts":
/*!*******************************************!*\
  !*** ./src/app/components/Input/Input.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Input": () => (/* binding */ Input)
/* harmony export */ });
/* harmony import */ var _Creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Creator */ "./src/app/components/Creator/index.ts");

class Input extends _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator {
    constructor(parent, className) {
        super(parent, 'input', className);
        this.node.type = 'text';
    }
    /**
     * Получает значение поля инпута
     * @returns Текст в поле инпута
     */
    getValue() {
        return this.node.value;
    }
}


/***/ }),

/***/ "./src/app/components/Input/index.ts":
/*!*******************************************!*\
  !*** ./src/app/components/Input/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Input": () => (/* reexport safe */ _Input__WEBPACK_IMPORTED_MODULE_0__.Input)
/* harmony export */ });
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Input */ "./src/app/components/Input/Input.ts");



/***/ }),

/***/ "./src/app/components/Main/constants.ts":
/*!**********************************************!*\
  !*** ./src/app/components/Main/constants.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CARD_OPPORTUNITIES": () => (/* binding */ CARD_OPPORTUNITIES),
/* harmony export */   "CARD_TEAM": () => (/* binding */ CARD_TEAM)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../basic */ "./src/app/basic/index.ts");

const CARD_OPPORTUNITIES = [
    {
        srcBackgr: '../public/static/card-backgr1.jpeg',
        srcIcon: '../public/static/textbook.png',
        text: 'Electronic textbook with a database of words to study',
        id: _basic__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Textbook,
    },
    {
        srcBackgr: '../public/static/card-backgr2.jpeg',
        srcIcon: '../public/static/play.png',
        text: 'Mini-games for repeating the learned words',
        id: _basic__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Games,
    },
    {
        srcBackgr: '../public/static/card-backgr3.jpeg',
        srcIcon: '../public/static/stat.png',
        text: 'Detailed statistics of your achievements',
        id: _basic__WEBPACK_IMPORTED_MODULE_0__.IHeaderMenu.Statistics,
    },
];
const CARD_TEAM = [
    {
        srcPerson: '../public/static/person.jpg',
        hrefPerson: 'https://github.com/fromarys',
        namePerson: 'Yevgenii Mineyev',
        donePerson: 'Lorem ipsum dolor sit amet consectetur adipisicing elit.',
    },
    {
        srcPerson: '../public/static/person.jpg',
        hrefPerson: 'https://github.com/OksanaSeregina',
        namePerson: 'Oksana Seregina',
        donePerson: 'Lorem ipsum dolor sit amet consectetur adipisicing elit.',
    },
    {
        srcPerson: '../public/static/person.jpg',
        hrefPerson: 'https://github.com/Andronio2',
        namePerson: 'Andrey Smirnov',
        donePerson: 'Lorem ipsum dolor sit amet consectetur adipisicing elit.',
    },
];


/***/ }),

/***/ "./src/app/components/Main/index.ts":
/*!******************************************!*\
  !*** ./src/app/components/Main/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Main": () => (/* reexport safe */ _main__WEBPACK_IMPORTED_MODULE_1__.Main),
/* harmony export */   "Root": () => (/* reexport safe */ _models__WEBPACK_IMPORTED_MODULE_0__.Root)
/* harmony export */ });
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models */ "./src/app/components/Main/models/index.ts");
/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main */ "./src/app/components/Main/main.ts");




/***/ }),

/***/ "./src/app/components/Main/main.ts":
/*!*****************************************!*\
  !*** ./src/app/components/Main/main.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Main": () => (/* binding */ Main)
/* harmony export */ });
/* harmony import */ var _Advantages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Advantages */ "./src/app/components/Advantages/index.ts");
/* harmony import */ var _CardOpportunities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CardOpportunities */ "./src/app/components/CardOpportunities/index.ts");
/* harmony import */ var _CardTeam__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CardTeam */ "./src/app/components/CardTeam/index.ts");
/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./models */ "./src/app/components/Main/models/index.ts");
/* harmony import */ var _main_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./main.view */ "./src/app/components/Main/main.view.ts");
/* harmony import */ var _base_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../base-component */ "./src/app/components/base-component.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./constants */ "./src/app/components/Main/constants.ts");







class Main extends _base_component__WEBPACK_IMPORTED_MODULE_5__.BaseComponent {
    constructor() {
        super(...arguments);
        this.cardsOpportunities = [];
        this.cardsTeam = [];
        this.element = document.createElement('main');
        this.template = (0,_main_view__WEBPACK_IMPORTED_MODULE_4__.getTemplate)();
    }
    attachElement() {
        super.attachElement();
        this.initAdvantages();
        this.initOpportunities();
        this.initTeam();
    }
    initAdvantages() {
        const root = document.querySelector(_models__WEBPACK_IMPORTED_MODULE_3__.Root.Advantages);
        const advantages = new _Advantages__WEBPACK_IMPORTED_MODULE_0__.Advantages(root);
        advantages.init();
    }
    initOpportunities() {
        const root = document.querySelector(_models__WEBPACK_IMPORTED_MODULE_3__.Root.Opportunities);
        _constants__WEBPACK_IMPORTED_MODULE_6__.CARD_OPPORTUNITIES.forEach((value) => {
            this.cardsOpportunities = [...this.cardsOpportunities, new _CardOpportunities__WEBPACK_IMPORTED_MODULE_1__.CardOpportunities(root, value)];
        });
        this.cardsOpportunities.forEach((card) => card.init());
    }
    initTeam() {
        const root = document.querySelector(_models__WEBPACK_IMPORTED_MODULE_3__.Root.Team);
        _constants__WEBPACK_IMPORTED_MODULE_6__.CARD_TEAM.forEach((value) => {
            this.cardsTeam = [...this.cardsTeam, new _CardTeam__WEBPACK_IMPORTED_MODULE_2__.CardTeam(root, value)];
            this.cardsTeam.forEach((member) => member.init());
        });
    }
}


/***/ }),

/***/ "./src/app/components/Main/main.view.ts":
/*!**********************************************!*\
  !*** ./src/app/components/Main/main.view.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTemplate": () => (/* binding */ getTemplate)
/* harmony export */ });
/* harmony import */ var _main_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.scss */ "./src/app/components/Main/main.scss");

const getTemplate = () => {
    return `<div data-root="advantages"></div>

          <div class="opportunities" data-root="opportunities"></div>

          <div class="our-team">
            <h2 class="title-team">Our team</h2>
            <div class="container-team" data-root="our-team"></div>
          </div>
          `;
};


/***/ }),

/***/ "./src/app/components/Main/models/index.ts":
/*!*************************************************!*\
  !*** ./src/app/components/Main/models/index.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Root": () => (/* reexport safe */ _root_enum__WEBPACK_IMPORTED_MODULE_0__.Root)
/* harmony export */ });
/* harmony import */ var _root_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./root.enum */ "./src/app/components/Main/models/root.enum.ts");



/***/ }),

/***/ "./src/app/components/Main/models/root.enum.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/Main/models/root.enum.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Root": () => (/* binding */ Root)
/* harmony export */ });
var Root;
(function (Root) {
    Root["Advantages"] = "[data-root=\"advantages\"]";
    Root["Opportunities"] = "[data-root=\"opportunities\"]";
    Root["Team"] = "[data-root=\"our-team\"]";
})(Root || (Root = {}));


/***/ }),

/***/ "./src/app/components/Textbook/WordCard/index.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/Textbook/WordCard/index.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordCard": () => (/* reexport safe */ _wordCard__WEBPACK_IMPORTED_MODULE_0__.WordCard),
/* harmony export */   "WordDetails": () => (/* reexport safe */ _WordDetails_wordDetails__WEBPACK_IMPORTED_MODULE_1__.WordDetails)
/* harmony export */ });
/* harmony import */ var _wordCard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wordCard */ "./src/app/components/Textbook/WordCard/wordCard.ts");
/* harmony import */ var _WordDetails_wordDetails__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../WordDetails/wordDetails */ "./src/app/components/Textbook/WordDetails/wordDetails.ts");




/***/ }),

/***/ "./src/app/components/Textbook/WordCard/wordCard.ts":
/*!**********************************************************!*\
  !*** ./src/app/components/Textbook/WordCard/wordCard.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordCard": () => (/* binding */ WordCard)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _wordCard_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wordCard.view */ "./src/app/components/Textbook/WordCard/wordCard.view.ts");
/* harmony import */ var _WordDetails_wordDetails__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../WordDetails/wordDetails */ "./src/app/components/Textbook/WordDetails/wordDetails.ts");



class WordCard {
    constructor(wordGroup, textbook, wordInfo, className) {
        this.wordGroup = wordGroup;
        this.wordsWrapper = textbook.words.node;
        this.wordsContainer = textbook.wordsContainer.node;
        this.wordInfo = wordInfo;
        this.wordCard = new _wordCard_view__WEBPACK_IMPORTED_MODULE_1__["default"](this.wordsContainer, wordInfo, className);
        if (className)
            this.wordDetails = new _WordDetails_wordDetails__WEBPACK_IMPORTED_MODULE_2__.WordDetails(this.wordsWrapper, wordInfo);
        if (className)
            this.wordGroup.activeElement = this.wordCard.node;
        this.wordCard.node.onclick = () => this.clickHandler();
    }
    clickHandler() {
        this.wordGroup.activeElement.classList.remove(_basic__WEBPACK_IMPORTED_MODULE_0__.activityClass);
        this.wordGroup.activeElement = this.wordCard.node;
        this.wordGroup.activeElement.classList.add(_basic__WEBPACK_IMPORTED_MODULE_0__.activityClass);
        new _WordDetails_wordDetails__WEBPACK_IMPORTED_MODULE_2__.WordDetails(this.wordsWrapper, this.wordInfo);
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordCard/wordCard.view.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/Textbook/WordCard/wordCard.view.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ WordCardView)
/* harmony export */ });
/* harmony import */ var _Creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _wordCard_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wordCard.scss */ "./src/app/components/Textbook/WordCard/wordCard.scss");


class WordCardView extends _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator {
    constructor(parentNode, wordInfo, className) {
        const content = `<h2 class="words__word">${wordInfo.word}</h2>
    <h3 class="words__translate">${wordInfo.wordTranslate}</h3>`;
        super(parentNode, 'button', `words__card ${className}`, content);
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordDetails/index.ts":
/*!**********************************************************!*\
  !*** ./src/app/components/Textbook/WordDetails/index.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordDetails": () => (/* reexport safe */ _wordDetails__WEBPACK_IMPORTED_MODULE_0__.WordDetails)
/* harmony export */ });
/* harmony import */ var _wordDetails__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wordDetails */ "./src/app/components/Textbook/WordDetails/wordDetails.ts");



/***/ }),

/***/ "./src/app/components/Textbook/WordDetails/wordDetails.ts":
/*!****************************************************************!*\
  !*** ./src/app/components/Textbook/WordDetails/wordDetails.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordDetails": () => (/* binding */ WordDetails)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _wordDetails_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wordDetails.view */ "./src/app/components/Textbook/WordDetails/wordDetails.view.ts");


class WordDetails {
    constructor(parentNode, wordInfo) {
        const currentDetails = parentNode.childNodes[2];
        currentDetails?.remove();
        this.view = new _wordDetails_view__WEBPACK_IMPORTED_MODULE_1__["default"](parentNode, wordInfo);
        this.audio = this.view.audioButton.node;
        this.audio.onclick = () => this.clickHandler(wordInfo);
    }
    clickHandler(wordInfo) {
        const button = this.view.audioButton.node;
        const icon = button.children[0];
        const audio = new Audio(`${_basic__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/${wordInfo.audio}`);
        icon?.classList.add('active');
        void audio.play();
        audio.onended = () => icon?.classList.remove('active');
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordDetails/wordDetails.view.ts":
/*!*********************************************************************!*\
  !*** ./src/app/components/Textbook/WordDetails/wordDetails.view.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ WordDetailsView)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _Creator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _wordDetails_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wordDetails.scss */ "./src/app/components/Textbook/WordDetails/wordDetails.scss");



class WordDetailsView {
    constructor(parentNode, word) {
        this.image = `<img src="${_basic__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/${word.image}" class="words__image"></img>`;
        this.headerContent = this.renderHeader(word);
        this.descriptionContent = this.renderDescription(word);
        this.details = new _Creator__WEBPACK_IMPORTED_MODULE_1__.Creator(parentNode, 'div', 'words__details');
        this.details.node.innerHTML = this.image;
        this.information = new _Creator__WEBPACK_IMPORTED_MODULE_1__.Creator(this.details.node, 'div', 'words__information');
        this.header = new _Creator__WEBPACK_IMPORTED_MODULE_1__.Creator(this.information.node, 'div', 'words__header', this.headerContent);
        this.description = new _Creator__WEBPACK_IMPORTED_MODULE_1__.Creator(this.information.node, 'div', 'words__description', this.descriptionContent);
        this.audioButton = new _Creator__WEBPACK_IMPORTED_MODULE_1__.Creator(this.header.node, 'button', 'words__audio', this.renderAudioButton());
    }
    renderHeader(word) {
        return `
      <h2 class="words__word">${word.word}</h2>
      <h3 class="words__translate">${word.wordTranslate}</h3>
      <span class="words__transcription">${word.transcription}</span>
    `;
    }
    renderDescription(word) {
        return `
      <h3 class="words__subtitle">Значение</h3>
      <p>${word.textMeaning}</p>
      <p>${word.textMeaningTranslate}</p>
      <h3 class="words__subtitle">Пример</h3>
      <p>${word.textExample}</p>
      <p>${word.textExampleTranslate}</p>
    `;
    }
    renderAudioButton() {
        return `
    <svg class="words__audio-icon">
      <use xlink:href="../../../public/static/audio.svg#audio"></use>
    </svg>
    `;
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordGroupButton/index.ts":
/*!**************************************************************!*\
  !*** ./src/app/components/Textbook/WordGroupButton/index.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordGroupButton": () => (/* reexport safe */ _wordGroupButton__WEBPACK_IMPORTED_MODULE_0__.WordGroupButton)
/* harmony export */ });
/* harmony import */ var _wordGroupButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wordGroupButton */ "./src/app/components/Textbook/WordGroupButton/wordGroupButton.ts");



/***/ }),

/***/ "./src/app/components/Textbook/WordGroupButton/wordGroupButton.ts":
/*!************************************************************************!*\
  !*** ./src/app/components/Textbook/WordGroupButton/wordGroupButton.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordGroupButton": () => (/* binding */ WordGroupButton)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _WordGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../WordGroup */ "./src/app/components/Textbook/WordGroup/index.ts");
/* harmony import */ var _wordGroupButton_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wordGroupButton.view */ "./src/app/components/Textbook/WordGroupButton/wordGroupButton.view.ts");



class WordGroupButton {
    constructor(textbook, item) {
        this.groupList = Object.keys(_basic__WEBPACK_IMPORTED_MODULE_0__.groups);
        this.textbook = textbook;
        this.parentNode = textbook.group.node;
        this.view = new _wordGroupButton_view__WEBPACK_IMPORTED_MODULE_2__["default"](this.parentNode, item);
        this.group = this.view.group.node;
        this.groupClassName = this.group.className;
        this.view.group.node.onclick = (event) => this.clickHandler(textbook, event);
        if (this.group.classList.contains(_basic__WEBPACK_IMPORTED_MODULE_0__.activityClass))
            this.textbook.activeGroup = this.group;
    }
    clickHandler(textbook, event) {
        const group = new _WordGroup__WEBPACK_IMPORTED_MODULE_1__.WordGroup(textbook);
        const switchedGroupButton = event.target.closest(`.${this.groupClassName}`);
        const level = switchedGroupButton?.dataset.level;
        this.switchStyles(switchedGroupButton);
        if (level) {
            const newGroupNumber = this.groupList.indexOf(level);
            localStorage.setItem('group', JSON.stringify(newGroupNumber));
            group.renderCards(newGroupNumber);
        }
    }
    switchStyles(newGroupButton) {
        this.textbook.activeGroup.classList.remove(_basic__WEBPACK_IMPORTED_MODULE_0__.activityClass);
        if (newGroupButton) {
            this.textbook.activeGroup = newGroupButton;
            this.textbook.activeGroup.classList.add(_basic__WEBPACK_IMPORTED_MODULE_0__.activityClass);
        }
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordGroupButton/wordGroupButton.view.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/components/Textbook/WordGroupButton/wordGroupButton.view.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ WordGroupButtonView)
/* harmony export */ });
/* harmony import */ var _Creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _wordGroupButton_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wordGroupButton.scss */ "./src/app/components/Textbook/WordGroupButton/wordGroupButton.scss");


class WordGroupButtonView {
    constructor(parentNode, item) {
        this.group = new _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(parentNode, 'button', 'group__button');
        this.left = new _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(this.group.node, 'div', 'group__button-left', item[1]);
        this.group.node.dataset.level = item[0];
        this.right = new _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(this.group.node, 'div', 'group__button-right', item[0]);
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordGroup/index.ts":
/*!********************************************************!*\
  !*** ./src/app/components/Textbook/WordGroup/index.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordGroup": () => (/* reexport safe */ _wordGroup__WEBPACK_IMPORTED_MODULE_0__.WordGroup)
/* harmony export */ });
/* harmony import */ var _wordGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wordGroup */ "./src/app/components/Textbook/WordGroup/wordGroup.ts");



/***/ }),

/***/ "./src/app/components/Textbook/WordGroup/wordGroup.ts":
/*!************************************************************!*\
  !*** ./src/app/components/Textbook/WordGroup/wordGroup.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordGroup": () => (/* binding */ WordGroup)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../.. */ "./src/app/components/index.ts");
/* harmony import */ var _wordGroup_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wordGroup.view */ "./src/app/components/Textbook/WordGroup/wordGroup.view.ts");



class WordGroup {
    constructor(textbook) {
        this.textbook = textbook;
        this.view = new _wordGroup_view__WEBPACK_IMPORTED_MODULE_2__["default"](textbook);
    }
    async getCards(group, page) {
        const words = await _basic__WEBPACK_IMPORTED_MODULE_0__.TextbookService.getWords(group, page);
        if (words) {
            this.textbook.wordsContainer.node.innerHTML = '';
            words.forEach((item, index) => {
                let className = '';
                if (index === 0)
                    className = _basic__WEBPACK_IMPORTED_MODULE_0__.activityClass;
                new ___WEBPACK_IMPORTED_MODULE_1__.WordCard(this.view, this.textbook, item, className);
            });
        }
        return words;
    }
    renderCards(group, page) {
        let storagedPage = parseInt(localStorage.getItem('page'), 10) || 0;
        let storagedGroup = parseInt(localStorage.getItem('group'), 10) || 0;
        if (page)
            storagedPage = page;
        if (group)
            storagedGroup = group;
        void this.getCards(storagedGroup.toString(), storagedPage.toString());
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordGroup/wordGroup.view.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/Textbook/WordGroup/wordGroup.view.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ WordGroupView)
/* harmony export */ });
class WordGroupView {
    constructor(textbook) {
        this.activeElement = textbook.words.node;
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordPagination/index.ts":
/*!*************************************************************!*\
  !*** ./src/app/components/Textbook/WordPagination/index.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordPagination": () => (/* reexport safe */ _wordPagination__WEBPACK_IMPORTED_MODULE_0__.WordPagination)
/* harmony export */ });
/* harmony import */ var _wordPagination__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wordPagination */ "./src/app/components/Textbook/WordPagination/wordPagination.ts");



/***/ }),

/***/ "./src/app/components/Textbook/WordPagination/wordPagination.ts":
/*!**********************************************************************!*\
  !*** ./src/app/components/Textbook/WordPagination/wordPagination.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordPagination": () => (/* binding */ WordPagination)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../.. */ "./src/app/components/index.ts");
/* harmony import */ var _wordPagination_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wordPagination.view */ "./src/app/components/Textbook/WordPagination/wordPagination.view.ts");


class WordPagination {
    constructor(textbook) {
        this.textbook = textbook;
        this.wordsContainer = textbook.wordsContainer.node;
    }
    paginate(totalPages, page) {
        const currentPage = page || JSON.parse(localStorage.getItem('page')) + 1 || 1;
        const pagination = new _wordPagination_view__WEBPACK_IMPORTED_MODULE_1__.WordPaginationView(this.textbook);
        if (currentPage > 1) {
            this.showPreviousButton(pagination, totalPages, currentPage);
        }
        if (currentPage > 2) {
            this.showFirstItem(pagination, totalPages, currentPage);
        }
        this.showActiveItem(pagination, totalPages, currentPage);
        if (currentPage < totalPages - 1) {
            this.showLastItem(pagination, totalPages, currentPage);
        }
        if (currentPage < totalPages) {
            this.showNextButton(pagination, totalPages, currentPage);
        }
    }
    clickHandler(pagination, totalPages, page) {
        const serverPagination = page - 1;
        this.wordsContainer.innerHTML = '';
        pagination.destroy();
        this.paginate(totalPages, page);
        const wordGroup = new ___WEBPACK_IMPORTED_MODULE_0__.WordGroup(this.textbook);
        localStorage.setItem('page', JSON.stringify(serverPagination));
        void wordGroup.renderCards(undefined, serverPagination);
    }
    showFirstItem(pagination, totalPages, page) {
        const element = pagination.createPage('first number', `<span>1</span>`);
        element.onclick = () => this.clickHandler(pagination, totalPages, 1);
        if (page > 3) {
            pagination.createPage('dots', '<span>...</span>');
        }
    }
    showPreviousButton(pagination, totalPages, page) {
        const element = pagination.createPage('pagination__button prev', 'Пред.');
        element.onclick = () => this.clickHandler(pagination, totalPages, page - 1);
    }
    showNextButton(pagination, totalPages, page) {
        const element = pagination.createPage('pagination__button next', `<span>След.</span>`);
        element.onclick = () => this.clickHandler(pagination, totalPages, page + 1);
    }
    showActiveItem(pagination, totalPages, page) {
        let beforePage = page - 1;
        let afterPage = page + 1;
        let active;
        if (page == totalPages) {
            beforePage = beforePage - 2;
        }
        else if (page == totalPages - 1) {
            beforePage = beforePage - 1;
        }
        if (page == 1) {
            afterPage = afterPage + 2;
        }
        else if (page == 2) {
            afterPage = afterPage + 1;
        }
        for (let plength = beforePage; plength <= afterPage; plength++) {
            if (plength > totalPages) {
                continue;
            }
            if (plength == 0) {
                plength = plength + 1;
            }
            if (page == plength) {
                active = 'active';
            }
            else {
                active = '';
            }
            const element = pagination.createPage(`number ${active}`, `<span>${plength}</span>`);
            element.onclick = () => this.clickHandler(pagination, totalPages, plength);
        }
    }
    showLastItem(pagination, totalPages, page) {
        if (page < totalPages - 2) {
            pagination.createPage('dots', '<span>...</span>');
        }
        const element = pagination.createPage('last number', `<span>${totalPages}</span>`);
        element.onclick = () => this.clickHandler(pagination, totalPages, totalPages);
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/WordPagination/wordPagination.view.ts":
/*!***************************************************************************!*\
  !*** ./src/app/components/Textbook/WordPagination/wordPagination.view.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordPaginationView": () => (/* binding */ WordPaginationView)
/* harmony export */ });
/* harmony import */ var _Creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _wordPagination_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wordPagination.scss */ "./src/app/components/Textbook/WordPagination/wordPagination.scss");


class WordPaginationView {
    constructor(textbook) {
        this.pagination = new _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(textbook.textbook.node, 'div', 'pagination');
        this.list = new _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(this.pagination.node, 'ul');
    }
    createPage(className, content) {
        const page = new _Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(this.list.node, 'li', className, content);
        return page.node;
    }
    destroy() {
        this.pagination.node.remove();
    }
}


/***/ }),

/***/ "./src/app/components/Textbook/index.ts":
/*!**********************************************!*\
  !*** ./src/app/components/Textbook/index.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WordCard": () => (/* reexport safe */ _WordCard__WEBPACK_IMPORTED_MODULE_0__.WordCard),
/* harmony export */   "WordDetails": () => (/* reexport safe */ _WordCard__WEBPACK_IMPORTED_MODULE_0__.WordDetails),
/* harmony export */   "WordGroup": () => (/* reexport safe */ _WordGroup__WEBPACK_IMPORTED_MODULE_2__.WordGroup),
/* harmony export */   "WordGroupButton": () => (/* reexport safe */ _WordGroupButton__WEBPACK_IMPORTED_MODULE_3__.WordGroupButton),
/* harmony export */   "WordPagination": () => (/* reexport safe */ _WordPagination__WEBPACK_IMPORTED_MODULE_4__.WordPagination)
/* harmony export */ });
/* harmony import */ var _WordCard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WordCard */ "./src/app/components/Textbook/WordCard/index.ts");
/* harmony import */ var _WordDetails__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WordDetails */ "./src/app/components/Textbook/WordDetails/index.ts");
/* harmony import */ var _WordGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WordGroup */ "./src/app/components/Textbook/WordGroup/index.ts");
/* harmony import */ var _WordGroupButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./WordGroupButton */ "./src/app/components/Textbook/WordGroupButton/index.ts");
/* harmony import */ var _WordPagination__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WordPagination */ "./src/app/components/Textbook/WordPagination/index.ts");







/***/ }),

/***/ "./src/app/components/base-component.ts":
/*!**********************************************!*\
  !*** ./src/app/components/base-component.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseComponent": () => (/* binding */ BaseComponent)
/* harmony export */ });
class BaseComponent {
    constructor(root) {
        this.root = root;
    }
    get instance() {
        return this.element;
    }
    init() {
        this.render();
    }
    render() {
        this.element.innerHTML = this.template;
        if (this.root) {
            this.attachElement();
        }
    }
    destroy() {
        if (this.root) {
            this.root.innerHTML = '';
        }
    }
    attachElement() {
        this.root?.appendChild(this.element);
    }
}


/***/ }),

/***/ "./src/app/components/index.ts":
/*!*************************************!*\
  !*** ./src/app/components/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Advantages": () => (/* reexport safe */ _Advantages__WEBPACK_IMPORTED_MODULE_4__.Advantages),
/* harmony export */   "Button": () => (/* reexport safe */ _Button__WEBPACK_IMPORTED_MODULE_2__.Button),
/* harmony export */   "CardOpportunities": () => (/* reexport safe */ _CardOpportunities__WEBPACK_IMPORTED_MODULE_5__.CardOpportunities),
/* harmony export */   "CardTeam": () => (/* reexport safe */ _CardTeam__WEBPACK_IMPORTED_MODULE_6__.CardTeam),
/* harmony export */   "Creator": () => (/* reexport safe */ _Creator__WEBPACK_IMPORTED_MODULE_1__.Creator),
/* harmony export */   "Footer": () => (/* reexport safe */ _Footer__WEBPACK_IMPORTED_MODULE_7__.Footer),
/* harmony export */   "Header": () => (/* reexport safe */ _Header__WEBPACK_IMPORTED_MODULE_8__.Header),
/* harmony export */   "Input": () => (/* reexport safe */ _Input__WEBPACK_IMPORTED_MODULE_3__.Input),
/* harmony export */   "Main": () => (/* reexport safe */ _Main__WEBPACK_IMPORTED_MODULE_9__.Main),
/* harmony export */   "Root": () => (/* reexport safe */ _Main__WEBPACK_IMPORTED_MODULE_9__.Root),
/* harmony export */   "WordCard": () => (/* reexport safe */ _Textbook__WEBPACK_IMPORTED_MODULE_0__.WordCard),
/* harmony export */   "WordDetails": () => (/* reexport safe */ _Textbook__WEBPACK_IMPORTED_MODULE_0__.WordDetails),
/* harmony export */   "WordGroup": () => (/* reexport safe */ _Textbook__WEBPACK_IMPORTED_MODULE_0__.WordGroup),
/* harmony export */   "WordGroupButton": () => (/* reexport safe */ _Textbook__WEBPACK_IMPORTED_MODULE_0__.WordGroupButton),
/* harmony export */   "WordPagination": () => (/* reexport safe */ _Textbook__WEBPACK_IMPORTED_MODULE_0__.WordPagination)
/* harmony export */ });
/* harmony import */ var _Textbook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Textbook */ "./src/app/components/Textbook/index.ts");
/* harmony import */ var _Creator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Button */ "./src/app/components/Button/index.ts");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Input */ "./src/app/components/Input/index.ts");
/* harmony import */ var _Advantages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Advantages */ "./src/app/components/Advantages/index.ts");
/* harmony import */ var _CardOpportunities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CardOpportunities */ "./src/app/components/CardOpportunities/index.ts");
/* harmony import */ var _CardTeam__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CardTeam */ "./src/app/components/CardTeam/index.ts");
/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Footer */ "./src/app/components/Footer/index.ts");
/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Header */ "./src/app/components/Header/index.ts");
/* harmony import */ var _Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Main */ "./src/app/components/Main/index.ts");












/***/ }),

/***/ "./src/app/index.ts":
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Advantages": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.Advantages),
/* harmony export */   "App": () => (/* reexport safe */ _app__WEBPACK_IMPORTED_MODULE_1__.App),
/* harmony export */   "Button": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.Button),
/* harmony export */   "CardOpportunities": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.CardOpportunities),
/* harmony export */   "CardTeam": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.CardTeam),
/* harmony export */   "Creator": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.Creator),
/* harmony export */   "Footer": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.Footer),
/* harmony export */   "Header": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.Header),
/* harmony export */   "Input": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.Input),
/* harmony export */   "Main": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.Main),
/* harmony export */   "Root": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.Root),
/* harmony export */   "WordCard": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.WordCard),
/* harmony export */   "WordDetails": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.WordDetails),
/* harmony export */   "WordGroup": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.WordGroup),
/* harmony export */   "WordGroupButton": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.WordGroupButton),
/* harmony export */   "WordPagination": () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.WordPagination)
/* harmony export */ });
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components */ "./src/app/components/index.ts");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app */ "./src/app/app.ts");




/***/ }),

/***/ "./src/app/pages/AudioCallPage/AudioCall.model.ts":
/*!********************************************************!*\
  !*** ./src/app/pages/AudioCallPage/AudioCall.model.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AudioCallModel)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _basic_api_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../basic/api/api */ "./src/app/basic/api/api.ts");
/* harmony import */ var _basic_common_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../basic/common/constants */ "./src/app/basic/common/constants.ts");



const NORMAL_DIFFICULTY = 3;
const DIFFICULT_DIFFICULTY = 5;
class AudioCallModel {
    constructor() {
        console.log('AudioCallModel constructor');
    }
    /**
     * Возвращает список слов из определенного раздела
     * @param group Номер раздела
     * @returns Список слов
     */
    async getWordsFromGroup(group, page) {
        const promises = [];
        const maxPages = page ? page : _basic_common_constants__WEBPACK_IMPORTED_MODULE_2__.PAGES_PER_GROUP;
        for (let i = 0; i < maxPages; i++) {
            promises.push(_basic_api_api__WEBPACK_IMPORTED_MODULE_1__.Api.getWords(`${group}`, `${i}`));
        }
        return Promise.all(promises).then((pages) => {
            let words = [];
            pages.forEach((page) => {
                if (!('error' in page)) {
                    words = words.concat(page);
                }
            });
            return words;
        });
    }
    saveResultToServer(words, answers) {
        words.forEach((word, index) => {
            void _basic_api_api__WEBPACK_IMPORTED_MODULE_1__.Api.getUserWord(word.id).then((wordInfo) => {
                if ('difficulty' in wordInfo) {
                    const updateWordInfo = {
                        difficulty: wordInfo.difficulty,
                        optional: {
                            gamesRight: wordInfo.optional.gamesRight,
                        },
                    };
                    // Если запись уже существует, то исправляем и обновляем
                    if (answers[index]) {
                        // Если правильный ответ
                        updateWordInfo.optional.gamesRight++;
                        if ((updateWordInfo.difficulty === _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.normal &&
                            updateWordInfo.optional.gamesRight > NORMAL_DIFFICULTY) ||
                            (updateWordInfo.difficulty === _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.difficult &&
                                updateWordInfo.optional.gamesRight > DIFFICULT_DIFFICULTY)) {
                            updateWordInfo.difficulty = _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.studied;
                        }
                    }
                    else {
                        // Если неправильный
                        updateWordInfo.optional.gamesRight = 0;
                        if (updateWordInfo.difficulty === _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.normal) {
                            updateWordInfo.difficulty = _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.difficult;
                        }
                        else if (updateWordInfo.difficulty === _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.studied) {
                            updateWordInfo.difficulty = _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.normal;
                        }
                    }
                    void _basic_api_api__WEBPACK_IMPORTED_MODULE_1__.Api.updateUserWord(word.id, updateWordInfo);
                }
                else {
                    // Иначе создаем новую запись
                    const newWordInfo = {
                        difficulty: answers[index] ? _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.normal : _basic__WEBPACK_IMPORTED_MODULE_0__.EUserWordStatus.difficult,
                        optional: {
                            gamesRight: answers[index] ? 1 : 0,
                        },
                    };
                    void _basic_api_api__WEBPACK_IMPORTED_MODULE_1__.Api.createUserWord(word.id, newWordInfo);
                }
            });
        });
    }
}


/***/ }),

/***/ "./src/app/pages/AudioCallPage/AudioCall.ts":
/*!**************************************************!*\
  !*** ./src/app/pages/AudioCallPage/AudioCall.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AudioCall": () => (/* binding */ AudioCall)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _LoadingPage_LoadingPage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../LoadingPage/LoadingPage */ "./src/app/pages/LoadingPage/LoadingPage.ts");
/* harmony import */ var _AudioCall_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AudioCall.model */ "./src/app/pages/AudioCallPage/AudioCall.model.ts");
/* harmony import */ var _AudioCallGamePage_AudioCallGamePage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AudioCallGamePage/AudioCallGamePage */ "./src/app/pages/AudioCallPage/AudioCallGamePage/AudioCallGamePage.ts");
/* harmony import */ var _AudioCallResultPage_AudioCallResultPage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AudioCallResultPage/AudioCallResultPage */ "./src/app/pages/AudioCallPage/AudioCallResultPage/AudioCallResultPage.ts");
/* harmony import */ var _AudioCallRules_AudioCallRules__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AudioCallRules/AudioCallRules */ "./src/app/pages/AudioCallPage/AudioCallRules/AudioCallRules.ts");






const WORDS_IN_GAME = 20;
class AudioCall {
    constructor(parent, group, page) {
        this.group = group;
        this.page = page;
        this.parent = parent;
        this.audioCallModel = new _AudioCall_model__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    render() {
        this.rules = new _AudioCallRules_AudioCallRules__WEBPACK_IMPORTED_MODULE_5__["default"](this.parent, !!this.page);
        this.rules.onClick = (group) => {
            this.rules.destroy();
            void this.mainCycle(group);
        };
    }
    async mainCycle(group) {
        const loading = new _LoadingPage_LoadingPage__WEBPACK_IMPORTED_MODULE_1__["default"](this.parent);
        const currGroup = this.group ? this.group : group;
        const words = await this.audioCallModel.getWordsFromGroup(currGroup, this.page);
        loading.destroy();
        const answerResult = [];
        const gameWords = words.sort(() => Math.random() - 0.5).slice(0, WORDS_IN_GAME);
        console.log(gameWords);
        for (let i = 0; i < gameWords.length; i++) {
            const game = new _AudioCallGamePage_AudioCallGamePage__WEBPACK_IMPORTED_MODULE_3__["default"](this.parent, i, gameWords, () => this.onExit());
            const promise = new Promise((resolve) => {
                game.onNext = (str) => resolve(str);
            });
            const result = await promise;
            game.destroy();
            answerResult.push(result);
        }
        if (_basic__WEBPACK_IMPORTED_MODULE_0__.Api.isAuthorized()) {
            void this.audioCallModel.saveResultToServer(gameWords, answerResult);
        }
        new _AudioCallResultPage_AudioCallResultPage__WEBPACK_IMPORTED_MODULE_4__["default"](this.parent, gameWords, answerResult, () => this.onExit());
    }
}


/***/ }),

/***/ "./src/app/pages/AudioCallPage/AudioCallGamePage/AudioCallGamePage.ts":
/*!****************************************************************************!*\
  !*** ./src/app/pages/AudioCallPage/AudioCallGamePage/AudioCallGamePage.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AudioCallGamePage)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/Button */ "./src/app/components/Button/index.ts");
/* harmony import */ var _components_Creator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../components/Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _gamepage_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./gamepage.scss */ "./src/app/pages/AudioCallPage/AudioCallGamePage/gamepage.scss");




const ANSWER_BUTTONS = 5;
class AudioCallGamePage extends _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator {
    constructor(parent, curIndex, gameWords, onExit) {
        super(parent, 'div', 'gamepage');
        this.btnMass = [];
        this.answer = false;
        this.word = gameWords[curIndex];
        console.log(this.word);
        const progressWnd = new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(this.node, 'div', 'gamepage__progress-window');
        for (let i = 0; i < gameWords.length; i++) {
            const item = new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(progressWnd.node, 'div', 'gamepage__progress-item');
            if (i <= curIndex)
                item.node.style.backgroundColor = '#202020';
        }
        this.audioWindow = new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(this.node, 'div', 'gamepage__audio-window');
        this.btnPlay = new _components_Button__WEBPACK_IMPORTED_MODULE_1__.Button(this.audioWindow.node, 'gamepage__play', '', () => this.playWord());
        this.audio = new Audio(`${_basic__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/${this.word.audio}`);
        this.audio.oncanplaythrough = () => this.playWord();
        const btnWrapper1 = new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(this.node, 'div', 'gamepage__btn-wrapper');
        const answersNum = this.generateRandomSequence(ANSWER_BUTTONS - 1, gameWords.length, curIndex);
        console.log(answersNum);
        answersNum.push(curIndex);
        this.answers = answersNum.sort(() => Math.random() - 0.5).map((num) => gameWords[num].wordTranslate);
        this.answers.forEach((btnText, index) => {
            this.btnMass.push(new _components_Button__WEBPACK_IMPORTED_MODULE_1__.Button(btnWrapper1.node, 'gamepage__answer', `${index + 1}. ${btnText}`, () => this.onAnswer(index)));
        });
        const btnWrapper2 = new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(this.node, 'div', 'gamepage__btn-wrapper');
        this.btnNext = new _components_Button__WEBPACK_IMPORTED_MODULE_1__.Button(btnWrapper2.node, 'gamepage__next', 'Next', () => {
            if (this.isAnswered)
                this.onNext(this.answer);
        });
        this.btnBack = new _components_Button__WEBPACK_IMPORTED_MODULE_1__.Button(btnWrapper2.node, 'gamepage__back', 'Quit', () => onExit());
        this.keyHandlerBind = this.keyHandler.bind(this);
        window.addEventListener('keyup', this.keyHandlerBind);
        this.isAnswered = false;
    }
    /**
     * Обработчик события KeyboardEvent для выбора с клавиатуры
     * @param e Событие KeyboardEvent
     */
    keyHandler(e) {
        if (e.key > '0' && e.key <= `${ANSWER_BUTTONS}`) {
            this.onAnswer(parseInt(e.key) - 1);
        }
        if (e.key === 'Enter' && this.isAnswered) {
            this.onNext(this.answer);
        }
    }
    destroy() {
        window.removeEventListener('keyup', this.keyHandlerBind);
        super.destroy();
    }
    onAnswer(index) {
        if (this.isAnswered)
            return;
        this.isAnswered = true;
        this.answer = this.answers[index] === this.word.wordTranslate;
        this.btnMass[index].node.classList.add(this.answer ? 'answer_right' : 'answer_wrong');
        this.btnPlay.destroy();
        const img = new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(this.audioWindow.node, 'img', 'audio-window__img');
        img.node.src = `${_basic__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/${this.word.image}`;
        img.node.alt = `${this.word.word}`;
        const rightWnd = new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(this.audioWindow.node, 'div', 'audio-window__right-box');
        new _components_Button__WEBPACK_IMPORTED_MODULE_1__.Button(rightWnd.node, 'audio-window__play', '', () => this.playWord());
        new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(rightWnd.node, 'span', '', this.word.word);
        new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(rightWnd.node, 'span', 'audio-window__trascript', this.word.transcription);
        new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(rightWnd.node, 'span', '', ` - ${this.word.wordTranslate}`);
        new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(rightWnd.node, 'div', 'audio-window__text', this.word.textExample);
        new _components_Creator__WEBPACK_IMPORTED_MODULE_2__.Creator(rightWnd.node, 'div', 'audio-window__text', this.word.textExampleTranslate);
    }
    playWord() {
        void this.audio.play();
    }
    /**
     * Возвращает случайное число, не больше maxInt
     * @param maxInt Максимальное число
     * @returns Случайное числе не больше maxInt
     */
    getRandomInt(maxInt) {
        return Math.floor(Math.random() * maxInt);
    }
    /**
     * Возвращает массив случайных чисел
     * @param amount Количество чисел в массиве
     * @param maxNumber Максимальное число
     * @param exclude Исключить число
     * @returns Массив случайных чисел
     */
    generateRandomSequence(amount, maxNumber, exclude) {
        const mass = [];
        while (mass.length < amount) {
            const n = this.getRandomInt(maxNumber);
            if (n === exclude || mass.includes(n))
                continue;
            mass.push(n);
        }
        return mass;
    }
}


/***/ }),

/***/ "./src/app/pages/AudioCallPage/AudioCallResultPage/AudioCallResultPage.ts":
/*!********************************************************************************!*\
  !*** ./src/app/pages/AudioCallPage/AudioCallResultPage/AudioCallResultPage.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AudioCallResultPage)
/* harmony export */ });
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../basic */ "./src/app/basic/index.ts");
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components */ "./src/app/components/index.ts");
/* harmony import */ var _result_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./result.scss */ "./src/app/pages/AudioCallPage/AudioCallResultPage/result.scss");



class AudioCallResultPage extends _components__WEBPACK_IMPORTED_MODULE_1__.Creator {
    constructor(parent, gameWords, gameResult, onExit) {
        super(parent, 'div', 'result', ` <input type="radio" class="result__radio" name="radio" id="radio1" checked>
        <input type="radio" class="result__radio" name="radio" id="radio2">`);
        // const radio1 = new Creator<HTMLInputElement>(this.node, 'input', 'result__checkbox');
        // radio1.node.type = 'radio';
        // radio1.node.name = 'radio';
        // radio1.node.id = 'radio1';
        // radio1.node.checked = true;
        // const radio2 = new Creator<HTMLInputElement>(this.node, 'input', 'result__checkbox');
        // radio2.node.type = 'radio';
        // radio2.node.name = 'radio';
        // radio2.node.id = 'radio2';
        const rightAnswers = gameResult.filter((el) => el).length;
        const wnd = new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(this.node, 'div', 'result__main-window');
        // Левое окно
        const wndLeft = new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(wnd.node, 'div', 'result__window-left', ` <div class="result__word_middle"><div class="result__result-sign result-sign_right"></div>
          <span>Правильных ответов: ${rightAnswers}</span></div>
        <div class="result__word_middle"><div class="result__result-sign result-sign_wrong"></div>
          <span>Неправильных ответов: ${gameResult.length - rightAnswers}</span></div>
        <br>
        <div class="result__word_middle">Ваш результат: ${Math.round((rightAnswers * 100) / gameResult.length)} %</div>`);
        const svgWrapper = new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(wndLeft.node, 'div', 'result__svg-wrapper');
        const diagram = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        diagram.setAttributeNS(null, 'viewBox', '0 0 100 100');
        diagram.setAttributeNS(null, 'width', '200');
        diagram.setAttributeNS(null, 'height', '200');
        this.drawPie(diagram, rightAnswers / gameResult.length);
        svgWrapper.node.append(diagram);
        // Правое окно
        const rightWnd = new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(wnd.node, 'div', 'result__window-right');
        const frame = new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(rightWnd.node, 'div', 'result__frame');
        gameWords.forEach((word, index) => {
            const audio = new Audio(`${_basic__WEBPACK_IMPORTED_MODULE_0__.baseUrl}/${word.audio}`);
            const line = new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(frame.node, 'div', 'result__line');
            const result = new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(line.node, 'div', 'result__result-sign');
            result.node.classList.add(gameResult[index] ? 'result-sign_right' : 'result-sign_wrong');
            const btn = new _components__WEBPACK_IMPORTED_MODULE_1__.Button(line.node, 'result__play', '', () => audio.play());
            btn.node.disabled = true;
            audio.oncanplaythrough = () => {
                btn.node.disabled = false;
            };
            new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(line.node, 'span', 'result__word', word.word);
            new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(line.node, 'span', 'result__trascript', word.transcription);
            new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(line.node, 'span', 'result__word', ` - ${word.wordTranslate}`);
        });
        const lowBar = new _components__WEBPACK_IMPORTED_MODULE_1__.Creator(this.node, 'div', 'low-bar', `<div></div><div class="low-bar__label-wrapper">
          <label for="radio1" class="low-bar__label"></label>
          <label for="radio2" class="low-bar__label"></label>
        </div>`);
        new _components__WEBPACK_IMPORTED_MODULE_1__.Button(lowBar.node, 'result__exit', 'Exit', () => onExit());
    }
    drawPie(element, angle) {
        const drSegment = function (style, ange1, ange2) {
            let dir = '0';
            if (ange2 - ange1 > 0.5)
                dir = '1';
            const angle1 = Math.PI * 2 * ange1;
            const angle2 = Math.PI * 2 * ange2;
            const rad = 45, cx = 50, cy = 50;
            const dx1 = Math.sin(angle1) * rad + cx;
            const dy1 = -Math.cos(angle1) * rad + cy;
            const dx2 = Math.sin(angle2) * rad + cx;
            const dy2 = -Math.cos(angle2) * rad + cy;
            const el = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            el.setAttributeNS(null, 'style', style);
            el.setAttributeNS(null, 'd', `M ${dx1},${dy1} A ${rad},${rad} 0 ${dir} 1 ${dx2},${dy2} L ${cx},${cy} Z`);
            element.appendChild(el);
        };
        if (angle !== 0) {
            drSegment('fill:lime; stroke:black; stroke-width:3;', 0, angle);
            drSegment('fill:red; stroke:black; stroke-width:3;', angle, 1);
        }
        else {
            drSegment('fill:red; stroke:black; stroke-width:3;', 0, 0.99);
        }
    }
}


/***/ }),

/***/ "./src/app/pages/AudioCallPage/AudioCallRules/AudioCallRules.ts":
/*!**********************************************************************!*\
  !*** ./src/app/pages/AudioCallPage/AudioCallRules/AudioCallRules.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AudioCallRules)
/* harmony export */ });
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../components/Button */ "./src/app/components/Button/index.ts");
/* harmony import */ var _components_Creator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _basic_common_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../basic/common/constants */ "./src/app/basic/common/constants.ts");
/* harmony import */ var _rules_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rules.scss */ "./src/app/pages/AudioCallPage/AudioCallRules/rules.scss");




class AudioCallRules extends _components_Creator__WEBPACK_IMPORTED_MODULE_1__.Creator {
    constructor(parent, fromBook = false) {
        super(parent, 'div', 'rules');
        const wnd = new _components_Creator__WEBPACK_IMPORTED_MODULE_1__.Creator(this.node, 'div', 'rules__window', `
        <h2 class="rules__title">Правила игры "Аудиовызов"</h2>
        <p class="rules__rules">Игра "Аудиовызов" позволяет улучшить восприятие слов на слух.</p>
        <p class="rules__rules">Вы должны выбрать перевод услышанного слова.</p>
        <p class="rules__rules">Управлять можно кнопками 1 - 5 выбор, Enter - следущий</p>
      `);
        const btnWrapper = new _components_Creator__WEBPACK_IMPORTED_MODULE_1__.Creator(wnd.node, 'div', 'rules__btn-wrapper');
        if (fromBook) {
            new _components_Button__WEBPACK_IMPORTED_MODULE_0__.Button(btnWrapper.node, 'rules__button', 'Ok', () => this.onClick(0));
        }
        else {
            btnWrapper.node.innerHTML += '<p class="rules__rules">Выберите группу сложности:</p>';
            for (let i = 1; i <= _basic_common_constants__WEBPACK_IMPORTED_MODULE_2__.GROUP_AMOUNT; i++) {
                const btn = new _components_Button__WEBPACK_IMPORTED_MODULE_0__.Button(btnWrapper.node, 'rules__button', `${i}`, () => this.onClick(i));
                btn.node.style.backgroundColor = this.getColorFromNumber(i);
            }
        }
        this.keyHandlerBind = this.keyHandler.bind(this);
        window.addEventListener('keyup', this.keyHandlerBind);
    }
    /**
     * Обработчик события KeyboardEvent для выбора с клавиатуры
     * @param e Событие KeyboardEvent
     */
    keyHandler(e) {
        if (e.key > '0' && e.key <= `${_basic_common_constants__WEBPACK_IMPORTED_MODULE_2__.GROUP_AMOUNT}`) {
            this.onClick(parseInt(e.key));
        }
    }
    destroy() {
        window.removeEventListener('keyup', this.keyHandlerBind);
        super.destroy();
    }
    getColorFromNumber(num) {
        let str = '#';
        str += num & 1 ? 'ff' : '00';
        str += num & 2 ? 'ff' : '00';
        str += num & 4 ? 'ff' : '00';
        return str;
    }
}


/***/ }),

/***/ "./src/app/pages/AudioCallPage/index.ts":
/*!**********************************************!*\
  !*** ./src/app/pages/AudioCallPage/index.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AudioCall": () => (/* reexport safe */ _AudioCall__WEBPACK_IMPORTED_MODULE_0__.AudioCall)
/* harmony export */ });
/* harmony import */ var _AudioCall__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AudioCall */ "./src/app/pages/AudioCallPage/AudioCall.ts");



/***/ }),

/***/ "./src/app/pages/AuthPage/AuthPage.model.ts":
/*!**************************************************!*\
  !*** ./src/app/pages/AuthPage/AuthPage.model.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AuthPageModel)
/* harmony export */ });
/* harmony import */ var _basic_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../basic/api */ "./src/app/basic/api/index.ts");

class AuthPageModel {
    /**
     * Производит регистрацию нового пользователя
     * @param name Имя пользователя
     * @param email е-мейл пользователя
     * @param password Пароль пользователя
     * @returns Данные о регистрации или ошибку
     */
    async registerNewUser(name, email, password) {
        return _basic_api__WEBPACK_IMPORTED_MODULE_0__.Api.createNewUser({ name, email, password });
    }
    /**
     * Производит логин пользователя
     * @param email Логин пользователя
     * @param password Пароль пользователя
     * @returns Токен логина или ошибка
     */
    async loginUser(email, password) {
        return _basic_api__WEBPACK_IMPORTED_MODULE_0__.Api.loginUser({ email, password });
    }
    /**
     * Записыват токен и ИД пользователя для дальнейших запросов
     * @param response Токен логина и ИД
     */
    setAuthData(response) {
        _basic_api__WEBPACK_IMPORTED_MODULE_0__.Api.setAuthData(response);
    }
}


/***/ }),

/***/ "./src/app/pages/AuthPage/AuthPage.ts":
/*!********************************************!*\
  !*** ./src/app/pages/AuthPage/AuthPage.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AuthPage": () => (/* binding */ AuthPage)
/* harmony export */ });
/* harmony import */ var _AuthPage_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AuthPage.model */ "./src/app/pages/AuthPage/AuthPage.model.ts");
/* harmony import */ var _AuthPage_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AuthPage.view */ "./src/app/pages/AuthPage/AuthPage.view.ts");
/* harmony import */ var _basic_enums_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../basic/enums/enums */ "./src/app/basic/enums/enums.ts");
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../basic */ "./src/app/basic/index.ts");




const TOKEN_WORK_TIME = 4; //часа
class AuthPage {
    constructor(parent) {
        this.parent = parent;
        this.authPageModel = new _AuthPage_model__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.authPageView = new _AuthPage_view__WEBPACK_IMPORTED_MODULE_1__["default"](this.parent);
        this.authPageView.onClick = (text) => this.onClick(text);
    }
    render() {
        this.authPageView.render();
    }
    /**
     * Обработчик нажатия кнопки регистрации или логина
     * @param text Строка нажатой кнопки
     */
    onClick(text) {
        const [name, login, password] = this.authPageView.getLoginData();
        if (text === _basic_enums_enums__WEBPACK_IMPORTED_MODULE_2__.ERegisterButtonText.cancel) {
            this.destroy();
            this.tryLaunchExit();
        }
        else if (text === _basic_enums_enums__WEBPACK_IMPORTED_MODULE_2__.ERegisterButtonText.login) {
            this.authPageView.setMessageText('Logining ...', 'green');
            this.loginUser(login, password);
        }
        else {
            void this.authPageModel.registerNewUser(name, login, password).then((response) => {
                if ('errorMessage' in response) {
                    this.authPageView.setMessageText(response.errorMessage);
                }
                else {
                    this.loginUser(login, password);
                }
            });
        }
    }
    /**
     * Производит логин пользователя. В случае успеха закрывает окно
     * @param login Логин
     * @param password Пароль
     */
    loginUser(login, password) {
        void this.authPageModel.loginUser(login, password).then((response) => {
            if ('errorMessage' in response) {
                this.authPageView.setMessageText(response.errorMessage);
            }
            else {
                this.authPageModel.setAuthData(response);
                this.saveAuthToLocalStorage();
                this.destroy();
                this.tryLaunchExit();
            }
        });
    }
    /**
     * Удаляет окно из DOM
     */
    destroy() {
        // TODO Сделать плавную анимацию исчезновеня
        this.authPageView.destroy();
    }
    /**
     * Функция запускает переданную функцию перед выходом
     */
    tryLaunchExit() {
        if (this.onExit !== undefined) {
            this.onExit();
        }
    }
    saveAuthToLocalStorage() {
        const auth = _basic__WEBPACK_IMPORTED_MODULE_3__.Api.getAuthToken();
        if (auth !== null) {
            auth.time = Date.now();
            localStorage.setItem('rslang-auth', JSON.stringify(auth));
        }
    }
    restoreAuthFromLocalStorage() {
        const str = localStorage.getItem('rslang-auth');
        if (!str)
            return false;
        try {
            const auth = JSON.parse(str);
            if (!auth)
                return false;
            if (!auth.userId || typeof auth.userId !== 'string')
                return false;
            if (!auth.token || typeof auth.token !== 'string')
                return false;
            if (!auth.refreshToken || typeof auth.refreshToken !== 'string')
                return false;
            if (!auth.time || typeof auth.time !== 'number')
                return false;
            const timePast = (Date.now() - auth.time) / 60 / 60 / 1000; // в часах
            if (timePast < TOKEN_WORK_TIME) {
                _basic__WEBPACK_IMPORTED_MODULE_3__.Api.setAuthData({
                    message: '',
                    token: auth.token,
                    refreshToken: auth.refreshToken,
                    userId: auth.userId,
                    name: '',
                }, auth.time);
                return true;
            }
            else {
                void _basic__WEBPACK_IMPORTED_MODULE_3__.Api.getUserNewToken().then((tokens) => {
                    if ('token' in tokens) {
                        const user = _basic__WEBPACK_IMPORTED_MODULE_3__.Api.getAuthToken();
                        _basic__WEBPACK_IMPORTED_MODULE_3__.Api.setAuthData({
                            message: '',
                            token: tokens.token,
                            refreshToken: tokens.refreshToken,
                            userId: user ? user.userId : '',
                            name: '',
                        }, Date.now());
                    }
                });
                return true;
            }
        }
        catch {
            return false;
        }
    }
    isAuthorized() {
        if (_basic__WEBPACK_IMPORTED_MODULE_3__.Api.isAuthorized())
            return true;
        if (this.restoreAuthFromLocalStorage())
            return true;
        return false;
    }
}


/***/ }),

/***/ "./src/app/pages/AuthPage/AuthPage.view.ts":
/*!*************************************************!*\
  !*** ./src/app/pages/AuthPage/AuthPage.view.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AuthPageView)
/* harmony export */ });
/* harmony import */ var _components_Creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/Button */ "./src/app/components/Button/index.ts");
/* harmony import */ var _LabelInput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LabelInput */ "./src/app/pages/AuthPage/LabelInput.ts");
/* harmony import */ var _register_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./register.scss */ "./src/app/pages/AuthPage/register.scss");
/* harmony import */ var _basic_enums_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../basic/enums/enums */ "./src/app/basic/enums/enums.ts");





class AuthPageView {
    constructor(parent) {
        this.parent = parent;
    }
    render() {
        this.screen = new _components_Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(this.parent, 'div', 'register');
        this.wnd = new _components_Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(this.screen.node, 'div', 'register__window');
        this.name = new _LabelInput__WEBPACK_IMPORTED_MODULE_2__["default"](this.wnd.node, 'Name');
        this.email = new _LabelInput__WEBPACK_IMPORTED_MODULE_2__["default"](this.wnd.node, 'E-Mail');
        this.email.setInputType('email');
        this.password = new _LabelInput__WEBPACK_IMPORTED_MODULE_2__["default"](this.wnd.node, 'Password');
        this.password.setInputType('password');
        this.message = new _components_Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(this.wnd.node, 'div', 'register__message');
        this.btnLogin = new _components_Button__WEBPACK_IMPORTED_MODULE_1__.Button(this.wnd.node, 'register__button', _basic_enums_enums__WEBPACK_IMPORTED_MODULE_4__.ERegisterButtonText.login, this.onClick);
        this.btnPassword = new _components_Button__WEBPACK_IMPORTED_MODULE_1__.Button(this.wnd.node, 'register__button', _basic_enums_enums__WEBPACK_IMPORTED_MODULE_4__.ERegisterButtonText.register, this.onClick);
        this.btnCancel = new _components_Button__WEBPACK_IMPORTED_MODULE_1__.Button(this.wnd.node, 'register__button', _basic_enums_enums__WEBPACK_IMPORTED_MODULE_4__.ERegisterButtonText.cancel, this.onClick);
    }
    destroy() {
        // TODO Сделать плавное исчезание
        this.screen.destroy();
    }
    /**
     * Получает из формы имя, логин и пароль
     * @returns Имя, логин и пароль
     */
    getLoginData() {
        return [this.name.getValue(), this.email.getValue(), this.password.getValue()];
    }
    /**
     * Выводит сообщение об ошибке
     * @param text Текст для вывода
     */
    setMessageText(text, color) {
        this.message.node.textContent = text;
        this.message.node.style.color = color ? color : '';
    }
}


/***/ }),

/***/ "./src/app/pages/AuthPage/LabelInput.ts":
/*!**********************************************!*\
  !*** ./src/app/pages/AuthPage/LabelInput.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ LabelInput)
/* harmony export */ });
/* harmony import */ var _components_Creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/Input */ "./src/app/components/Input/index.ts");


class LabelInput {
    constructor(parent, name) {
        this.wnd = new _components_Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(parent, 'div', 'input__wrapper');
        this.span = new _components_Creator__WEBPACK_IMPORTED_MODULE_0__.Creator(this.wnd.node, 'span', 'input__span', name);
        this.input = new _components_Input__WEBPACK_IMPORTED_MODULE_1__.Input(this.wnd.node, 'input__input');
    }
    /**
     * Получает значение поля инпута
     * @returns Текст в поле инпута
     */
    getValue() {
        return this.input.getValue();
    }
    /**
     * Устанавливает тип инпута отличный от type='text'
     * @param type Тип инпута
     */
    setInputType(type) {
        this.input.node.type = type;
    }
}


/***/ }),

/***/ "./src/app/pages/AuthPage/index.ts":
/*!*****************************************!*\
  !*** ./src/app/pages/AuthPage/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AuthPage": () => (/* reexport safe */ _AuthPage__WEBPACK_IMPORTED_MODULE_0__.AuthPage)
/* harmony export */ });
/* harmony import */ var _AuthPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AuthPage */ "./src/app/pages/AuthPage/AuthPage.ts");



/***/ }),

/***/ "./src/app/pages/LoadingPage/LoadingPage.ts":
/*!**************************************************!*\
  !*** ./src/app/pages/LoadingPage/LoadingPage.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ LoadingPage)
/* harmony export */ });
/* harmony import */ var _components_Creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/Creator */ "./src/app/components/Creator/index.ts");
/* harmony import */ var _loadingpage_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loadingpage.scss */ "./src/app/pages/LoadingPage/loadingpage.scss");


class LoadingPage extends _components_Creator__WEBPACK_IMPORTED_MODULE_0__.Creator {
    constructor(parent) {
        super(parent, 'div', 'loading');
        this.node.innerHTML = `
      <div class="loading__text">Loading...</div>
      <div class="loading__outer-box">
        <div class="loading__inner-box inner-box1"></div>
        <div class="loading__inner-box inner-box2"></div>
        <div class="loading__inner-box inner-box3"></div>
        <div class="loading__inner-box inner-box4"></div>
      </div>
    `;
    }
}


/***/ }),

/***/ "./src/app/pages/TextbookPage/index.ts":
/*!*********************************************!*\
  !*** ./src/app/pages/TextbookPage/index.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Textbook": () => (/* reexport safe */ _textbook__WEBPACK_IMPORTED_MODULE_0__.Textbook),
/* harmony export */   "TextbookView": () => (/* reexport safe */ _textbook_view__WEBPACK_IMPORTED_MODULE_1__.TextbookView)
/* harmony export */ });
/* harmony import */ var _textbook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textbook */ "./src/app/pages/TextbookPage/textbook.ts");
/* harmony import */ var _textbook_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./textbook.view */ "./src/app/pages/TextbookPage/textbook.view.ts");




/***/ }),

/***/ "./src/app/pages/TextbookPage/textbook.ts":
/*!************************************************!*\
  !*** ./src/app/pages/TextbookPage/textbook.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Textbook": () => (/* binding */ Textbook)
/* harmony export */ });
/* harmony import */ var _textbook_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textbook.view */ "./src/app/pages/TextbookPage/textbook.view.ts");
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components */ "./src/app/components/index.ts");
/* harmony import */ var _basic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../basic */ "./src/app/basic/index.ts");



class Textbook {
    constructor(parentNode) {
        this.parentNode = parentNode;
    }
    render() {
        const textbook = new _textbook_view__WEBPACK_IMPORTED_MODULE_0__.TextbookView(this.parentNode);
        this.renderGroupButtons(textbook);
        this.renderPagination(textbook);
        this.renderGroup(textbook);
    }
    renderGroupButtons(textbook) {
        Object.entries(_basic__WEBPACK_IMPORTED_MODULE_2__.groups).forEach((item) => {
            new _components__WEBPACK_IMPORTED_MODULE_1__.WordGroupButton(textbook, item);
        });
    }
    renderPagination(textbook) {
        const pagination = new _components__WEBPACK_IMPORTED_MODULE_1__.WordPagination(textbook);
        pagination.paginate(_basic__WEBPACK_IMPORTED_MODULE_2__.maxWordsPages);
    }
    renderGroup(textbook) {
        const wordGroup = new _components__WEBPACK_IMPORTED_MODULE_1__.WordGroup(textbook);
        void wordGroup.renderCards();
    }
}


/***/ }),

/***/ "./src/app/pages/TextbookPage/textbook.view.ts":
/*!*****************************************************!*\
  !*** ./src/app/pages/TextbookPage/textbook.view.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextbookView": () => (/* binding */ TextbookView)
/* harmony export */ });
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components */ "./src/app/components/index.ts");
/* harmony import */ var _textbook_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./textbook.scss */ "./src/app/pages/TextbookPage/textbook.scss");


class TextbookView {
    constructor(parentNode) {
        this.textbook = new _components__WEBPACK_IMPORTED_MODULE_0__.Creator(parentNode, 'div', 'textbook');
        this.textbookHeader = new _components__WEBPACK_IMPORTED_MODULE_0__.Creator(this.textbook.node, 'div', 'textbook__header');
        this.group = new _components__WEBPACK_IMPORTED_MODULE_0__.Creator(this.textbookHeader.node, 'div', 'group');
        this.words = new _components__WEBPACK_IMPORTED_MODULE_0__.Creator(this.textbook.node, 'div', 'words');
        this.title = new _components__WEBPACK_IMPORTED_MODULE_0__.Creator(this.words.node, 'h1', 'words__title', 'Слова');
        this.wordsContainer = new _components__WEBPACK_IMPORTED_MODULE_0__.Creator(this.words.node, 'div', 'words__container');
        this.activeGroup = this.title.node;
    }
}


/***/ }),

/***/ "./src/app/pages/index.ts":
/*!********************************!*\
  !*** ./src/app/pages/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Textbook": () => (/* reexport safe */ _TextbookPage__WEBPACK_IMPORTED_MODULE_0__.Textbook),
/* harmony export */   "TextbookView": () => (/* reexport safe */ _TextbookPage__WEBPACK_IMPORTED_MODULE_0__.TextbookView)
/* harmony export */ });
/* harmony import */ var _TextbookPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextbookPage */ "./src/app/pages/TextbookPage/index.ts");



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/index.scss */ "./src/styles/index.scss");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app */ "./src/app/index.ts");


const app = new _app__WEBPACK_IMPORTED_MODULE_1__.App();
app.start();

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWdCLHFDQUFHO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0FkdmFudGFnZXMvYWR2YW50YWdlcy5zY3NzPzk4ZmUiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0NhcmRPcHBvcnR1bml0aWVzL2NhcmQtb3Bwb3J0dW5pdGllcy5zY3NzP2IwOTUiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0NhcmRUZWFtL2NhcmQtdGVhbS5zY3NzPzk5MTUiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0Zvb3Rlci9mb290ZXIuc2Nzcz8yMWE1Iiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9IZWFkZXIvaGVhZGVyLnNjc3M/ZTllYiIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvTWFpbi9tYWluLnNjc3M/ZDM4OSIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvVGV4dGJvb2svV29yZENhcmQvd29yZENhcmQuc2Nzcz80ODY0Iiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0Ym9vay9Xb3JkRGV0YWlscy93b3JkRGV0YWlscy5zY3NzPzY1ZjgiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL1RleHRib29rL1dvcmRHcm91cEJ1dHRvbi93b3JkR3JvdXBCdXR0b24uc2Nzcz85YzYxIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0Ym9vay9Xb3JkUGFnaW5hdGlvbi93b3JkUGFnaW5hdGlvbi5zY3NzPzQxMGIiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9BdWRpb0NhbGxQYWdlL0F1ZGlvQ2FsbEdhbWVQYWdlL2dhbWVwYWdlLnNjc3M/ZmE5NyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL3BhZ2VzL0F1ZGlvQ2FsbFBhZ2UvQXVkaW9DYWxsUmVzdWx0UGFnZS9yZXN1bHQuc2Nzcz9kNzY1Iiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvcGFnZXMvQXVkaW9DYWxsUGFnZS9BdWRpb0NhbGxSdWxlcy9ydWxlcy5zY3NzPzQ0NWEiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9BdXRoUGFnZS9yZWdpc3Rlci5zY3NzPzRmNTkiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9Mb2FkaW5nUGFnZS9sb2FkaW5ncGFnZS5zY3NzPzVlOGMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9UZXh0Ym9va1BhZ2UvdGV4dGJvb2suc2Nzcz8xOTU2Iiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9zdHlsZXMvaW5kZXguc2Nzcz8zOGE1Iiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYXBwLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYXBwLnZpZXcudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9hcGkvYXBpLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvYXBpL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvY29tbW9uL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL2NvbW1vbi9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL2VudW1zL2VudW1zLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvZW51bXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9ldmVudHMvYXV0aC1idXR0b24tY2xpY2suZXZlbnQudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9ldmVudHMvZ2FtZXMtY2xpY2suZXZlbnQudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9ldmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9ldmVudHMvbWFpbi1jbGljay5ldmVudC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL2V2ZW50cy9tb2RlbHMvaGVhZGVyLW1lbnUubW9kZWwudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9ldmVudHMvbW9kZWxzL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvZXZlbnRzL3N0YXRpc3RpY3MtY2xpY2suZXZlbnQudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9ldmVudHMvdGV4dC1ib29rcy1jbGljay5ldmVudC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvaW50ZXJmYWNlcy9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL2ludGVyZmFjZXMvaW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL2ludGVyZmFjZXMvdGV4dGJvb2svaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9pbnRlcmZhY2VzL3RleHRib29rL3RleHRib29rLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvaW50ZXJmYWNlcy90ZXh0Ym9vay93b3JkQ2FyZC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL2ludGVyZmFjZXMvdGV4dGJvb2svd29yZERldGFpbHMudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9iYXNpYy9pbnRlcmZhY2VzL3RleHRib29rL3dvcmRHcm91cC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL2ludGVyZmFjZXMvdGV4dGJvb2svd29yZEdyb3VwQnV0dG9uLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvcm91dGVyL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvcm91dGVyL3JvdXRlci50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL3NlcnZpY2VzL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvc2VydmljZXMvdGV4dGJvb2suc2VydmljZS50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2Jhc2ljL3R5cGVzL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvYmFzaWMvdHlwZXMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0FkdmFudGFnZXMvYWR2YW50YWdlcy50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvQWR2YW50YWdlcy9hZHZhbnRhZ2VzLnZpZXcudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0FkdmFudGFnZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0J1dHRvbi9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvQ2FyZE9wcG9ydHVuaXRpZXMvY2FyZC1vcHBvcnR1bml0aWVzLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9DYXJkT3Bwb3J0dW5pdGllcy9jYXJkLW9wcG9ydHVuaXRpZXMudmlldy50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvQ2FyZE9wcG9ydHVuaXRpZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0NhcmRPcHBvcnR1bml0aWVzL21vZGVscy9jYXJkLW9wcG9ydHVuaXRpZXMubW9kZWwudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0NhcmRPcHBvcnR1bml0aWVzL21vZGVscy9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvQ2FyZFRlYW0vY2FyZC10ZWFtLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9DYXJkVGVhbS9jYXJkLXRlYW0udmlldy50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvQ2FyZFRlYW0vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0NhcmRUZWFtL21vZGVscy9jYXJkLXRlYW0ubW9kZWwudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0NhcmRUZWFtL21vZGVscy9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvQ3JlYXRvci9DcmVhdG9yLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9DcmVhdG9yL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9Gb290ZXIvZm9vdGVyLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9Gb290ZXIvZm9vdGVyLnZpZXcudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0Zvb3Rlci9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvSGVhZGVyL2hlYWRlci50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvSGVhZGVyL2hlYWRlci52aWV3LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9IZWFkZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL0lucHV0L0lucHV0LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9JbnB1dC9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvTWFpbi9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL01haW4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL01haW4vbWFpbi50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvTWFpbi9tYWluLnZpZXcudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL01haW4vbW9kZWxzL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9NYWluL21vZGVscy9yb290LmVudW0udHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL1RleHRib29rL1dvcmRDYXJkL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0Ym9vay9Xb3JkQ2FyZC93b3JkQ2FyZC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvVGV4dGJvb2svV29yZENhcmQvd29yZENhcmQudmlldy50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvVGV4dGJvb2svV29yZERldGFpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL1RleHRib29rL1dvcmREZXRhaWxzL3dvcmREZXRhaWxzLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0Ym9vay9Xb3JkRGV0YWlscy93b3JkRGV0YWlscy52aWV3LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0Ym9vay9Xb3JkR3JvdXBCdXR0b24vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL1RleHRib29rL1dvcmRHcm91cEJ1dHRvbi93b3JkR3JvdXBCdXR0b24udHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL1RleHRib29rL1dvcmRHcm91cEJ1dHRvbi93b3JkR3JvdXBCdXR0b24udmlldy50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvVGV4dGJvb2svV29yZEdyb3VwL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0Ym9vay9Xb3JkR3JvdXAvd29yZEdyb3VwLnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0Ym9vay9Xb3JkR3JvdXAvd29yZEdyb3VwLnZpZXcudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL1RleHRib29rL1dvcmRQYWdpbmF0aW9uL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0Ym9vay9Xb3JkUGFnaW5hdGlvbi93b3JkUGFnaW5hdGlvbi50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvVGV4dGJvb2svV29yZFBhZ2luYXRpb24vd29yZFBhZ2luYXRpb24udmlldy50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2NvbXBvbmVudHMvVGV4dGJvb2svaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9jb21wb25lbnRzL2Jhc2UtY29tcG9uZW50LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvY29tcG9uZW50cy9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvcGFnZXMvQXVkaW9DYWxsUGFnZS9BdWRpb0NhbGwubW9kZWwudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9BdWRpb0NhbGxQYWdlL0F1ZGlvQ2FsbC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL3BhZ2VzL0F1ZGlvQ2FsbFBhZ2UvQXVkaW9DYWxsR2FtZVBhZ2UvQXVkaW9DYWxsR2FtZVBhZ2UudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9BdWRpb0NhbGxQYWdlL0F1ZGlvQ2FsbFJlc3VsdFBhZ2UvQXVkaW9DYWxsUmVzdWx0UGFnZS50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL3BhZ2VzL0F1ZGlvQ2FsbFBhZ2UvQXVkaW9DYWxsUnVsZXMvQXVkaW9DYWxsUnVsZXMudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9BdWRpb0NhbGxQYWdlL2luZGV4LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvcGFnZXMvQXV0aFBhZ2UvQXV0aFBhZ2UubW9kZWwudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9BdXRoUGFnZS9BdXRoUGFnZS50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL3BhZ2VzL0F1dGhQYWdlL0F1dGhQYWdlLnZpZXcudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9BdXRoUGFnZS9MYWJlbElucHV0LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvcGFnZXMvQXV0aFBhZ2UvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2FwcC9wYWdlcy9Mb2FkaW5nUGFnZS9Mb2FkaW5nUGFnZS50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL3BhZ2VzL1RleHRib29rUGFnZS9pbmRleC50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL3BhZ2VzL1RleHRib29rUGFnZS90ZXh0Ym9vay50cyIsIndlYnBhY2s6Ly9yc2xhbmcvLi9zcmMvYXBwL3BhZ2VzL1RleHRib29rUGFnZS90ZXh0Ym9vay52aWV3LnRzIiwid2VicGFjazovL3JzbGFuZy8uL3NyYy9hcHAvcGFnZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNsYW5nL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JzbGFuZy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcnNsYW5nL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcnNsYW5nL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcnNsYW5nLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsImltcG9ydCB7IEFwcFZpZXcgfSBmcm9tICcuL2FwcC52aWV3JztcclxuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnLi9iYXNpYyc7XHJcbmltcG9ydCB7IE1haW4gfSBmcm9tICcuL2NvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBUZXh0Ym9vayB9IGZyb20gJy4vcGFnZXMnO1xyXG5pbXBvcnQgeyBBdWRpb0NhbGwgfSBmcm9tICcuL3BhZ2VzL0F1ZGlvQ2FsbFBhZ2UnO1xyXG5pbXBvcnQgeyBBdXRoUGFnZSB9IGZyb20gJy4vcGFnZXMvQXV0aFBhZ2UnO1xyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb290Jyk7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IEFwcFZpZXcodGhpcy5yb290KTtcclxuICAgICAgICB0aGlzLnJvdXRlcyA9IHtcclxuICAgICAgICAgICAgJy8nOiBNYWluLFxyXG4gICAgICAgICAgICBhdXRoOiBBdXRoUGFnZSxcclxuICAgICAgICAgICAgZ2FtZXM6IFRleHRib29rLFxyXG4gICAgICAgICAgICBzcHJpbnQ6IFRleHRib29rLFxyXG4gICAgICAgICAgICB0ZXh0Ym9vazogVGV4dGJvb2ssXHJcbiAgICAgICAgICAgIGF1ZGlvY2FsbDogQXVkaW9DYWxsLFxyXG4gICAgICAgICAgICBzdGF0aXN0aWNzOiBUZXh0Ym9vayxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucm91dGVyID0gbmV3IFJvdXRlcih0aGlzLnJvb3QsIHRoaXMudmlldywgdGhpcy5yb3V0ZXMpO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIucnVuKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSGVhZGVyLCBNYWluLCBGb290ZXIgfSBmcm9tICcuLyc7XHJcbmV4cG9ydCBjbGFzcyBBcHBWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHJvb3QpIHtcclxuICAgICAgICB0aGlzLnJvb3QgPSByb290O1xyXG4gICAgICAgIHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcihyb290KTtcclxuICAgICAgICB0aGlzLmhlYWRlci5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5tYWluID0gbmV3IE1haW4ocm9vdCk7XHJcbiAgICAgICAgdGhpcy5tYWluLmluaXQoKTtcclxuICAgICAgICB0aGlzLmZvb3RlciA9IG5ldyBGb290ZXIocm9vdCk7XHJcbiAgICAgICAgdGhpcy5mb290ZXIuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyR2FtZShyb3V0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QpXHJcbiAgICAgICAgICAgIHRoaXMucm9vdC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICByb3V0ZS5yZW5kZXIoKTtcclxuICAgIH1cclxuICAgIHJlbmRlclBhZ2Uocm91dGUpIHtcclxuICAgICAgICBpZiAodGhpcy5yb290KVxyXG4gICAgICAgICAgICB0aGlzLnJvb3QuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgdGhpcy5oZWFkZXIuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMubWFpbi5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5tYWluLmluc3RhbmNlLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHRoaXMuZm9vdGVyLmluaXQoKTtcclxuICAgICAgICByb3V0ZS5yZW5kZXIoKTtcclxuICAgIH1cclxuICAgIHJlbmRlck1vZGFsKHJvdXRlLCBwcmV2aW91c1JvdXRlKSB7XHJcbiAgICAgICAgcm91dGUub25FeGl0ID0gKCkgPT4gKHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gcHJldmlvdXNSb3V0ZSk7XHJcbiAgICAgICAgcm91dGUucmVuZGVyKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgYmFzZVVybCB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xyXG5leHBvcnQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKC4uLnJlc3QpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGNsYXNzIGNhbid0IGJlIGludm9rZWQgdGhyb3VnaCBjb25zdHJ1Y3RvclwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0J/RgNC+0LLQtdGA0Y/QtdGCINCw0LLRgtC+0YDQuNC30LjRgNC+0LLQsNC9INC70Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMXHJcbiAgICAgKiBAcmV0dXJucyB0cnVlIC0g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINCw0LLRgtC+0YDQuNC30LjRgNC+0LLQsNC9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc0F1dGhvcml6ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhQXBpLm1haW5Ub2tlbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YLQvtC60LXQvS3RgdGC0YDQvtC60YMg0LjQu9C4IG51bGwsINC10YHQu9C4INC90LUg0LDQstGC0L7RgNC40LfQuNGA0L7QstCw0L1cclxuICAgICAqIEByZXR1cm5zINCi0L7QutC10L0t0YHRgtGA0L7QutCwINC40LvQuCBudWxsLCDQtdGB0LvQuCDQvdC1INCw0LLRgtC+0YDQuNC30LjRgNC+0LLQsNC9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRBdXRoVG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5pc0F1dGhvcml6ZWQoKSA/IHsgdG9rZW46IEFwaS5tYWluVG9rZW4sIHVzZXJJZDogQXBpLnVzZXJJZCwgcmVmcmVzaFRva2VuOiBBcGkucmVmcmVzaFRva2VuIH0gOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQodC+0YXRgNCw0L3Rj9C10YIg0YLQvtC60LXQvSDQuCDQmNCUINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQtNC70Y8g0LTQsNC70YzQvdC10LnRiNC40YUg0LfQsNC/0YDQvtGB0L7QslxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlINCi0L7QutC10L0g0LvQvtCz0LjQvdCwINC4INCY0JRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNldEF1dGhEYXRhKHJlc3BvbnNlLCB0aW1lKSB7XHJcbiAgICAgICAgQXBpLm1haW5Ub2tlbiA9IHJlc3BvbnNlLnRva2VuO1xyXG4gICAgICAgIEFwaS5yZWZyZXNoVG9rZW4gPSByZXNwb25zZS5yZWZyZXNoVG9rZW47XHJcbiAgICAgICAgQXBpLnVzZXJJZCA9IHJlc3BvbnNlLnVzZXJJZDtcclxuICAgICAgICBBcGkudG9rZW5UaW1lID0gdGltZSA/IHRpbWUgOiBEYXRlLm5vdygpO1xyXG4gICAgfVxyXG4gICAgLy9zdGF0aWMgYXN5bmMgcmVzcG9uc2VIYW5kbGVyPFQ+KHJlc3BvbnNlOiBSZXNwb25zZSk6IFByb21pc2U8VCB8IElFcnJvcj4ge31cclxuICAgIC8qKlxyXG4gICAgICog0J7RgtC/0YDQsNCy0LvRj9C10YIgUE9TVCDQt9Cw0L/RgNC+0YFcclxuICAgICAqIEBwYXJhbSB1cmwgVVJMINCw0LTRgNC10YFcclxuICAgICAqIEBwYXJhbSBib2R5INCe0YLQv9GA0LDQstC70Y/QtdC80YvQtSDQtNCw0L3QvdGL0LVcclxuICAgICAqIEByZXR1cm5zIFJlc3Bvc2Ut0L7RgtCy0LXRgiDQsdC10Lcg0LTQtdC60L7QtNC40YDQvtCy0LDQvdC40Y9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHNlbmRQb3N0KHVybCwgYm9keSwgYXV0aCA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYXV0aCA/IGBCZWFyZXIgJHtBcGkubWFpblRva2VufWAgOiAnJyxcclxuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXHJcbiAgICAgICAgfSkudGhlbihhc3luYyAocmVzcCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcC5vayA/IChhd2FpdCByZXNwLmpzb24oKSkgOiB7IGVycm9yOiB0cnVlLCBlcnJvck1lc3NhZ2U6IGF3YWl0IHJlc3AudGV4dCgpIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCe0YLQv9GA0LDQstC70Y/QtdGCIEdFVCDQt9Cw0L/RgNC+0YEg0YEg0LDQstGC0L7RgNC40LfQsNGG0LjQtdC5XHJcbiAgICAgKiBAcGFyYW0gdXJsIFVSTCDQsNC00YDQtdGBXHJcbiAgICAgKiBAcmV0dXJucyBSZXNwb3NlLdC+0YLQstC10YIg0LHQtdC3INC00LXQutC+0LTQuNGA0L7QstCw0L3QuNGPXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBnZXRHZXRBdXRoKHVybCwgbWFpblRva2VuID0gdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke21haW5Ub2tlbiA/IEFwaS5tYWluVG9rZW4gOiBBcGkucmVmcmVzaFRva2VufWAsXHJcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KS50aGVuKGFzeW5jIChyZXNwKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwLm9rID8gKGF3YWl0IHJlc3AuanNvbigpKSA6IHsgZXJyb3I6IHRydWUsIGVycm9yTWVzc2FnZTogYXdhaXQgcmVzcC50ZXh0KCkgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0J7RgtC/0YDQsNCy0LvRj9C10YIgR0VUINC30LDQv9GA0L7RgSDQsdC10Lcg0LDQstGC0L7RgNC40LfQsNGG0LjQuFxyXG4gICAgICogQHBhcmFtIHVybCBVUkwg0LDQtNGA0LXRgVxyXG4gICAgICogQHJldHVybnMgUmVzcG9zZS3QvtGC0LLQtdGCINCx0LXQtyDQtNC10LrQvtC00LjRgNC+0LLQsNC90LjRj1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0R2V0KHVybCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkudGhlbihhc3luYyAocmVzcCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcC5vayA/IChhd2FpdCByZXNwLmpzb24oKSkgOiB7IGVycm9yOiB0cnVlLCBlcnJvck1lc3NhZ2U6IGF3YWl0IHJlc3AudGV4dCgpIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCe0YLQv9GA0LDQstC70Y/QtdGCIFBVVCDQt9Cw0L/RgNC+0YFcclxuICAgICAqIEBwYXJhbSB1cmwgVVJMINCw0LTRgNC10YFcclxuICAgICAqIEBwYXJhbSBib2R5INCe0YLQv9GA0LDQstC70Y/QtdC80YvQtSDQtNCw0L3QvdGL0LVcclxuICAgICAqIEByZXR1cm5zIFJlc3Bvc2Ut0L7RgtCy0LXRgiDQsdC10Lcg0LTQtdC60L7QtNC40YDQvtCy0LDQvdC40Y9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHNlbmRQdXQodXJsLCBib2R5KSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7QXBpLm1haW5Ub2tlbn1gLFxyXG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgICAgICB9KS50aGVuKGFzeW5jIChyZXNwKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwLm9rID8gKGF3YWl0IHJlc3AuanNvbigpKSA6IHsgZXJyb3I6IHRydWUsIGVycm9yTWVzc2FnZTogYXdhaXQgcmVzcC50ZXh0KCkgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0J7RgtC/0YDQsNCy0LvRj9C10YIgREVMRVRFINC30LDQv9GA0L7RgVxyXG4gICAgICogQHBhcmFtIHVybCBVUkwg0LDQtNGA0LXRgVxyXG4gICAgICogQHJldHVybnMgUmVzcG9zZS3QvtGC0LLQtdGCINCx0LXQtyDQtNC10LrQvtC00LjRgNC+0LLQsNC90LjRj1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgc2VuZERlbGV0ZSh1cmwpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtBcGkubWFpblRva2VufWAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkudGhlbigocmVzcCkgPT4gcmVzcC5vayk7XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAgICpcclxuICAgICAqICDQoNCw0LfQtNC10LsgV29yZHNcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIC8qKlxyXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YHQv9C40YHQvtC6INGB0LvQvtCyINC30LDQtNCw0L3QvdC+0Lkg0LPRgNGD0L/Qv9GLINC4INGB0YLRgNCw0L3QuNGG0YtcclxuICAgICAqIEBwYXJhbSBncm91cCDQndC+0LzQtdGAINCz0YDRg9C/0L/Ri1xyXG4gICAgICogQHBhcmFtIHBhZ2Ug0J3QvtC80LXRgCDRgdGC0YDQsNC90LjRhtGLXHJcbiAgICAgKiBAcmV0dXJucyDQnNCw0YHRgdC40LIg0YHQu9C+0LIg0LfQsNC00LDQvdC90L7QuSDQs9GA0YPQv9C/0Ysg0Lgg0YHRgtGA0LDQvdC40YbRi1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0V29yZHMoZ3JvdXAsIHBhZ2UpIHtcclxuICAgICAgICByZXR1cm4gQXBpLmdldEdldChgJHtiYXNlVXJsfS93b3Jkcz9ncm91cD0ke2dyb3VwfSZwYWdlPSR7cGFnZX1gKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YHQu9C+0LLQviDQv9C+INCY0JRcclxuICAgICAqIEBwYXJhbSBpZCBJRCDRgdC70L7QstCwXHJcbiAgICAgKiBAcmV0dXJucyDQnNCw0YHRgdC40LIg0YHQu9C+0LIg0LfQsNC00LDQvdC90L7QuSDQs9GA0YPQv9C/0Ysg0Lgg0YHRgtGA0LDQvdC40YbRi1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0V29yZHNCeUlkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5nZXRHZXQoYCR7YmFzZVVybH0vd29yZHMvJHtpZH1gKTtcclxuICAgIH1cclxuICAgIC8qXHJcbiAgICAgKlxyXG4gICAgICogINCg0LDQt9C00LXQuyBVc2Vyc1xyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiDQodC+0LfQtNCw0LXRgiDQvdC+0LLQvtCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICAgKiBAcGFyYW0gdXNlciDQlNCw0L3QvdGL0LUg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgICAgKiBAcmV0dXJucyDQntGC0LLQtdGCINC+INGA0LXQs9C40YHRgtGA0LDRhtC40Lgg0LjQu9C4INC+0YjQuNCx0LrQsFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlTmV3VXNlcih1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5zZW5kUG9zdChgJHtiYXNlVXJsfS91c2Vyc2AsIHVzZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQuNC80Y8g0Lgg0L/QsNGA0L7Qu9GMINGC0LXQutGD0YnQtdCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICAgKiBAcmV0dXJucyDQmNC80Y8g0Lgg0L/QsNGA0L7Qu9GMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5nZXRHZXRBdXRoKGAke2Jhc2VVcmx9L3VzZXJzLyR7QXBpLnVzZXJJZH1gKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc3luYyBnZXRVc2VyTmV3VG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5nZXRHZXRBdXRoKGAke2Jhc2VVcmx9L3VzZXJzLyR7QXBpLnVzZXJJZH0vdG9rZW5zYCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAqXHJcbiAgICAgKiAg0KDQsNC30LTQtdC7IFVzZXJzL1dvcmRzXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICAvKipcclxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC80LDRgdGB0LjQsiDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60LjRhSDRgdC70L7QslxyXG4gICAgICogQHJldHVybnMg0JzQsNGB0YHQuNCyINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQuNGFINGB0LvQvtCyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBnZXRVc2VyQWxsV29yZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5nZXRHZXRBdXRoKGAke2Jhc2VVcmx9L3VzZXJzLyR7QXBpLnVzZXJJZH0vd29yZHNgKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0KHQvtC30LTQsNC10YIg0L3QvtCy0L7QtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60L7QtSDRgdC70L7QstC+XHJcbiAgICAgKiBAcGFyYW0gd29yZElkIElEINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQvtCz0L4g0YHQu9C+0LLQsFxyXG4gICAgICogQHBhcmFtIGJvZHkg0JjQvdGE0L7RgNC80LDRhtC40Y8g0L4g0YHQu9C+0LLQtVxyXG4gICAgICogQHJldHVybnMg0JjQvdGE0L7RgNC80LDRhtC40Y8g0L4g0YHQu9C+0LLQtVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlVXNlcldvcmQod29yZElkLCBib2R5KSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5zZW5kUG9zdChgJHtiYXNlVXJsfS91c2Vycy8ke0FwaS51c2VySWR9L3dvcmRzLyR7d29yZElkfWAsIGJvZHksIHRydWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDRgdC70L7QstC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICogQHBhcmFtIHdvcmRJZCBJRCDRgdC70L7QstCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICogQHJldHVybnMg0JjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0YHQu9C+0LLQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGdldFVzZXJXb3JkKHdvcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBBcGkuZ2V0R2V0QXV0aChgJHtiYXNlVXJsfS91c2Vycy8ke0FwaS51c2VySWR9L3dvcmRzLyR7d29yZElkfWApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQntCx0L3QvtCy0LvRj9C10YIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC+0LUg0YHQu9C+0LLQvlxyXG4gICAgICogQHBhcmFtIHdvcmRJZCBJRCDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60L7Qs9C+INGB0LvQvtCy0LBcclxuICAgICAqIEBwYXJhbSBib2R5INCY0L3RhNC+0YDQvNCw0YbQuNGPINC+INGB0LvQvtCy0LVcclxuICAgICAqIEByZXR1cm5zINCY0L3RhNC+0YDQvNCw0YbQuNGPINC+INGB0LvQvtCy0LVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHVwZGF0ZVVzZXJXb3JkKHdvcmRJZCwgYm9keSkge1xyXG4gICAgICAgIHJldHVybiBBcGkuc2VuZFB1dChgJHtiYXNlVXJsfS91c2Vycy8ke0FwaS51c2VySWR9L3dvcmRzLyR7d29yZElkfWAsIGJvZHkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9C00LDQu9GP0LXRgiDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60L7QtSDRgdC70L7QstC+XHJcbiAgICAgKiBAcGFyYW0gd29yZElkIElEINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQvtCz0L4g0YHQu9C+0LLQsFxyXG4gICAgICogQHJldHVybnMg0KPQtNCw0YfQvdC+INC40LvQuCDQvdC10YJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGRlbGV0ZVVzZXJXb3JkKHdvcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBBcGkuc2VuZERlbGV0ZShgJHtiYXNlVXJsfS91c2Vycy8ke0FwaS51c2VySWR9L3dvcmRzLyR7d29yZElkfWApO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAqXHJcbiAgICAgKiAg0KDQsNC30LTQtdC7IFVzZXJzL0FnZ3JlZ2F0ZWRXb3Jkc1xyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQvNCw0YHRgdC40LIgQWdyZWdhdGVkINGB0LvQvtCyXHJcbiAgICAgKiBAcGFyYW0gcXVlcnkgcXVlcnkt0L/QsNGA0LDQvNC10YLRgNGLINC30LDQv9GA0L7RgdCwXHJcbiAgICAgKiBAcmV0dXJucyDQnNCw0YHRgdC40LIgQWdyZWdhdGVkINGB0LvQvtCyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBnZXRVc2VyQWxsQWdyZWdhdGVkV29yZHMocXVlcnkpIHtcclxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IE9iamVjdC5lbnRyaWVzKHF1ZXJ5KVxyXG4gICAgICAgICAgICAucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgYCR7Y3VyWzBdfT0ke2N1clsxXX0mYCwgJz8nKVxyXG4gICAgICAgICAgICAuc2xpY2UoMCwgLTEpO1xyXG4gICAgICAgIHJldHVybiBBcGkuZ2V0R2V0QXV0aChgJHtiYXNlVXJsfS91c2Vycy8ke0FwaS51c2VySWR9L2FnZ3JlZ2F0ZWRXb3JkcyR7cXVlcnlTdHJpbmd9YCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC40L3RhNC+0YDQvNCw0YbQuNGOINC+IEFncmVnYXRlZCDRgdC70L7QstC1XHJcbiAgICAgKiBAcGFyYW0gd29yZElkIElEIEFncmVnYXRlZCDRgdC70L7QstCwXHJcbiAgICAgKiBAcmV0dXJucyDQmNC90YTQvtGA0LzQsNGG0LjRjiDQviBBZ3JlZ2F0ZWQg0YHQu9C+0LLQtVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0VXNlckFncmVnYXRlZFdvcmQod29yZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5nZXRHZXRBdXRoKGAke2Jhc2VVcmx9L3VzZXJzLyR7QXBpLnVzZXJJZH0vYWdncmVnYXRlZFdvcmRzLyR7d29yZElkfWApO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAqXHJcbiAgICAgKiAg0KDQsNC30LTQtdC7IFVzZXJzL1N0YXRpc3RpY1xyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDRgdGC0LDRgtC40YHRgtC40LrRgyDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcclxuICAgICAqIEByZXR1cm5zINCh0YLQsNGC0LjRgdGC0LjQutCwINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0VXNlclN0YXRpc3RpY3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5nZXRHZXRBdXRoKGAke2Jhc2VVcmx9L3VzZXJzLyR7QXBpLnVzZXJJZH0vc3RhdGlzdGljc2ApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQvdC+0LLRg9GOINGB0YLQsNGC0LjRgdGC0LjQutGDXHJcbiAgICAgKiBAcGFyYW0gYm9keSDQndC+0LLQsNGPINGB0YLQsNGC0LjRgdGC0LjQutCwXHJcbiAgICAgKiBAcmV0dXJucyDQndC+0LLQsNGPINGB0YLQsNGC0LjRgdGC0LjQutCwXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyB1cGRhdGVVc2VyU3RhdGlzdGljcyhib2R5KSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5zZW5kUHV0KGAke2Jhc2VVcmx9L3VzZXJzLyR7QXBpLnVzZXJJZH0vc3RhdGlzdGljc2AsIGJvZHkpO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAqXHJcbiAgICAgKiAg0KDQsNC30LTQtdC7IFVzZXJzL1NldHRpbmdcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIC8qKlxyXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0L3QsNGB0YLRgNC+0LnQutC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICogQHJldHVybnMg0J3QsNGB0YLRgNC+0LnQutC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0VXNlclNldHRpbmdzKCkge1xyXG4gICAgICAgIHJldHVybiBBcGkuZ2V0R2V0QXV0aChgJHtiYXNlVXJsfS91c2Vycy8ke0FwaS51c2VySWR9L3NldHRpbmdzYCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINC90L7QstGL0LUg0L3QsNGB0YLRgNC+0LnQutC4XHJcbiAgICAgKiBAcGFyYW0gYm9keSDQndC+0LLQsNGPINGB0YLQsNGC0LjRgdGC0LjQutCwXHJcbiAgICAgKiBAcmV0dXJucyDQndC+0LLQsNGPINGB0YLQsNGC0LjRgdGC0LjQutCwXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyB1cGRhdGVVc2VyU2V0dGluZ3MoYm9keSkge1xyXG4gICAgICAgIHJldHVybiBBcGkuc2VuZFB1dChgJHtiYXNlVXJsfS91c2Vycy8ke0FwaS51c2VySWR9L3NldHRpbmdzYCwgYm9keSk7XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAgICpcclxuICAgICAqICDQoNCw0LfQtNC10LsgU2lnbiBJblxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiDQn9GA0L7QuNC30LLQvtC00LjRgiDQu9C+0LPQuNC9INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICogQHBhcmFtIHVzZXIg0JjQvNGPINC4INC/0LDRgNC+0LvRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgICAqIEByZXR1cm5zINCi0L7QutC10L0g0LvQvtCz0LjQvdCwINC40LvQuCDQvtGI0LjQsdC60LBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGxvZ2luVXNlcih1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5zZW5kUG9zdChgJHtiYXNlVXJsfS9zaWduaW5gLCB1c2VyKTtcclxuICAgIH1cclxufVxyXG5BcGkubWFpblRva2VuID0gJyc7XHJcbkFwaS5yZWZyZXNoVG9rZW4gPSAnJztcclxuQXBpLnVzZXJJZCA9ICcnO1xyXG5BcGkudG9rZW5UaW1lID0gMDtcclxuIiwiZXhwb3J0ICogZnJvbSAnLi9hcGknO1xyXG4iLCJleHBvcnQgY29uc3QgZ3JvdXBzID0ge1xyXG4gICAgQTE6ICdFYXN5JyxcclxuICAgIEEyOiAnRWFzeScsXHJcbiAgICBCMTogJ01lZGl1bScsXHJcbiAgICBCMjogJ01lZGl1bScsXHJcbiAgICBDMTogJ0hhcmQnLFxyXG4gICAgQzI6ICdIYXJkJyxcclxufTtcclxuZXhwb3J0IGNvbnN0IG1heFdvcmRzUGFnZXMgPSAzMDtcclxuZXhwb3J0IGNvbnN0IGNhcmRPbkxvYWQgPSAwO1xyXG5leHBvcnQgY29uc3QgYWN0aXZpdHlDbGFzcyA9ICdhY3RpdmUnO1xyXG5leHBvcnQgY29uc3QgYmFzZVVybCA9ICdodHRwczovL3JzbGFuZy1mcm9tYXJ5cy5oZXJva3VhcHAuY29tJztcclxuZXhwb3J0IGNvbnN0IEdST1VQX0FNT1VOVCA9IDY7XHJcbmV4cG9ydCBjb25zdCBQQUdFU19QRVJfR1JPVVAgPSAzMDtcclxuZXhwb3J0IGNvbnN0IFdPUkRTX1BFUl9QQUdFID0gMjA7XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vY29uc3RhbnRzJztcclxuIiwiZXhwb3J0IHZhciBFUmVnaXN0ZXJCdXR0b25UZXh0O1xyXG4oZnVuY3Rpb24gKEVSZWdpc3RlckJ1dHRvblRleHQpIHtcclxuICAgIEVSZWdpc3RlckJ1dHRvblRleHRbXCJyZWdpc3RlclwiXSA9IFwiUmVnaXN0ZXJcIjtcclxuICAgIEVSZWdpc3RlckJ1dHRvblRleHRbXCJsb2dpblwiXSA9IFwiTG9naW5cIjtcclxuICAgIEVSZWdpc3RlckJ1dHRvblRleHRbXCJjYW5jZWxcIl0gPSBcIkNhbmNlbFwiO1xyXG59KShFUmVnaXN0ZXJCdXR0b25UZXh0IHx8IChFUmVnaXN0ZXJCdXR0b25UZXh0ID0ge30pKTtcclxuZXhwb3J0IHZhciBFUm91dGVzO1xyXG4oZnVuY3Rpb24gKEVSb3V0ZXMpIHtcclxuICAgIEVSb3V0ZXNbXCJtYWluXCJdID0gXCIvXCI7XHJcbiAgICBFUm91dGVzW1widGV4dGJvb2tcIl0gPSBcInRleHRib29rXCI7XHJcbiAgICBFUm91dGVzW1wic3RhdGlzdGljc1wiXSA9IFwic3RhdGlzdGljc1wiO1xyXG4gICAgRVJvdXRlc1tcImF1ZGlvY2FsbFwiXSA9IFwiYXVkaW9jYWxsXCI7XHJcbiAgICBFUm91dGVzW1wic3ByaW50XCJdID0gXCJzcHJpbnRcIjtcclxuICAgIEVSb3V0ZXNbXCJhdXRoXCJdID0gXCJhdXRoXCI7XHJcbn0pKEVSb3V0ZXMgfHwgKEVSb3V0ZXMgPSB7fSkpO1xyXG5leHBvcnQgdmFyIEVVc2VyV29yZFN0YXR1cztcclxuKGZ1bmN0aW9uIChFVXNlcldvcmRTdGF0dXMpIHtcclxuICAgIEVVc2VyV29yZFN0YXR1c1tcInN0dWRpZWRcIl0gPSBcInN0dWRpZWRcIjtcclxuICAgIEVVc2VyV29yZFN0YXR1c1tcIm5vcm1hbFwiXSA9IFwibm9ybWFsXCI7XHJcbiAgICBFVXNlcldvcmRTdGF0dXNbXCJkaWZmaWN1bHRcIl0gPSBcImRpZmZpY3VsdFwiO1xyXG59KShFVXNlcldvcmRTdGF0dXMgfHwgKEVVc2VyV29yZFN0YXR1cyA9IHt9KSk7XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vZW51bXMnO1xyXG4iLCJpbXBvcnQgeyBJSGVhZGVyTWVudSB9IGZyb20gJy4vbW9kZWxzJztcclxuZXhwb3J0IGNvbnN0IEFVVEhfQlVUVE9OX0NMSUNLX0VWRU5UID0gbmV3IEV2ZW50KElIZWFkZXJNZW51LkxvZ2luKTtcclxuIiwiaW1wb3J0IHsgSUhlYWRlck1lbnUgfSBmcm9tICcuL21vZGVscyc7XHJcbmV4cG9ydCBjb25zdCBHQU1FU19DTElDS19FVkVOVCA9IG5ldyBFdmVudChJSGVhZGVyTWVudS5HYW1lcyk7XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vbWFpbi1jbGljay5ldmVudCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdGV4dC1ib29rcy1jbGljay5ldmVudCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2FtZXMtY2xpY2suZXZlbnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3N0YXRpc3RpY3MtY2xpY2suZXZlbnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2F1dGgtYnV0dG9uLWNsaWNrLmV2ZW50JztcclxuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMnO1xyXG4iLCJpbXBvcnQgeyBJSGVhZGVyTWVudSB9IGZyb20gJy4vbW9kZWxzJztcclxuZXhwb3J0IGNvbnN0IE1BSU5fQ0xJQ0tfRVZFTlQgPSBuZXcgRXZlbnQoSUhlYWRlck1lbnUuTWFpbik7XHJcbiIsImV4cG9ydCB2YXIgSUhlYWRlck1lbnU7XHJcbihmdW5jdGlvbiAoSUhlYWRlck1lbnUpIHtcclxuICAgIElIZWFkZXJNZW51W1wiTWFpblwiXSA9IFwiTUFJTlwiO1xyXG4gICAgSUhlYWRlck1lbnVbXCJUZXh0Ym9va1wiXSA9IFwiVEVYVEJPT0tcIjtcclxuICAgIElIZWFkZXJNZW51W1wiR2FtZXNcIl0gPSBcIkdBTUVTXCI7XHJcbiAgICBJSGVhZGVyTWVudVtcIlN0YXRpc3RpY3NcIl0gPSBcIlNUQVRJU1RJQ1NcIjtcclxuICAgIElIZWFkZXJNZW51W1wiTG9naW5cIl0gPSBcIkxPRyBJTlwiO1xyXG59KShJSGVhZGVyTWVudSB8fCAoSUhlYWRlck1lbnUgPSB7fSkpO1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL2hlYWRlci1tZW51Lm1vZGVsJztcclxuIiwiaW1wb3J0IHsgSUhlYWRlck1lbnUgfSBmcm9tICcuL21vZGVscyc7XHJcbmV4cG9ydCBjb25zdCBTVEFUSVNUSUNTX0NMSUNLX0VWRU5UID0gbmV3IEV2ZW50KElIZWFkZXJNZW51LlN0YXRpc3RpY3MpO1xyXG4iLCJpbXBvcnQgeyBJSGVhZGVyTWVudSB9IGZyb20gJy4vbW9kZWxzJztcclxuZXhwb3J0IGNvbnN0IFRFWFRfQk9PS1NfQ0xJQ0tfRVZFTlQgPSBuZXcgRXZlbnQoSUhlYWRlck1lbnUuVGV4dGJvb2spO1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL2FwaSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2VydmljZXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NvbW1vbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZW51bXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2V2ZW50cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcm91dGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vdGV4dGJvb2snO1xyXG5leHBvcnQgKiBmcm9tICcuL2ludGVyZmFjZXMnO1xyXG4iLCJleHBvcnQge307XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vdGV4dGJvb2snO1xyXG5leHBvcnQgKiBmcm9tICcuL3dvcmRDYXJkJztcclxuZXhwb3J0ICogZnJvbSAnLi93b3JkR3JvdXAnO1xyXG5leHBvcnQgKiBmcm9tICcuL3dvcmREZXRhaWxzJztcclxuZXhwb3J0ICogZnJvbSAnLi93b3JkR3JvdXBCdXR0b24nO1xyXG4iLCJleHBvcnQge307XHJcbiIsImV4cG9ydCB7fTtcclxuIiwiZXhwb3J0IHt9O1xyXG4iLCJleHBvcnQge307XHJcbiIsImV4cG9ydCB7fTtcclxuIiwiZXhwb3J0ICogZnJvbSAnLi9yb3V0ZXInO1xyXG4iLCJpbXBvcnQgeyBFUm91dGVzIH0gZnJvbSAnLi4vZW51bXMnO1xyXG5leHBvcnQgY2xhc3MgUm91dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHJvb3QsIG1haW4sIHJvdXRlcykge1xyXG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XHJcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcclxuICAgICAgICB0aGlzLnJvdXRlcyA9IHJvdXRlcztcclxuICAgICAgICB0aGlzLnJvdXRlID0gJyc7XHJcbiAgICAgICAgdGhpcy5tYWluTm9kZSA9IHRoaXMubWFpbi5tYWluLmluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNSb3V0ZSA9ICcnO1xyXG4gICAgfVxyXG4gICAgcnVuKCkge1xyXG4gICAgICAgIHRoaXMuc3dpdGNoUm91dGUodGhpcy5nZXRIYXNoKCkpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN3aXRjaFJvdXRlKHRoaXMuZ2V0SGFzaCgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldEhhc2goKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoUm91dGUoaGFzaCkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMucm91dGVzW2hhc2hdID8gaGFzaCA6IEVSb3V0ZXMubWFpbjtcclxuICAgICAgICBjb25zdCBSb3V0ZSA9IHRoaXMucm91dGVzW2tleV07XHJcbiAgICAgICAgaWYgKGtleSA9PT0gRVJvdXRlcy5zcHJpbnQgfHwga2V5ID09PSBFUm91dGVzLmF1ZGlvY2FsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRHYW1lKFJvdXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBFUm91dGVzLmF1dGgpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkTW9kYWwoUm91dGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkUGFnZShSb3V0ZSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2FkR2FtZShSb3V0ZSkge1xyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBOdW1iZXIobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BhZ2UnKSkgfHwgMDtcclxuICAgICAgICBjb25zdCBncm91cCA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ3JvdXAnKSkgfHwgMDtcclxuICAgICAgICBpZiAodGhpcy5yb290KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gbmV3IFJvdXRlKHRoaXMucm9vdCwgZ3JvdXAsIHBhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMubWFpbi5yZW5kZXJHYW1lKHJvdXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2FkUGFnZShSb3V0ZSwga2V5KSB7XHJcbiAgICAgICAgY29uc3Qgcm91dGUgPSBuZXcgUm91dGUodGhpcy5tYWluTm9kZSk7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gRVJvdXRlcy50ZXh0Ym9vaykge1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlID0gRVJvdXRlcy50ZXh0Ym9vaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGUgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1JvdXRlID0ga2V5O1xyXG4gICAgICAgIHRoaXMubWFpbi5yZW5kZXJQYWdlKHJvdXRlKTtcclxuICAgIH1cclxuICAgIGxvYWRNb2RhbChSb3V0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QpIHtcclxuICAgICAgICAgICAgY29uc3Qgcm91dGUgPSBuZXcgUm91dGUodGhpcy5tYWluTm9kZSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFpbi5yZW5kZXJNb2RhbChyb3V0ZSwgdGhpcy5wcmV2aW91c1JvdXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi90ZXh0Ym9vay5zZXJ2aWNlJztcclxuIiwiaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vYXBpJztcclxuZXhwb3J0IGNsYXNzIFRleHRib29rU2VydmljZSB7XHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0V29yZHMoZ3JvdXAsIHBhZ2UpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBBcGkuZ2V0V29yZHMoZ3JvdXAsIHBhZ2UpLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xyXG4iLCJleHBvcnQge307XHJcbiIsImltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldFRlbXBsYXRlIH0gZnJvbSAnLi9hZHZhbnRhZ2VzLnZpZXcnO1xyXG5leHBvcnQgY2xhc3MgQWR2YW50YWdlcyBleHRlbmRzIEJhc2VDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gZ2V0VGVtcGxhdGUoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vYWR2YW50YWdlcy5zY3NzJztcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiYWR2YW50YWdlc1wiID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZnQtY29udGVudC1hZHZhbnRhZ2VzXCI+XHJcbiAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGl0bGUtYWR2YW50YWdlc1wiPkxlYXJuIEVuZ2xpc2ggZWFzaWx5IGFuZCBzaW1wbHkgd2l0aCBSUyBMYW5nPC9oMj5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtYWR2YW50YWdlc1wiPlN0b3AgbGVhcm5pbmcgRW5nbGlzaCwgaXQncyB0aW1lIHRvIGxlYXJuIGl0ITwvcD5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtYWR2YW50YWdlc1wiPlN0YXJ0IHJpZ2h0IG5vdyE8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtY29udGVudC1hZHZhbnRhZ2VzXCI+XHJcbiAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImltZy1hZHZhbnRhZ2VzXCIgc3JjPVwiLi4vcHVibGljL3N0YXRpYy9sZWFybi5wbmdcIiBhbHQ9XCJsZWFyblwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgYDtcclxufVxyXG4iLCJleHBvcnQgKiBmcm9tICcuL2FkdmFudGFnZXMnO1xyXG4iLCJpbXBvcnQgeyBDcmVhdG9yIH0gZnJvbSAnLi4vQ3JlYXRvci8nO1xyXG5leHBvcnQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgQ3JlYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGNsYXNzTmFtZSwgdGV4dCwgb25DbGljaykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCwgJ2J1dHRvbicsIGNsYXNzTmFtZSwgdGV4dCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uY2xpY2sgPSAoKSA9PiBvbkNsaWNrKHRleHQpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vQnV0dG9uJztcclxuIiwiaW1wb3J0IHsgR0FNRVNfQ0xJQ0tfRVZFTlQsIElIZWFkZXJNZW51LCBNQUlOX0NMSUNLX0VWRU5ULCBTVEFUSVNUSUNTX0NMSUNLX0VWRU5ULCBURVhUX0JPT0tTX0NMSUNLX0VWRU5ULCB9IGZyb20gJy4uLy4uL2Jhc2ljJztcclxuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UtY29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0VGVtcGxhdGUgfSBmcm9tICcuL2NhcmQtb3Bwb3J0dW5pdGllcy52aWV3JztcclxuZXhwb3J0IGNsYXNzIENhcmRPcHBvcnR1bml0aWVzIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihyb290LCBzZXR0aW5ncykge1xyXG4gICAgICAgIHN1cGVyKHJvb3QpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gZ2V0VGVtcGxhdGUodGhpcy5zZXR0aW5ncyk7XHJcbiAgICB9XHJcbiAgICBnZXQgaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuaWQ7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHN1cGVyLmluaXQoKTtcclxuICAgICAgICB0aGlzLmxpc3RlbigpO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2FyZENsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIGxpc3RlbigpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2FyZENsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgb25DYXJkQ2xpY2soKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmlkKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSUhlYWRlck1lbnUuTWFpbjpcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoTUFJTl9DTElDS19FVkVOVCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBJSGVhZGVyTWVudS5UZXh0Ym9vazpcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoVEVYVF9CT09LU19DTElDS19FVkVOVCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBJSGVhZGVyTWVudS5HYW1lczpcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoR0FNRVNfQ0xJQ0tfRVZFTlQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSUhlYWRlck1lbnUuU3RhdGlzdGljczpcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoU1RBVElTVElDU19DTElDS19FVkVOVCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICcuL2NhcmQtb3Bwb3J0dW5pdGllcy5zY3NzJztcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlbXBsYXRlKHNldHRpbmdzKSB7XHJcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjYXJkLW9wcG9ydHVuaXRpZXNcIj5cclxuICAgICAgICAgICAgPGltZyBjbGFzcz1cImNhcmQtYmFja2dyXCIgc3JjPVwiJHtzZXR0aW5ncy5zcmNCYWNrZ3J9XCIgYWx0PVwiYmFja2dyb3VuZFwiIC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWNhcmRcIj5cclxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiaWNvbi1vcHBvcnR1bml0aWVzXCIgc3JjPVwiJHtzZXR0aW5ncy5zcmNJY29ufVwiIGFsdD1cInRleHRib29rXCIgLz5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtb3Bwb3J0dW5pdGllc1wiPiR7c2V0dGluZ3MudGV4dH08L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgYDtcclxufVxyXG4iLCJleHBvcnQgKiBmcm9tICcuL21vZGVscyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY2FyZC1vcHBvcnR1bml0aWVzJztcclxuIiwiZXhwb3J0IHt9O1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL2NhcmQtb3Bwb3J0dW5pdGllcy5tb2RlbCc7XHJcbiIsImltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldFRlbXBsYXRlIH0gZnJvbSAnLi9jYXJkLXRlYW0udmlldyc7XHJcbmV4cG9ydCBjbGFzcyBDYXJkVGVhbSBleHRlbmRzIEJhc2VDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3Iocm9vdCwgc2V0dGluZ3MpIHtcclxuICAgICAgICBzdXBlcihyb290KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IGdldFRlbXBsYXRlKHRoaXMuc2V0dGluZ3MpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9jYXJkLXRlYW0uc2Nzcyc7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUZW1wbGF0ZShzZXR0aW5ncykge1xyXG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwicGVyc29uXCI+XHJcbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJpbWctcGVyc29uXCIgc3JjPVwiJHtzZXR0aW5ncy5zcmNQZXJzb259XCIgLz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tcGVyc29uXCI+XHJcbiAgICAgICAgICAgICAgPGEgY2xhc3M9XCJsaW5rLWdpdGh1Yi10ZWFtXCIgaHJlZj1cIiR7c2V0dGluZ3MuaHJlZlBlcnNvbn1cIiB0YXJnZXQ9XCJfYmxhbmtcIj5cclxuICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJuYW1lLXBlcnNvblwiPiR7c2V0dGluZ3MubmFtZVBlcnNvbn08L2g0PjwvYT5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImRvbmUtcGVyc29uXCI+JHtzZXR0aW5ncy5kb25lUGVyc29ufTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICBgO1xyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vbW9kZWxzJztcclxuZXhwb3J0ICogZnJvbSAnLi9jYXJkLXRlYW0nO1xyXG4iLCJleHBvcnQge307XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vY2FyZC10ZWFtLm1vZGVsJztcclxuIiwiZXhwb3J0IGNsYXNzIENyZWF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50Tm9kZSwgdGFnTmFtZSA9ICdkaXYnLCBjbGFzc05hbWUgPSAnJywgY29udGVudCA9ICcnKSB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG4gICAgICAgIGlmIChjbGFzc05hbWUpXHJcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICBlbC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIHBhcmVudE5vZGUuYXBwZW5kKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ub2RlID0gZWw7XHJcbiAgICB9XHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5yZW1vdmUoKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgKiBmcm9tICcuL0NyZWF0b3InO1xyXG4iLCJpbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS1jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBnZXRUZW1wbGF0ZSB9IGZyb20gJy4vZm9vdGVyLnZpZXcnO1xyXG5leHBvcnQgY2xhc3MgRm9vdGVyIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBnZXRUZW1wbGF0ZSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9mb290ZXIuc2Nzcyc7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBgXHJcbiAgPGRpdiBjbGFzcz1cImNvbnRlbnQtZm9vdGVyXCI+XHJcbiAgICA8dWwgY2xhc3M9XCJsaW5rLWdpdGh1YlwiPlxyXG4gICAgICA8bGkgY2xhc3M9XCJpdGVtLWxpbmstZ2l0aHViXCI+JmNvcHk7MjAyMjwvbGk+XHJcbiAgICAgIDxhIGNsYXNzPVwibGluay1naXRodWItZm9vdGVyXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9mcm9tYXJ5c1wiIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgID48bGkgY2xhc3M9XCJpdGVtLWxpbmstZ2l0aHViXCI+WWV2Z2VuaWkgTWluZXlldjwvbGk+PC9hXHJcbiAgICAgID5cclxuICAgICAgPGEgY2xhc3M9XCJsaW5rLWdpdGh1Yi1mb290ZXJcIiBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL09rc2FuYVNlcmVnaW5hXCIgdGFyZ2V0PVwiX2JsYW5rXCJcclxuICAgICAgPjxsaSBjbGFzcz1cIml0ZW0tbGluay1naXRodWJcIj5Pa3NhbmEgU2VyZWdpbmE8L2xpPjwvYVxyXG4gICAgICA+XHJcbiAgICAgIDxhIGNsYXNzPVwibGluay1naXRodWItZm9vdGVyXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9BbmRyb25pbzJcIiB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICA+PGxpIGNsYXNzPVwiaXRlbS1saW5rLWdpdGh1YlwiPkFuZHJleSBTbWlybm92PC9saT48L2FcclxuICAgICAgPlxyXG4gICAgPC91bD5cclxuICAgIDxhIGNsYXNzPVwicnNsaW5rLWZvb3RlclwiIGhyZWY9XCJodHRwczovL3JzLnNjaG9vbC9qcy9cIiB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgID48aW1nIHNyYz1cIi4uL3B1YmxpYy9zdGF0aWMvcnNfc2Nob29sX2pzLnN2Z1wiIGFsdD1cImxvZ29cIiBzdHlsZT1cImhlaWdodDogNTBweFwiXHJcbiAgICAvPjwvYT5cclxuICAgPC9kaXY+XHJcbiAgYDtcclxufVxyXG4iLCJleHBvcnQgKiBmcm9tICcuL2Zvb3Rlcic7XHJcbiIsImltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldFRlbXBsYXRlIH0gZnJvbSAnLi9oZWFkZXIudmlldyc7XHJcbmltcG9ydCB7IE1BSU5fQ0xJQ0tfRVZFTlQsIElIZWFkZXJNZW51LCBURVhUX0JPT0tTX0NMSUNLX0VWRU5ULCBHQU1FU19DTElDS19FVkVOVCwgU1RBVElTVElDU19DTElDS19FVkVOVCwgQVVUSF9CVVRUT05fQ0xJQ0tfRVZFTlQsIH0gZnJvbSAnLi4vLi4vYmFzaWMnO1xyXG5leHBvcnQgY2xhc3MgSGVhZGVyIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMubmF2QnV0dG9ucyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5hdXRoQnV0dG9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gZ2V0VGVtcGxhdGUoSUhlYWRlck1lbnUpO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBzdXBlci5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW4oKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5uYXZCdXR0b25zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbk5hdkNsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuYXV0aEJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25BdXRoQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgYXR0YWNoRWxlbWVudCgpIHtcclxuICAgICAgICB0aGlzLnJvb3Q/LnByZXBlbmQodGhpcy5lbGVtZW50KTtcclxuICAgICAgICB0aGlzLm5hdkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yb2xlPVwiaGVhZGVyLW1lbnVcIl0nKTtcclxuICAgICAgICB0aGlzLmF1dGhCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yb2xlPVwiYXV0aFwiXScpO1xyXG4gICAgfVxyXG4gICAgbGlzdGVuKCkge1xyXG4gICAgICAgIHRoaXMubmF2QnV0dG9ucy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25OYXZDbGljay5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmF1dGhCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQXV0aENsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgLy8gQ3JlYXRlIGN1c3RvbSBldmVudHMgdGhhdCBjYW4gYmUgbGlzdGVuZWQgZnJvbSBkb2N1bWVudHMsIGxpa2VzXHJcbiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKElIZWFkZXJNZW51Lk1haW4sIChldmVudCkgPT4gLi4uKVxyXG4gICAgb25BdXRoQ2xpY2soZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoQVVUSF9CVVRUT05fQ0xJQ0tfRVZFTlQpO1xyXG4gICAgfVxyXG4gICAgLy8gQ3JlYXRlIGN1c3RvbSBldmVudHMgdGhhdCBjYW4gYmUgbGlzdGVuZWQgZnJvbSBkb2N1bWVudHMsIGxpa2VzXHJcbiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKElIZWFkZXJNZW51Lk1haW4sIChldmVudCkgPT4gLi4uKVxyXG4gICAgb25OYXZDbGljayhldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1pZF0nKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpIHtcclxuICAgICAgICAgICAgY2FzZSBJSGVhZGVyTWVudS5NYWluOlxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChNQUlOX0NMSUNLX0VWRU5UKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIElIZWFkZXJNZW51LlRleHRib29rOlxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChURVhUX0JPT0tTX0NMSUNLX0VWRU5UKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIElIZWFkZXJNZW51LkdhbWVzOlxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChHQU1FU19DTElDS19FVkVOVCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBJSGVhZGVyTWVudS5TdGF0aXN0aWNzOlxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChTVEFUSVNUSUNTX0NMSUNLX0VWRU5UKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vaGVhZGVyLnNjc3MnO1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGVtcGxhdGUobWVudSkge1xyXG4gICAgcmV0dXJuIGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1oZWFkZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvXCI+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIvXCIgY2xhc3M9XCJsaW5rLWxvZ29cIj5cclxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiaW1nLWxvZ29cIiBzcmM9XCIuLi8uLi8uLi9wdWJsaWMvc3RhdGljL2xvZ28uanBnXCIgYWx0PVwibG9nb1wiIC8+XHJcbiAgICAgICAgICAgICAgPGgxIGNsYXNzPVwidGl0bGUtbG9nb1wiPlJTTGFuZzwvaDE+XHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxuYXYgZGF0YS1yb2xlPVwiaGVhZGVyLW1lbnVcIiBjbGFzcz1cImhlYWRlci1tZW51XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZW51XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBkYXRhLWlkPVwiJHttZW51Lk1haW59XCIgY2xhc3M9XCJpdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPjxzcGFuPiR7bWVudS5NYWlufTwvc3Bhbj48L2E+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBkYXRhLWlkPVwiJHttZW51LlRleHRib29rfVwiIGNsYXNzPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiN0ZXh0Ym9va1wiPjxzcGFuPiR7bWVudS5UZXh0Ym9va308L3NwYW4+PC9hPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgZGF0YS1pZD1cIiR7bWVudS5HYW1lc31cIiBjbGFzcz1cIml0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjYXVkaW9jYWxsXCI+PHNwYW4+JHttZW51LkdhbWVzfTwvc3Bhbj48L2E+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBkYXRhLWlkPVwiJHttZW51LlN0YXRpc3RpY3N9XCIgY2xhc3M9XCJpdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPjxzcGFuPiR7bWVudS5TdGF0aXN0aWNzfTwvc3Bhbj48L2E+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9uYXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBkYXRhLXJvbGU9XCJhdXRoXCIgY2xhc3M9XCJsb2ctaW5cIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiNhdXRoXCI+PHNwYW4+JHttZW51LkxvZ2lufTwvc3Bhbj48L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICBgO1xyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vaGVhZGVyJztcclxuIiwiaW1wb3J0IHsgQ3JlYXRvciB9IGZyb20gJy4uL0NyZWF0b3InO1xyXG5leHBvcnQgY2xhc3MgSW5wdXQgZXh0ZW5kcyBDcmVhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50LCAnaW5wdXQnLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIHRoaXMubm9kZS50eXBlID0gJ3RleHQnO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9C+0LvRg9GH0LDQtdGCINC30L3QsNGH0LXQvdC40LUg0L/QvtC70Y8g0LjQvdC/0YPRgtCwXHJcbiAgICAgKiBAcmV0dXJucyDQotC10LrRgdGCINCyINC/0L7Qu9C1INC40L3Qv9GD0YLQsFxyXG4gICAgICovXHJcbiAgICBnZXRWYWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLnZhbHVlO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vSW5wdXQnO1xyXG4iLCJpbXBvcnQgeyBJSGVhZGVyTWVudSB9IGZyb20gJy4uLy4uL2Jhc2ljJztcclxuZXhwb3J0IGNvbnN0IENBUkRfT1BQT1JUVU5JVElFUyA9IFtcclxuICAgIHtcclxuICAgICAgICBzcmNCYWNrZ3I6ICcuLi9wdWJsaWMvc3RhdGljL2NhcmQtYmFja2dyMS5qcGVnJyxcclxuICAgICAgICBzcmNJY29uOiAnLi4vcHVibGljL3N0YXRpYy90ZXh0Ym9vay5wbmcnLFxyXG4gICAgICAgIHRleHQ6ICdFbGVjdHJvbmljIHRleHRib29rIHdpdGggYSBkYXRhYmFzZSBvZiB3b3JkcyB0byBzdHVkeScsXHJcbiAgICAgICAgaWQ6IElIZWFkZXJNZW51LlRleHRib29rLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBzcmNCYWNrZ3I6ICcuLi9wdWJsaWMvc3RhdGljL2NhcmQtYmFja2dyMi5qcGVnJyxcclxuICAgICAgICBzcmNJY29uOiAnLi4vcHVibGljL3N0YXRpYy9wbGF5LnBuZycsXHJcbiAgICAgICAgdGV4dDogJ01pbmktZ2FtZXMgZm9yIHJlcGVhdGluZyB0aGUgbGVhcm5lZCB3b3JkcycsXHJcbiAgICAgICAgaWQ6IElIZWFkZXJNZW51LkdhbWVzLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBzcmNCYWNrZ3I6ICcuLi9wdWJsaWMvc3RhdGljL2NhcmQtYmFja2dyMy5qcGVnJyxcclxuICAgICAgICBzcmNJY29uOiAnLi4vcHVibGljL3N0YXRpYy9zdGF0LnBuZycsXHJcbiAgICAgICAgdGV4dDogJ0RldGFpbGVkIHN0YXRpc3RpY3Mgb2YgeW91ciBhY2hpZXZlbWVudHMnLFxyXG4gICAgICAgIGlkOiBJSGVhZGVyTWVudS5TdGF0aXN0aWNzLFxyXG4gICAgfSxcclxuXTtcclxuZXhwb3J0IGNvbnN0IENBUkRfVEVBTSA9IFtcclxuICAgIHtcclxuICAgICAgICBzcmNQZXJzb246ICcuLi9wdWJsaWMvc3RhdGljL3BlcnNvbi5qcGcnLFxyXG4gICAgICAgIGhyZWZQZXJzb246ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbWFyeXMnLFxyXG4gICAgICAgIG5hbWVQZXJzb246ICdZZXZnZW5paSBNaW5leWV2JyxcclxuICAgICAgICBkb25lUGVyc29uOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBzcmNQZXJzb246ICcuLi9wdWJsaWMvc3RhdGljL3BlcnNvbi5qcGcnLFxyXG4gICAgICAgIGhyZWZQZXJzb246ICdodHRwczovL2dpdGh1Yi5jb20vT2tzYW5hU2VyZWdpbmEnLFxyXG4gICAgICAgIG5hbWVQZXJzb246ICdPa3NhbmEgU2VyZWdpbmEnLFxyXG4gICAgICAgIGRvbmVQZXJzb246ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHNyY1BlcnNvbjogJy4uL3B1YmxpYy9zdGF0aWMvcGVyc29uLmpwZycsXHJcbiAgICAgICAgaHJlZlBlcnNvbjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9BbmRyb25pbzInLFxyXG4gICAgICAgIG5hbWVQZXJzb246ICdBbmRyZXkgU21pcm5vdicsXHJcbiAgICAgICAgZG9uZVBlcnNvbjogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0IGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcclxuICAgIH0sXHJcbl07XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vbW9kZWxzJztcclxuZXhwb3J0ICogZnJvbSAnLi9tYWluJztcclxuIiwiaW1wb3J0IHsgQWR2YW50YWdlcyB9IGZyb20gJy4uL0FkdmFudGFnZXMnO1xyXG5pbXBvcnQgeyBDYXJkT3Bwb3J0dW5pdGllcyB9IGZyb20gJy4uL0NhcmRPcHBvcnR1bml0aWVzJztcclxuaW1wb3J0IHsgQ2FyZFRlYW0gfSBmcm9tICcuLi9DYXJkVGVhbSc7XHJcbmltcG9ydCB7IFJvb3QgfSBmcm9tICcuL21vZGVscyc7XHJcbmltcG9ydCB7IGdldFRlbXBsYXRlIH0gZnJvbSAnLi9tYWluLnZpZXcnO1xyXG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS1jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDQVJEX09QUE9SVFVOSVRJRVMsIENBUkRfVEVBTSB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuZXhwb3J0IGNsYXNzIE1haW4gZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5jYXJkc09wcG9ydHVuaXRpZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmNhcmRzVGVhbSA9IFtdO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21haW4nKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gZ2V0VGVtcGxhdGUoKTtcclxuICAgIH1cclxuICAgIGF0dGFjaEVsZW1lbnQoKSB7XHJcbiAgICAgICAgc3VwZXIuYXR0YWNoRWxlbWVudCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdEFkdmFudGFnZXMoKTtcclxuICAgICAgICB0aGlzLmluaXRPcHBvcnR1bml0aWVzKCk7XHJcbiAgICAgICAgdGhpcy5pbml0VGVhbSgpO1xyXG4gICAgfVxyXG4gICAgaW5pdEFkdmFudGFnZXMoKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUm9vdC5BZHZhbnRhZ2VzKTtcclxuICAgICAgICBjb25zdCBhZHZhbnRhZ2VzID0gbmV3IEFkdmFudGFnZXMocm9vdCk7XHJcbiAgICAgICAgYWR2YW50YWdlcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBpbml0T3Bwb3J0dW5pdGllcygpIHtcclxuICAgICAgICBjb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihSb290Lk9wcG9ydHVuaXRpZXMpO1xyXG4gICAgICAgIENBUkRfT1BQT1JUVU5JVElFUy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhcmRzT3Bwb3J0dW5pdGllcyA9IFsuLi50aGlzLmNhcmRzT3Bwb3J0dW5pdGllcywgbmV3IENhcmRPcHBvcnR1bml0aWVzKHJvb3QsIHZhbHVlKV07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jYXJkc09wcG9ydHVuaXRpZXMuZm9yRWFjaCgoY2FyZCkgPT4gY2FyZC5pbml0KCkpO1xyXG4gICAgfVxyXG4gICAgaW5pdFRlYW0oKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUm9vdC5UZWFtKTtcclxuICAgICAgICBDQVJEX1RFQU0uZm9yRWFjaCgodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYXJkc1RlYW0gPSBbLi4udGhpcy5jYXJkc1RlYW0sIG5ldyBDYXJkVGVhbShyb290LCB2YWx1ZSldO1xyXG4gICAgICAgICAgICB0aGlzLmNhcmRzVGVhbS5mb3JFYWNoKChtZW1iZXIpID0+IG1lbWJlci5pbml0KCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9tYWluLnNjc3MnO1xyXG5leHBvcnQgY29uc3QgZ2V0VGVtcGxhdGUgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gYDxkaXYgZGF0YS1yb290PVwiYWR2YW50YWdlc1wiPjwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHBvcnR1bml0aWVzXCIgZGF0YS1yb290PVwib3Bwb3J0dW5pdGllc1wiPjwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdXItdGVhbVwiPlxyXG4gICAgICAgICAgICA8aDIgY2xhc3M9XCJ0aXRsZS10ZWFtXCI+T3VyIHRlYW08L2gyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyLXRlYW1cIiBkYXRhLXJvb3Q9XCJvdXItdGVhbVwiPjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBgO1xyXG59O1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL3Jvb3QuZW51bSc7XHJcbiIsImV4cG9ydCB2YXIgUm9vdDtcclxuKGZ1bmN0aW9uIChSb290KSB7XHJcbiAgICBSb290W1wiQWR2YW50YWdlc1wiXSA9IFwiW2RhdGEtcm9vdD1cXFwiYWR2YW50YWdlc1xcXCJdXCI7XHJcbiAgICBSb290W1wiT3Bwb3J0dW5pdGllc1wiXSA9IFwiW2RhdGEtcm9vdD1cXFwib3Bwb3J0dW5pdGllc1xcXCJdXCI7XHJcbiAgICBSb290W1wiVGVhbVwiXSA9IFwiW2RhdGEtcm9vdD1cXFwib3VyLXRlYW1cXFwiXVwiO1xyXG59KShSb290IHx8IChSb290ID0ge30pKTtcclxuIiwiZXhwb3J0ICogZnJvbSAnLi93b3JkQ2FyZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4uL1dvcmREZXRhaWxzL3dvcmREZXRhaWxzJztcclxuIiwiaW1wb3J0IHsgYWN0aXZpdHlDbGFzcywgfSBmcm9tICcuLi8uLi8uLi9iYXNpYyc7XHJcbmltcG9ydCBXb3JkQ2FyZFZpZXcgZnJvbSAnLi93b3JkQ2FyZC52aWV3JztcclxuaW1wb3J0IHsgV29yZERldGFpbHMgfSBmcm9tICcuLi9Xb3JkRGV0YWlscy93b3JkRGV0YWlscyc7XHJcbmV4cG9ydCBjbGFzcyBXb3JkQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3b3JkR3JvdXAsIHRleHRib29rLCB3b3JkSW5mbywgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdGhpcy53b3JkR3JvdXAgPSB3b3JkR3JvdXA7XHJcbiAgICAgICAgdGhpcy53b3Jkc1dyYXBwZXIgPSB0ZXh0Ym9vay53b3Jkcy5ub2RlO1xyXG4gICAgICAgIHRoaXMud29yZHNDb250YWluZXIgPSB0ZXh0Ym9vay53b3Jkc0NvbnRhaW5lci5ub2RlO1xyXG4gICAgICAgIHRoaXMud29yZEluZm8gPSB3b3JkSW5mbztcclxuICAgICAgICB0aGlzLndvcmRDYXJkID0gbmV3IFdvcmRDYXJkVmlldyh0aGlzLndvcmRzQ29udGFpbmVyLCB3b3JkSW5mbywgY2xhc3NOYW1lKTtcclxuICAgICAgICBpZiAoY2xhc3NOYW1lKVxyXG4gICAgICAgICAgICB0aGlzLndvcmREZXRhaWxzID0gbmV3IFdvcmREZXRhaWxzKHRoaXMud29yZHNXcmFwcGVyLCB3b3JkSW5mbyk7XHJcbiAgICAgICAgaWYgKGNsYXNzTmFtZSlcclxuICAgICAgICAgICAgdGhpcy53b3JkR3JvdXAuYWN0aXZlRWxlbWVudCA9IHRoaXMud29yZENhcmQubm9kZTtcclxuICAgICAgICB0aGlzLndvcmRDYXJkLm5vZGUub25jbGljayA9ICgpID0+IHRoaXMuY2xpY2tIYW5kbGVyKCk7XHJcbiAgICB9XHJcbiAgICBjbGlja0hhbmRsZXIoKSB7XHJcbiAgICAgICAgdGhpcy53b3JkR3JvdXAuYWN0aXZlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGFjdGl2aXR5Q2xhc3MpO1xyXG4gICAgICAgIHRoaXMud29yZEdyb3VwLmFjdGl2ZUVsZW1lbnQgPSB0aGlzLndvcmRDYXJkLm5vZGU7XHJcbiAgICAgICAgdGhpcy53b3JkR3JvdXAuYWN0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKGFjdGl2aXR5Q2xhc3MpO1xyXG4gICAgICAgIG5ldyBXb3JkRGV0YWlscyh0aGlzLndvcmRzV3JhcHBlciwgdGhpcy53b3JkSW5mbyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ3JlYXRvciB9IGZyb20gJy4uLy4uL0NyZWF0b3InO1xyXG5pbXBvcnQgJy4vd29yZENhcmQuc2Nzcyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmRDYXJkVmlldyBleHRlbmRzIENyZWF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50Tm9kZSwgd29yZEluZm8sIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgPGgyIGNsYXNzPVwid29yZHNfX3dvcmRcIj4ke3dvcmRJbmZvLndvcmR9PC9oMj5cclxuICAgIDxoMyBjbGFzcz1cIndvcmRzX190cmFuc2xhdGVcIj4ke3dvcmRJbmZvLndvcmRUcmFuc2xhdGV9PC9oMz5gO1xyXG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdidXR0b24nLCBgd29yZHNfX2NhcmQgJHtjbGFzc05hbWV9YCwgY29udGVudCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi93b3JkRGV0YWlscyc7XHJcbiIsImltcG9ydCB7IGJhc2VVcmwgfSBmcm9tICcuLi8uLi8uLi9iYXNpYyc7XHJcbmltcG9ydCBXb3JkRGV0YWlsc1ZpZXcgZnJvbSAnLi93b3JkRGV0YWlscy52aWV3JztcclxuZXhwb3J0IGNsYXNzIFdvcmREZXRhaWxzIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGUsIHdvcmRJbmZvKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudERldGFpbHMgPSBwYXJlbnROb2RlLmNoaWxkTm9kZXNbMl07XHJcbiAgICAgICAgY3VycmVudERldGFpbHM/LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBXb3JkRGV0YWlsc1ZpZXcocGFyZW50Tm9kZSwgd29yZEluZm8pO1xyXG4gICAgICAgIHRoaXMuYXVkaW8gPSB0aGlzLnZpZXcuYXVkaW9CdXR0b24ubm9kZTtcclxuICAgICAgICB0aGlzLmF1ZGlvLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsaWNrSGFuZGxlcih3b3JkSW5mbyk7XHJcbiAgICB9XHJcbiAgICBjbGlja0hhbmRsZXIod29yZEluZm8pIHtcclxuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLnZpZXcuYXVkaW9CdXR0b24ubm9kZTtcclxuICAgICAgICBjb25zdCBpY29uID0gYnV0dG9uLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKGAke2Jhc2VVcmx9LyR7d29yZEluZm8uYXVkaW99YCk7XHJcbiAgICAgICAgaWNvbj8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgdm9pZCBhdWRpby5wbGF5KCk7XHJcbiAgICAgICAgYXVkaW8ub25lbmRlZCA9ICgpID0+IGljb24/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGJhc2VVcmwgfSBmcm9tICcuLi8uLi8uLi9iYXNpYyc7XHJcbmltcG9ydCB7IENyZWF0b3IgfSBmcm9tICcuLi8uLi9DcmVhdG9yJztcclxuaW1wb3J0ICcuL3dvcmREZXRhaWxzLnNjc3MnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JkRGV0YWlsc1ZpZXcge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50Tm9kZSwgd29yZCkge1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBgPGltZyBzcmM9XCIke2Jhc2VVcmx9LyR7d29yZC5pbWFnZX1cIiBjbGFzcz1cIndvcmRzX19pbWFnZVwiPjwvaW1nPmA7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJDb250ZW50ID0gdGhpcy5yZW5kZXJIZWFkZXIod29yZCk7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbkNvbnRlbnQgPSB0aGlzLnJlbmRlckRlc2NyaXB0aW9uKHdvcmQpO1xyXG4gICAgICAgIHRoaXMuZGV0YWlscyA9IG5ldyBDcmVhdG9yKHBhcmVudE5vZGUsICdkaXYnLCAnd29yZHNfX2RldGFpbHMnKTtcclxuICAgICAgICB0aGlzLmRldGFpbHMubm9kZS5pbm5lckhUTUwgPSB0aGlzLmltYWdlO1xyXG4gICAgICAgIHRoaXMuaW5mb3JtYXRpb24gPSBuZXcgQ3JlYXRvcih0aGlzLmRldGFpbHMubm9kZSwgJ2RpdicsICd3b3Jkc19faW5mb3JtYXRpb24nKTtcclxuICAgICAgICB0aGlzLmhlYWRlciA9IG5ldyBDcmVhdG9yKHRoaXMuaW5mb3JtYXRpb24ubm9kZSwgJ2RpdicsICd3b3Jkc19faGVhZGVyJywgdGhpcy5oZWFkZXJDb250ZW50KTtcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gbmV3IENyZWF0b3IodGhpcy5pbmZvcm1hdGlvbi5ub2RlLCAnZGl2JywgJ3dvcmRzX19kZXNjcmlwdGlvbicsIHRoaXMuZGVzY3JpcHRpb25Db250ZW50KTtcclxuICAgICAgICB0aGlzLmF1ZGlvQnV0dG9uID0gbmV3IENyZWF0b3IodGhpcy5oZWFkZXIubm9kZSwgJ2J1dHRvbicsICd3b3Jkc19fYXVkaW8nLCB0aGlzLnJlbmRlckF1ZGlvQnV0dG9uKCkpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVySGVhZGVyKHdvcmQpIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICA8aDIgY2xhc3M9XCJ3b3Jkc19fd29yZFwiPiR7d29yZC53b3JkfTwvaDI+XHJcbiAgICAgIDxoMyBjbGFzcz1cIndvcmRzX190cmFuc2xhdGVcIj4ke3dvcmQud29yZFRyYW5zbGF0ZX08L2gzPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cIndvcmRzX190cmFuc2NyaXB0aW9uXCI+JHt3b3JkLnRyYW5zY3JpcHRpb259PC9zcGFuPlxyXG4gICAgYDtcclxuICAgIH1cclxuICAgIHJlbmRlckRlc2NyaXB0aW9uKHdvcmQpIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICA8aDMgY2xhc3M9XCJ3b3Jkc19fc3VidGl0bGVcIj7Ql9C90LDRh9C10L3QuNC1PC9oMz5cclxuICAgICAgPHA+JHt3b3JkLnRleHRNZWFuaW5nfTwvcD5cclxuICAgICAgPHA+JHt3b3JkLnRleHRNZWFuaW5nVHJhbnNsYXRlfTwvcD5cclxuICAgICAgPGgzIGNsYXNzPVwid29yZHNfX3N1YnRpdGxlXCI+0J/RgNC40LzQtdGAPC9oMz5cclxuICAgICAgPHA+JHt3b3JkLnRleHRFeGFtcGxlfTwvcD5cclxuICAgICAgPHA+JHt3b3JkLnRleHRFeGFtcGxlVHJhbnNsYXRlfTwvcD5cclxuICAgIGA7XHJcbiAgICB9XHJcbiAgICByZW5kZXJBdWRpb0J1dHRvbigpIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgPHN2ZyBjbGFzcz1cIndvcmRzX19hdWRpby1pY29uXCI+XHJcbiAgICAgIDx1c2UgeGxpbms6aHJlZj1cIi4uLy4uLy4uL3B1YmxpYy9zdGF0aWMvYXVkaW8uc3ZnI2F1ZGlvXCI+PC91c2U+XHJcbiAgICA8L3N2Zz5cclxuICAgIGA7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi93b3JkR3JvdXBCdXR0b24nO1xyXG4iLCJpbXBvcnQgeyBhY3Rpdml0eUNsYXNzLCBncm91cHMgfSBmcm9tICcuLi8uLi8uLi9iYXNpYyc7XHJcbmltcG9ydCB7IFdvcmRHcm91cCB9IGZyb20gJy4uL1dvcmRHcm91cCc7XHJcbmltcG9ydCBXb3JkR3JvdXBCdXR0b25WaWV3IGZyb20gJy4vd29yZEdyb3VwQnV0dG9uLnZpZXcnO1xyXG5leHBvcnQgY2xhc3MgV29yZEdyb3VwQnV0dG9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHRleHRib29rLCBpdGVtKSB7XHJcbiAgICAgICAgdGhpcy5ncm91cExpc3QgPSBPYmplY3Qua2V5cyhncm91cHMpO1xyXG4gICAgICAgIHRoaXMudGV4dGJvb2sgPSB0ZXh0Ym9vaztcclxuICAgICAgICB0aGlzLnBhcmVudE5vZGUgPSB0ZXh0Ym9vay5ncm91cC5ub2RlO1xyXG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBXb3JkR3JvdXBCdXR0b25WaWV3KHRoaXMucGFyZW50Tm9kZSwgaXRlbSk7XHJcbiAgICAgICAgdGhpcy5ncm91cCA9IHRoaXMudmlldy5ncm91cC5ub2RlO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBDbGFzc05hbWUgPSB0aGlzLmdyb3VwLmNsYXNzTmFtZTtcclxuICAgICAgICB0aGlzLnZpZXcuZ3JvdXAubm9kZS5vbmNsaWNrID0gKGV2ZW50KSA9PiB0aGlzLmNsaWNrSGFuZGxlcih0ZXh0Ym9vaywgZXZlbnQpO1xyXG4gICAgICAgIGlmICh0aGlzLmdyb3VwLmNsYXNzTGlzdC5jb250YWlucyhhY3Rpdml0eUNsYXNzKSlcclxuICAgICAgICAgICAgdGhpcy50ZXh0Ym9vay5hY3RpdmVHcm91cCA9IHRoaXMuZ3JvdXA7XHJcbiAgICB9XHJcbiAgICBjbGlja0hhbmRsZXIodGV4dGJvb2ssIGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgV29yZEdyb3VwKHRleHRib29rKTtcclxuICAgICAgICBjb25zdCBzd2l0Y2hlZEdyb3VwQnV0dG9uID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoYC4ke3RoaXMuZ3JvdXBDbGFzc05hbWV9YCk7XHJcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBzd2l0Y2hlZEdyb3VwQnV0dG9uPy5kYXRhc2V0LmxldmVsO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoU3R5bGVzKHN3aXRjaGVkR3JvdXBCdXR0b24pO1xyXG4gICAgICAgIGlmIChsZXZlbCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdHcm91cE51bWJlciA9IHRoaXMuZ3JvdXBMaXN0LmluZGV4T2YobGV2ZWwpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ3JvdXAnLCBKU09OLnN0cmluZ2lmeShuZXdHcm91cE51bWJlcikpO1xyXG4gICAgICAgICAgICBncm91cC5yZW5kZXJDYXJkcyhuZXdHcm91cE51bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3dpdGNoU3R5bGVzKG5ld0dyb3VwQnV0dG9uKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0Ym9vay5hY3RpdmVHcm91cC5jbGFzc0xpc3QucmVtb3ZlKGFjdGl2aXR5Q2xhc3MpO1xyXG4gICAgICAgIGlmIChuZXdHcm91cEJ1dHRvbikge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRib29rLmFjdGl2ZUdyb3VwID0gbmV3R3JvdXBCdXR0b247XHJcbiAgICAgICAgICAgIHRoaXMudGV4dGJvb2suYWN0aXZlR3JvdXAuY2xhc3NMaXN0LmFkZChhY3Rpdml0eUNsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ3JlYXRvciB9IGZyb20gJy4uLy4uL0NyZWF0b3InO1xyXG5pbXBvcnQgJy4vd29yZEdyb3VwQnV0dG9uLnNjc3MnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JkR3JvdXBCdXR0b25WaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGUsIGl0ZW0pIHtcclxuICAgICAgICB0aGlzLmdyb3VwID0gbmV3IENyZWF0b3IocGFyZW50Tm9kZSwgJ2J1dHRvbicsICdncm91cF9fYnV0dG9uJyk7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbmV3IENyZWF0b3IodGhpcy5ncm91cC5ub2RlLCAnZGl2JywgJ2dyb3VwX19idXR0b24tbGVmdCcsIGl0ZW1bMV0pO1xyXG4gICAgICAgIHRoaXMuZ3JvdXAubm9kZS5kYXRhc2V0LmxldmVsID0gaXRlbVswXTtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gbmV3IENyZWF0b3IodGhpcy5ncm91cC5ub2RlLCAnZGl2JywgJ2dyb3VwX19idXR0b24tcmlnaHQnLCBpdGVtWzBdKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgKiBmcm9tICcuL3dvcmRHcm91cCc7XHJcbiIsImltcG9ydCB7IGFjdGl2aXR5Q2xhc3MsIFRleHRib29rU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2ljJztcclxuaW1wb3J0IHsgV29yZENhcmQgfSBmcm9tICcuLi8uLic7XHJcbmltcG9ydCBXb3JkR3JvdXBWaWV3IGZyb20gJy4vd29yZEdyb3VwLnZpZXcnO1xyXG5leHBvcnQgY2xhc3MgV29yZEdyb3VwIHtcclxuICAgIGNvbnN0cnVjdG9yKHRleHRib29rKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0Ym9vayA9IHRleHRib29rO1xyXG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBXb3JkR3JvdXBWaWV3KHRleHRib29rKTtcclxuICAgIH1cclxuICAgIGFzeW5jIGdldENhcmRzKGdyb3VwLCBwYWdlKSB7XHJcbiAgICAgICAgY29uc3Qgd29yZHMgPSBhd2FpdCBUZXh0Ym9va1NlcnZpY2UuZ2V0V29yZHMoZ3JvdXAsIHBhZ2UpO1xyXG4gICAgICAgIGlmICh3b3Jkcykge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRib29rLndvcmRzQ29udGFpbmVyLm5vZGUuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIHdvcmRzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gYWN0aXZpdHlDbGFzcztcclxuICAgICAgICAgICAgICAgIG5ldyBXb3JkQ2FyZCh0aGlzLnZpZXcsIHRoaXMudGV4dGJvb2ssIGl0ZW0sIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd29yZHM7XHJcbiAgICB9XHJcbiAgICByZW5kZXJDYXJkcyhncm91cCwgcGFnZSkge1xyXG4gICAgICAgIGxldCBzdG9yYWdlZFBhZ2UgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGFnZScpLCAxMCkgfHwgMDtcclxuICAgICAgICBsZXQgc3RvcmFnZWRHcm91cCA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdncm91cCcpLCAxMCkgfHwgMDtcclxuICAgICAgICBpZiAocGFnZSlcclxuICAgICAgICAgICAgc3RvcmFnZWRQYWdlID0gcGFnZTtcclxuICAgICAgICBpZiAoZ3JvdXApXHJcbiAgICAgICAgICAgIHN0b3JhZ2VkR3JvdXAgPSBncm91cDtcclxuICAgICAgICB2b2lkIHRoaXMuZ2V0Q2FyZHMoc3RvcmFnZWRHcm91cC50b1N0cmluZygpLCBzdG9yYWdlZFBhZ2UudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29yZEdyb3VwVmlldyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0Ym9vaykge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IHRleHRib29rLndvcmRzLm5vZGU7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi93b3JkUGFnaW5hdGlvbic7XHJcbiIsImltcG9ydCB7IFdvcmRHcm91cCB9IGZyb20gJy4uLy4uJztcclxuaW1wb3J0IHsgV29yZFBhZ2luYXRpb25WaWV3IH0gZnJvbSAnLi93b3JkUGFnaW5hdGlvbi52aWV3JztcclxuZXhwb3J0IGNsYXNzIFdvcmRQYWdpbmF0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHRleHRib29rKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0Ym9vayA9IHRleHRib29rO1xyXG4gICAgICAgIHRoaXMud29yZHNDb250YWluZXIgPSB0ZXh0Ym9vay53b3Jkc0NvbnRhaW5lci5ub2RlO1xyXG4gICAgfVxyXG4gICAgcGFnaW5hdGUodG90YWxQYWdlcywgcGFnZSkge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gcGFnZSB8fCBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwYWdlJykpICsgMSB8fCAxO1xyXG4gICAgICAgIGNvbnN0IHBhZ2luYXRpb24gPSBuZXcgV29yZFBhZ2luYXRpb25WaWV3KHRoaXMudGV4dGJvb2spO1xyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93UHJldmlvdXNCdXR0b24ocGFnaW5hdGlvbiwgdG90YWxQYWdlcywgY3VycmVudFBhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3VycmVudFBhZ2UgPiAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0ZpcnN0SXRlbShwYWdpbmF0aW9uLCB0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2hvd0FjdGl2ZUl0ZW0ocGFnaW5hdGlvbiwgdG90YWxQYWdlcywgY3VycmVudFBhZ2UpO1xyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA8IHRvdGFsUGFnZXMgLSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xhc3RJdGVtKHBhZ2luYXRpb24sIHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlIDwgdG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dOZXh0QnV0dG9uKHBhZ2luYXRpb24sIHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGlja0hhbmRsZXIocGFnaW5hdGlvbiwgdG90YWxQYWdlcywgcGFnZSkge1xyXG4gICAgICAgIGNvbnN0IHNlcnZlclBhZ2luYXRpb24gPSBwYWdlIC0gMTtcclxuICAgICAgICB0aGlzLndvcmRzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHBhZ2luYXRpb24uZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMucGFnaW5hdGUodG90YWxQYWdlcywgcGFnZSk7XHJcbiAgICAgICAgY29uc3Qgd29yZEdyb3VwID0gbmV3IFdvcmRHcm91cCh0aGlzLnRleHRib29rKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGFnZScsIEpTT04uc3RyaW5naWZ5KHNlcnZlclBhZ2luYXRpb24pKTtcclxuICAgICAgICB2b2lkIHdvcmRHcm91cC5yZW5kZXJDYXJkcyh1bmRlZmluZWQsIHNlcnZlclBhZ2luYXRpb24pO1xyXG4gICAgfVxyXG4gICAgc2hvd0ZpcnN0SXRlbShwYWdpbmF0aW9uLCB0b3RhbFBhZ2VzLCBwYWdlKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHBhZ2luYXRpb24uY3JlYXRlUGFnZSgnZmlyc3QgbnVtYmVyJywgYDxzcGFuPjE8L3NwYW4+YCk7XHJcbiAgICAgICAgZWxlbWVudC5vbmNsaWNrID0gKCkgPT4gdGhpcy5jbGlja0hhbmRsZXIocGFnaW5hdGlvbiwgdG90YWxQYWdlcywgMSk7XHJcbiAgICAgICAgaWYgKHBhZ2UgPiAzKSB7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb24uY3JlYXRlUGFnZSgnZG90cycsICc8c3Bhbj4uLi48L3NwYW4+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvd1ByZXZpb3VzQnV0dG9uKHBhZ2luYXRpb24sIHRvdGFsUGFnZXMsIHBhZ2UpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gcGFnaW5hdGlvbi5jcmVhdGVQYWdlKCdwYWdpbmF0aW9uX19idXR0b24gcHJldicsICfQn9GA0LXQtC4nKTtcclxuICAgICAgICBlbGVtZW50Lm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsaWNrSGFuZGxlcihwYWdpbmF0aW9uLCB0b3RhbFBhZ2VzLCBwYWdlIC0gMSk7XHJcbiAgICB9XHJcbiAgICBzaG93TmV4dEJ1dHRvbihwYWdpbmF0aW9uLCB0b3RhbFBhZ2VzLCBwYWdlKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHBhZ2luYXRpb24uY3JlYXRlUGFnZSgncGFnaW5hdGlvbl9fYnV0dG9uIG5leHQnLCBgPHNwYW4+0KHQu9C10LQuPC9zcGFuPmApO1xyXG4gICAgICAgIGVsZW1lbnQub25jbGljayA9ICgpID0+IHRoaXMuY2xpY2tIYW5kbGVyKHBhZ2luYXRpb24sIHRvdGFsUGFnZXMsIHBhZ2UgKyAxKTtcclxuICAgIH1cclxuICAgIHNob3dBY3RpdmVJdGVtKHBhZ2luYXRpb24sIHRvdGFsUGFnZXMsIHBhZ2UpIHtcclxuICAgICAgICBsZXQgYmVmb3JlUGFnZSA9IHBhZ2UgLSAxO1xyXG4gICAgICAgIGxldCBhZnRlclBhZ2UgPSBwYWdlICsgMTtcclxuICAgICAgICBsZXQgYWN0aXZlO1xyXG4gICAgICAgIGlmIChwYWdlID09IHRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgYmVmb3JlUGFnZSA9IGJlZm9yZVBhZ2UgLSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwYWdlID09IHRvdGFsUGFnZXMgLSAxKSB7XHJcbiAgICAgICAgICAgIGJlZm9yZVBhZ2UgPSBiZWZvcmVQYWdlIC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhZ2UgPT0gMSkge1xyXG4gICAgICAgICAgICBhZnRlclBhZ2UgPSBhZnRlclBhZ2UgKyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwYWdlID09IDIpIHtcclxuICAgICAgICAgICAgYWZ0ZXJQYWdlID0gYWZ0ZXJQYWdlICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgcGxlbmd0aCA9IGJlZm9yZVBhZ2U7IHBsZW5ndGggPD0gYWZ0ZXJQYWdlOyBwbGVuZ3RoKyspIHtcclxuICAgICAgICAgICAgaWYgKHBsZW5ndGggPiB0b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBwbGVuZ3RoID0gcGxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBhZ2UgPT0gcGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gJ2FjdGl2ZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gcGFnaW5hdGlvbi5jcmVhdGVQYWdlKGBudW1iZXIgJHthY3RpdmV9YCwgYDxzcGFuPiR7cGxlbmd0aH08L3NwYW4+YCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQub25jbGljayA9ICgpID0+IHRoaXMuY2xpY2tIYW5kbGVyKHBhZ2luYXRpb24sIHRvdGFsUGFnZXMsIHBsZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNob3dMYXN0SXRlbShwYWdpbmF0aW9uLCB0b3RhbFBhZ2VzLCBwYWdlKSB7XHJcbiAgICAgICAgaWYgKHBhZ2UgPCB0b3RhbFBhZ2VzIC0gMikge1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uLmNyZWF0ZVBhZ2UoJ2RvdHMnLCAnPHNwYW4+Li4uPC9zcGFuPicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gcGFnaW5hdGlvbi5jcmVhdGVQYWdlKCdsYXN0IG51bWJlcicsIGA8c3Bhbj4ke3RvdGFsUGFnZXN9PC9zcGFuPmApO1xyXG4gICAgICAgIGVsZW1lbnQub25jbGljayA9ICgpID0+IHRoaXMuY2xpY2tIYW5kbGVyKHBhZ2luYXRpb24sIHRvdGFsUGFnZXMsIHRvdGFsUGFnZXMpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENyZWF0b3IgfSBmcm9tICcuLi8uLi9DcmVhdG9yJztcclxuaW1wb3J0ICcuL3dvcmRQYWdpbmF0aW9uLnNjc3MnO1xyXG5leHBvcnQgY2xhc3MgV29yZFBhZ2luYXRpb25WaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHRleHRib29rKSB7XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uID0gbmV3IENyZWF0b3IodGV4dGJvb2sudGV4dGJvb2subm9kZSwgJ2RpdicsICdwYWdpbmF0aW9uJyk7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gbmV3IENyZWF0b3IodGhpcy5wYWdpbmF0aW9uLm5vZGUsICd1bCcpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlUGFnZShjbGFzc05hbWUsIGNvbnRlbnQpIHtcclxuICAgICAgICBjb25zdCBwYWdlID0gbmV3IENyZWF0b3IodGhpcy5saXN0Lm5vZGUsICdsaScsIGNsYXNzTmFtZSwgY29udGVudCk7XHJcbiAgICAgICAgcmV0dXJuIHBhZ2Uubm9kZTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLm5vZGUucmVtb3ZlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi9Xb3JkQ2FyZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vV29yZERldGFpbHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL1dvcmRHcm91cCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vV29yZEdyb3VwQnV0dG9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9Xb3JkUGFnaW5hdGlvbic7XHJcbiIsImV4cG9ydCBjbGFzcyBCYXNlQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHJvb3QpIHtcclxuICAgICAgICB0aGlzLnJvb3QgPSByb290O1xyXG4gICAgfVxyXG4gICAgZ2V0IGluc3RhbmNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCkge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaEVsZW1lbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGF0dGFjaEVsZW1lbnQoKSB7XHJcbiAgICAgICAgdGhpcy5yb290Py5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vVGV4dGJvb2snO1xyXG5leHBvcnQgKiBmcm9tICcuL0NyZWF0b3InO1xyXG5leHBvcnQgKiBmcm9tICcuL0J1dHRvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vSW5wdXQnO1xyXG5leHBvcnQgKiBmcm9tICcuL0FkdmFudGFnZXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL0NhcmRPcHBvcnR1bml0aWVzJztcclxuZXhwb3J0ICogZnJvbSAnLi9DYXJkVGVhbSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vRm9vdGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9IZWFkZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL01haW4nO1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2FwcCc7XHJcbiIsImltcG9ydCB7IEVVc2VyV29yZFN0YXR1cyB9IGZyb20gJy4uLy4uL2Jhc2ljJztcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vLi4vYmFzaWMvYXBpL2FwaSc7XHJcbmltcG9ydCB7IFBBR0VTX1BFUl9HUk9VUCB9IGZyb20gJy4uLy4uL2Jhc2ljL2NvbW1vbi9jb25zdGFudHMnO1xyXG5jb25zdCBOT1JNQUxfRElGRklDVUxUWSA9IDM7XHJcbmNvbnN0IERJRkZJQ1VMVF9ESUZGSUNVTFRZID0gNTtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXVkaW9DYWxsTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0F1ZGlvQ2FsbE1vZGVsIGNvbnN0cnVjdG9yJyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGB0L/QuNGB0L7QuiDRgdC70L7QsiDQuNC3INC+0L/RgNC10LTQtdC70LXQvdC90L7Qs9C+INGA0LDQt9C00LXQu9CwXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXAg0J3QvtC80LXRgCDRgNCw0LfQtNC10LvQsFxyXG4gICAgICogQHJldHVybnMg0KHQv9C40YHQvtC6INGB0LvQvtCyXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldFdvcmRzRnJvbUdyb3VwKGdyb3VwLCBwYWdlKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICBjb25zdCBtYXhQYWdlcyA9IHBhZ2UgPyBwYWdlIDogUEFHRVNfUEVSX0dST1VQO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4UGFnZXM7IGkrKykge1xyXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKEFwaS5nZXRXb3JkcyhgJHtncm91cH1gLCBgJHtpfWApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKChwYWdlcykgPT4ge1xyXG4gICAgICAgICAgICBsZXQgd29yZHMgPSBbXTtcclxuICAgICAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoJ2Vycm9yJyBpbiBwYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdvcmRzID0gd29yZHMuY29uY2F0KHBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2F2ZVJlc3VsdFRvU2VydmVyKHdvcmRzLCBhbnN3ZXJzKSB7XHJcbiAgICAgICAgd29yZHMuZm9yRWFjaCgod29yZCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdm9pZCBBcGkuZ2V0VXNlcldvcmQod29yZC5pZCkudGhlbigod29yZEluZm8pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICgnZGlmZmljdWx0eScgaW4gd29yZEluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVXb3JkSW5mbyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eTogd29yZEluZm8uZGlmZmljdWx0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVzUmlnaHQ6IHdvcmRJbmZvLm9wdGlvbmFsLmdhbWVzUmlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDQldGB0LvQuCDQt9Cw0L/QuNGB0Ywg0YPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCLCDRgtC+INC40YHQv9GA0LDQstC70Y/QtdC8INC4INC+0LHQvdC+0LLQu9GP0LXQvFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbnN3ZXJzW2luZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDQldGB0LvQuCDQv9GA0LDQstC40LvRjNC90YvQuSDQvtGC0LLQtdGCXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVdvcmRJbmZvLm9wdGlvbmFsLmdhbWVzUmlnaHQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh1cGRhdGVXb3JkSW5mby5kaWZmaWN1bHR5ID09PSBFVXNlcldvcmRTdGF0dXMubm9ybWFsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVXb3JkSW5mby5vcHRpb25hbC5nYW1lc1JpZ2h0ID4gTk9STUFMX0RJRkZJQ1VMVFkpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodXBkYXRlV29yZEluZm8uZGlmZmljdWx0eSA9PT0gRVVzZXJXb3JkU3RhdHVzLmRpZmZpY3VsdCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVdvcmRJbmZvLm9wdGlvbmFsLmdhbWVzUmlnaHQgPiBESUZGSUNVTFRfRElGRklDVUxUWSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVdvcmRJbmZvLmRpZmZpY3VsdHkgPSBFVXNlcldvcmRTdGF0dXMuc3R1ZGllZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JXRgdC70Lgg0L3QtdC/0YDQsNCy0LjQu9GM0L3Ri9C5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVdvcmRJbmZvLm9wdGlvbmFsLmdhbWVzUmlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlV29yZEluZm8uZGlmZmljdWx0eSA9PT0gRVVzZXJXb3JkU3RhdHVzLm5vcm1hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlV29yZEluZm8uZGlmZmljdWx0eSA9IEVVc2VyV29yZFN0YXR1cy5kaWZmaWN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodXBkYXRlV29yZEluZm8uZGlmZmljdWx0eSA9PT0gRVVzZXJXb3JkU3RhdHVzLnN0dWRpZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVdvcmRJbmZvLmRpZmZpY3VsdHkgPSBFVXNlcldvcmRTdGF0dXMubm9ybWFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgQXBpLnVwZGF0ZVVzZXJXb3JkKHdvcmQuaWQsIHVwZGF0ZVdvcmRJbmZvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vINCY0L3QsNGH0LUg0YHQvtC30LTQsNC10Lwg0L3QvtCy0YPRjiDQt9Cw0L/QuNGB0YxcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdXb3JkSW5mbyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eTogYW5zd2Vyc1tpbmRleF0gPyBFVXNlcldvcmRTdGF0dXMubm9ybWFsIDogRVVzZXJXb3JkU3RhdHVzLmRpZmZpY3VsdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVzUmlnaHQ6IGFuc3dlcnNbaW5kZXhdID8gMSA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB2b2lkIEFwaS5jcmVhdGVVc2VyV29yZCh3b3JkLmlkLCBuZXdXb3JkSW5mbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFwaSB9IGZyb20gJy4uLy4uL2Jhc2ljJztcclxuaW1wb3J0IExvYWRpbmdQYWdlIGZyb20gJy4uL0xvYWRpbmdQYWdlL0xvYWRpbmdQYWdlJztcclxuaW1wb3J0IEF1ZGlvQ2FsbE1vZGVsIGZyb20gJy4vQXVkaW9DYWxsLm1vZGVsJztcclxuaW1wb3J0IEF1ZGlvQ2FsbEdhbWVQYWdlIGZyb20gJy4vQXVkaW9DYWxsR2FtZVBhZ2UvQXVkaW9DYWxsR2FtZVBhZ2UnO1xyXG5pbXBvcnQgQXVkaW9DYWxsUmVzdWx0UGFnZSBmcm9tICcuL0F1ZGlvQ2FsbFJlc3VsdFBhZ2UvQXVkaW9DYWxsUmVzdWx0UGFnZSc7XHJcbmltcG9ydCBBdWRpb0NhbGxSdWxlcyBmcm9tICcuL0F1ZGlvQ2FsbFJ1bGVzL0F1ZGlvQ2FsbFJ1bGVzJztcclxuY29uc3QgV09SRFNfSU5fR0FNRSA9IDIwO1xyXG5leHBvcnQgY2xhc3MgQXVkaW9DYWxsIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgZ3JvdXAsIHBhZ2UpIHtcclxuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICB0aGlzLmF1ZGlvQ2FsbE1vZGVsID0gbmV3IEF1ZGlvQ2FsbE1vZGVsKCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5ydWxlcyA9IG5ldyBBdWRpb0NhbGxSdWxlcyh0aGlzLnBhcmVudCwgISF0aGlzLnBhZ2UpO1xyXG4gICAgICAgIHRoaXMucnVsZXMub25DbGljayA9IChncm91cCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJ1bGVzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9pZCB0aGlzLm1haW5DeWNsZShncm91cCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGFzeW5jIG1haW5DeWNsZShncm91cCkge1xyXG4gICAgICAgIGNvbnN0IGxvYWRpbmcgPSBuZXcgTG9hZGluZ1BhZ2UodGhpcy5wYXJlbnQpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJHcm91cCA9IHRoaXMuZ3JvdXAgPyB0aGlzLmdyb3VwIDogZ3JvdXA7XHJcbiAgICAgICAgY29uc3Qgd29yZHMgPSBhd2FpdCB0aGlzLmF1ZGlvQ2FsbE1vZGVsLmdldFdvcmRzRnJvbUdyb3VwKGN1cnJHcm91cCwgdGhpcy5wYWdlKTtcclxuICAgICAgICBsb2FkaW5nLmRlc3Ryb3koKTtcclxuICAgICAgICBjb25zdCBhbnN3ZXJSZXN1bHQgPSBbXTtcclxuICAgICAgICBjb25zdCBnYW1lV29yZHMgPSB3b3Jkcy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpLnNsaWNlKDAsIFdPUkRTX0lOX0dBTUUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGdhbWVXb3Jkcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lV29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZ2FtZSA9IG5ldyBBdWRpb0NhbGxHYW1lUGFnZSh0aGlzLnBhcmVudCwgaSwgZ2FtZVdvcmRzLCAoKSA9PiB0aGlzLm9uRXhpdCgpKTtcclxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnYW1lLm9uTmV4dCA9IChzdHIpID0+IHJlc29sdmUoc3RyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb21pc2U7XHJcbiAgICAgICAgICAgIGdhbWUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBhbnN3ZXJSZXN1bHQucHVzaChyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXBpLmlzQXV0aG9yaXplZCgpKSB7XHJcbiAgICAgICAgICAgIHZvaWQgdGhpcy5hdWRpb0NhbGxNb2RlbC5zYXZlUmVzdWx0VG9TZXJ2ZXIoZ2FtZVdvcmRzLCBhbnN3ZXJSZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXcgQXVkaW9DYWxsUmVzdWx0UGFnZSh0aGlzLnBhcmVudCwgZ2FtZVdvcmRzLCBhbnN3ZXJSZXN1bHQsICgpID0+IHRoaXMub25FeGl0KCkpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGJhc2VVcmwgfSBmcm9tICcuLi8uLi8uLi9iYXNpYyc7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvQnV0dG9uJztcclxuaW1wb3J0IHsgQ3JlYXRvciB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvQ3JlYXRvcic7XHJcbmltcG9ydCAnLi9nYW1lcGFnZS5zY3NzJztcclxuY29uc3QgQU5TV0VSX0JVVFRPTlMgPSA1O1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdWRpb0NhbGxHYW1lUGFnZSBleHRlbmRzIENyZWF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50LCBjdXJJbmRleCwgZ2FtZVdvcmRzLCBvbkV4aXQpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsICdkaXYnLCAnZ2FtZXBhZ2UnKTtcclxuICAgICAgICB0aGlzLmJ0bk1hc3MgPSBbXTtcclxuICAgICAgICB0aGlzLmFuc3dlciA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMud29yZCA9IGdhbWVXb3Jkc1tjdXJJbmRleF07XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy53b3JkKTtcclxuICAgICAgICBjb25zdCBwcm9ncmVzc1duZCA9IG5ldyBDcmVhdG9yKHRoaXMubm9kZSwgJ2RpdicsICdnYW1lcGFnZV9fcHJvZ3Jlc3Mtd2luZG93Jyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lV29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBDcmVhdG9yKHByb2dyZXNzV25kLm5vZGUsICdkaXYnLCAnZ2FtZXBhZ2VfX3Byb2dyZXNzLWl0ZW0nKTtcclxuICAgICAgICAgICAgaWYgKGkgPD0gY3VySW5kZXgpXHJcbiAgICAgICAgICAgICAgICBpdGVtLm5vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMyMDIwMjAnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF1ZGlvV2luZG93ID0gbmV3IENyZWF0b3IodGhpcy5ub2RlLCAnZGl2JywgJ2dhbWVwYWdlX19hdWRpby13aW5kb3cnKTtcclxuICAgICAgICB0aGlzLmJ0blBsYXkgPSBuZXcgQnV0dG9uKHRoaXMuYXVkaW9XaW5kb3cubm9kZSwgJ2dhbWVwYWdlX19wbGF5JywgJycsICgpID0+IHRoaXMucGxheVdvcmQoKSk7XHJcbiAgICAgICAgdGhpcy5hdWRpbyA9IG5ldyBBdWRpbyhgJHtiYXNlVXJsfS8ke3RoaXMud29yZC5hdWRpb31gKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLm9uY2FucGxheXRocm91Z2ggPSAoKSA9PiB0aGlzLnBsYXlXb3JkKCk7XHJcbiAgICAgICAgY29uc3QgYnRuV3JhcHBlcjEgPSBuZXcgQ3JlYXRvcih0aGlzLm5vZGUsICdkaXYnLCAnZ2FtZXBhZ2VfX2J0bi13cmFwcGVyJyk7XHJcbiAgICAgICAgY29uc3QgYW5zd2Vyc051bSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21TZXF1ZW5jZShBTlNXRVJfQlVUVE9OUyAtIDEsIGdhbWVXb3Jkcy5sZW5ndGgsIGN1ckluZGV4KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhhbnN3ZXJzTnVtKTtcclxuICAgICAgICBhbnN3ZXJzTnVtLnB1c2goY3VySW5kZXgpO1xyXG4gICAgICAgIHRoaXMuYW5zd2VycyA9IGFuc3dlcnNOdW0uc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KS5tYXAoKG51bSkgPT4gZ2FtZVdvcmRzW251bV0ud29yZFRyYW5zbGF0ZSk7XHJcbiAgICAgICAgdGhpcy5hbnN3ZXJzLmZvckVhY2goKGJ0blRleHQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuTWFzcy5wdXNoKG5ldyBCdXR0b24oYnRuV3JhcHBlcjEubm9kZSwgJ2dhbWVwYWdlX19hbnN3ZXInLCBgJHtpbmRleCArIDF9LiAke2J0blRleHR9YCwgKCkgPT4gdGhpcy5vbkFuc3dlcihpbmRleCkpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBidG5XcmFwcGVyMiA9IG5ldyBDcmVhdG9yKHRoaXMubm9kZSwgJ2RpdicsICdnYW1lcGFnZV9fYnRuLXdyYXBwZXInKTtcclxuICAgICAgICB0aGlzLmJ0bk5leHQgPSBuZXcgQnV0dG9uKGJ0bldyYXBwZXIyLm5vZGUsICdnYW1lcGFnZV9fbmV4dCcsICdOZXh0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0Fuc3dlcmVkKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk5leHQodGhpcy5hbnN3ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYnRuQmFjayA9IG5ldyBCdXR0b24oYnRuV3JhcHBlcjIubm9kZSwgJ2dhbWVwYWdlX19iYWNrJywgJ1F1aXQnLCAoKSA9PiBvbkV4aXQoKSk7XHJcbiAgICAgICAgdGhpcy5rZXlIYW5kbGVyQmluZCA9IHRoaXMua2V5SGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5SGFuZGxlckJpbmQpO1xyXG4gICAgICAgIHRoaXMuaXNBbnN3ZXJlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQntCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyBLZXlib2FyZEV2ZW50INC00LvRjyDQstGL0LHQvtGA0LAg0YEg0LrQu9Cw0LLQuNCw0YLRg9GA0YtcclxuICAgICAqIEBwYXJhbSBlINCh0L7QsdGL0YLQuNC1IEtleWJvYXJkRXZlbnRcclxuICAgICAqL1xyXG4gICAga2V5SGFuZGxlcihlKSB7XHJcbiAgICAgICAgaWYgKGUua2V5ID4gJzAnICYmIGUua2V5IDw9IGAke0FOU1dFUl9CVVRUT05TfWApIHtcclxuICAgICAgICAgICAgdGhpcy5vbkFuc3dlcihwYXJzZUludChlLmtleSkgLSAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmIHRoaXMuaXNBbnN3ZXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uTmV4dCh0aGlzLmFuc3dlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleUhhbmRsZXJCaW5kKTtcclxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICBvbkFuc3dlcihpbmRleCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQW5zd2VyZWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmlzQW5zd2VyZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYW5zd2VyID0gdGhpcy5hbnN3ZXJzW2luZGV4XSA9PT0gdGhpcy53b3JkLndvcmRUcmFuc2xhdGU7XHJcbiAgICAgICAgdGhpcy5idG5NYXNzW2luZGV4XS5ub2RlLmNsYXNzTGlzdC5hZGQodGhpcy5hbnN3ZXIgPyAnYW5zd2VyX3JpZ2h0JyA6ICdhbnN3ZXJfd3JvbmcnKTtcclxuICAgICAgICB0aGlzLmJ0blBsYXkuZGVzdHJveSgpO1xyXG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBDcmVhdG9yKHRoaXMuYXVkaW9XaW5kb3cubm9kZSwgJ2ltZycsICdhdWRpby13aW5kb3dfX2ltZycpO1xyXG4gICAgICAgIGltZy5ub2RlLnNyYyA9IGAke2Jhc2VVcmx9LyR7dGhpcy53b3JkLmltYWdlfWA7XHJcbiAgICAgICAgaW1nLm5vZGUuYWx0ID0gYCR7dGhpcy53b3JkLndvcmR9YDtcclxuICAgICAgICBjb25zdCByaWdodFduZCA9IG5ldyBDcmVhdG9yKHRoaXMuYXVkaW9XaW5kb3cubm9kZSwgJ2RpdicsICdhdWRpby13aW5kb3dfX3JpZ2h0LWJveCcpO1xyXG4gICAgICAgIG5ldyBCdXR0b24ocmlnaHRXbmQubm9kZSwgJ2F1ZGlvLXdpbmRvd19fcGxheScsICcnLCAoKSA9PiB0aGlzLnBsYXlXb3JkKCkpO1xyXG4gICAgICAgIG5ldyBDcmVhdG9yKHJpZ2h0V25kLm5vZGUsICdzcGFuJywgJycsIHRoaXMud29yZC53b3JkKTtcclxuICAgICAgICBuZXcgQ3JlYXRvcihyaWdodFduZC5ub2RlLCAnc3BhbicsICdhdWRpby13aW5kb3dfX3RyYXNjcmlwdCcsIHRoaXMud29yZC50cmFuc2NyaXB0aW9uKTtcclxuICAgICAgICBuZXcgQ3JlYXRvcihyaWdodFduZC5ub2RlLCAnc3BhbicsICcnLCBgIC0gJHt0aGlzLndvcmQud29yZFRyYW5zbGF0ZX1gKTtcclxuICAgICAgICBuZXcgQ3JlYXRvcihyaWdodFduZC5ub2RlLCAnZGl2JywgJ2F1ZGlvLXdpbmRvd19fdGV4dCcsIHRoaXMud29yZC50ZXh0RXhhbXBsZSk7XHJcbiAgICAgICAgbmV3IENyZWF0b3IocmlnaHRXbmQubm9kZSwgJ2RpdicsICdhdWRpby13aW5kb3dfX3RleHQnLCB0aGlzLndvcmQudGV4dEV4YW1wbGVUcmFuc2xhdGUpO1xyXG4gICAgfVxyXG4gICAgcGxheVdvcmQoKSB7XHJcbiAgICAgICAgdm9pZCB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0YHQu9GD0YfQsNC50L3QvtC1INGH0LjRgdC70L4sINC90LUg0LHQvtC70YzRiNC1IG1heEludFxyXG4gICAgICogQHBhcmFtIG1heEludCDQnNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0YfQuNGB0LvQvlxyXG4gICAgICogQHJldHVybnMg0KHQu9GD0YfQsNC50L3QvtC1INGH0LjRgdC70LUg0L3QtSDQsdC+0LvRjNGI0LUgbWF4SW50XHJcbiAgICAgKi9cclxuICAgIGdldFJhbmRvbUludChtYXhJbnQpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4SW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0LzQsNGB0YHQuNCyINGB0LvRg9GH0LDQudC90YvRhSDRh9C40YHQtdC7XHJcbiAgICAgKiBAcGFyYW0gYW1vdW50INCa0L7Qu9C40YfQtdGB0YLQstC+INGH0LjRgdC10Lsg0LIg0LzQsNGB0YHQuNCy0LVcclxuICAgICAqIEBwYXJhbSBtYXhOdW1iZXIg0JzQsNC60YHQuNC80LDQu9GM0L3QvtC1INGH0LjRgdC70L5cclxuICAgICAqIEBwYXJhbSBleGNsdWRlINCY0YHQutC70Y7Rh9C40YLRjCDRh9C40YHQu9C+XHJcbiAgICAgKiBAcmV0dXJucyDQnNCw0YHRgdC40LIg0YHQu9GD0YfQsNC50L3Ri9GFINGH0LjRgdC10LtcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVSYW5kb21TZXF1ZW5jZShhbW91bnQsIG1heE51bWJlciwgZXhjbHVkZSkge1xyXG4gICAgICAgIGNvbnN0IG1hc3MgPSBbXTtcclxuICAgICAgICB3aGlsZSAobWFzcy5sZW5ndGggPCBhbW91bnQpIHtcclxuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuZ2V0UmFuZG9tSW50KG1heE51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChuID09PSBleGNsdWRlIHx8IG1hc3MuaW5jbHVkZXMobikpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgbWFzcy5wdXNoKG4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWFzcztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBiYXNlVXJsIH0gZnJvbSAnLi4vLi4vLi4vYmFzaWMnO1xyXG5pbXBvcnQgeyBCdXR0b24sIENyZWF0b3IgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzJztcclxuaW1wb3J0ICcuL3Jlc3VsdC5zY3NzJztcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXVkaW9DYWxsUmVzdWx0UGFnZSBleHRlbmRzIENyZWF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50LCBnYW1lV29yZHMsIGdhbWVSZXN1bHQsIG9uRXhpdCkge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCwgJ2RpdicsICdyZXN1bHQnLCBgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cInJlc3VsdF9fcmFkaW9cIiBuYW1lPVwicmFkaW9cIiBpZD1cInJhZGlvMVwiIGNoZWNrZWQ+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwicmVzdWx0X19yYWRpb1wiIG5hbWU9XCJyYWRpb1wiIGlkPVwicmFkaW8yXCI+YCk7XHJcbiAgICAgICAgLy8gY29uc3QgcmFkaW8xID0gbmV3IENyZWF0b3I8SFRNTElucHV0RWxlbWVudD4odGhpcy5ub2RlLCAnaW5wdXQnLCAncmVzdWx0X19jaGVja2JveCcpO1xyXG4gICAgICAgIC8vIHJhZGlvMS5ub2RlLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIC8vIHJhZGlvMS5ub2RlLm5hbWUgPSAncmFkaW8nO1xyXG4gICAgICAgIC8vIHJhZGlvMS5ub2RlLmlkID0gJ3JhZGlvMSc7XHJcbiAgICAgICAgLy8gcmFkaW8xLm5vZGUuY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gY29uc3QgcmFkaW8yID0gbmV3IENyZWF0b3I8SFRNTElucHV0RWxlbWVudD4odGhpcy5ub2RlLCAnaW5wdXQnLCAncmVzdWx0X19jaGVja2JveCcpO1xyXG4gICAgICAgIC8vIHJhZGlvMi5ub2RlLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIC8vIHJhZGlvMi5ub2RlLm5hbWUgPSAncmFkaW8nO1xyXG4gICAgICAgIC8vIHJhZGlvMi5ub2RlLmlkID0gJ3JhZGlvMic7XHJcbiAgICAgICAgY29uc3QgcmlnaHRBbnN3ZXJzID0gZ2FtZVJlc3VsdC5maWx0ZXIoKGVsKSA9PiBlbCkubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHduZCA9IG5ldyBDcmVhdG9yKHRoaXMubm9kZSwgJ2RpdicsICdyZXN1bHRfX21haW4td2luZG93Jyk7XHJcbiAgICAgICAgLy8g0JvQtdCy0L7QtSDQvtC60L3QvlxyXG4gICAgICAgIGNvbnN0IHduZExlZnQgPSBuZXcgQ3JlYXRvcih3bmQubm9kZSwgJ2RpdicsICdyZXN1bHRfX3dpbmRvdy1sZWZ0JywgYCA8ZGl2IGNsYXNzPVwicmVzdWx0X193b3JkX21pZGRsZVwiPjxkaXYgY2xhc3M9XCJyZXN1bHRfX3Jlc3VsdC1zaWduIHJlc3VsdC1zaWduX3JpZ2h0XCI+PC9kaXY+XHJcbiAgICAgICAgICA8c3Bhbj7Qn9GA0LDQstC40LvRjNC90YvRhSDQvtGC0LLQtdGC0L7QsjogJHtyaWdodEFuc3dlcnN9PC9zcGFuPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXN1bHRfX3dvcmRfbWlkZGxlXCI+PGRpdiBjbGFzcz1cInJlc3VsdF9fcmVzdWx0LXNpZ24gcmVzdWx0LXNpZ25fd3JvbmdcIj48L2Rpdj5cclxuICAgICAgICAgIDxzcGFuPtCd0LXQv9GA0LDQstC40LvRjNC90YvRhSDQvtGC0LLQtdGC0L7QsjogJHtnYW1lUmVzdWx0Lmxlbmd0aCAtIHJpZ2h0QW5zd2Vyc308L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgPGJyPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXN1bHRfX3dvcmRfbWlkZGxlXCI+0JLQsNGIINGA0LXQt9GD0LvRjNGC0LDRgjogJHtNYXRoLnJvdW5kKChyaWdodEFuc3dlcnMgKiAxMDApIC8gZ2FtZVJlc3VsdC5sZW5ndGgpfSAlPC9kaXY+YCk7XHJcbiAgICAgICAgY29uc3Qgc3ZnV3JhcHBlciA9IG5ldyBDcmVhdG9yKHduZExlZnQubm9kZSwgJ2RpdicsICdyZXN1bHRfX3N2Zy13cmFwcGVyJyk7XHJcbiAgICAgICAgY29uc3QgZGlhZ3JhbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XHJcbiAgICAgICAgZGlhZ3JhbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsICcwIDAgMTAwIDEwMCcpO1xyXG4gICAgICAgIGRpYWdyYW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgJzIwMCcpO1xyXG4gICAgICAgIGRpYWdyYW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsICcyMDAnKTtcclxuICAgICAgICB0aGlzLmRyYXdQaWUoZGlhZ3JhbSwgcmlnaHRBbnN3ZXJzIC8gZ2FtZVJlc3VsdC5sZW5ndGgpO1xyXG4gICAgICAgIHN2Z1dyYXBwZXIubm9kZS5hcHBlbmQoZGlhZ3JhbSk7XHJcbiAgICAgICAgLy8g0J/RgNCw0LLQvtC1INC+0LrQvdC+XHJcbiAgICAgICAgY29uc3QgcmlnaHRXbmQgPSBuZXcgQ3JlYXRvcih3bmQubm9kZSwgJ2RpdicsICdyZXN1bHRfX3dpbmRvdy1yaWdodCcpO1xyXG4gICAgICAgIGNvbnN0IGZyYW1lID0gbmV3IENyZWF0b3IocmlnaHRXbmQubm9kZSwgJ2RpdicsICdyZXN1bHRfX2ZyYW1lJyk7XHJcbiAgICAgICAgZ2FtZVdvcmRzLmZvckVhY2goKHdvcmQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKGAke2Jhc2VVcmx9LyR7d29yZC5hdWRpb31gKTtcclxuICAgICAgICAgICAgY29uc3QgbGluZSA9IG5ldyBDcmVhdG9yKGZyYW1lLm5vZGUsICdkaXYnLCAncmVzdWx0X19saW5lJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBDcmVhdG9yKGxpbmUubm9kZSwgJ2RpdicsICdyZXN1bHRfX3Jlc3VsdC1zaWduJyk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5ub2RlLmNsYXNzTGlzdC5hZGQoZ2FtZVJlc3VsdFtpbmRleF0gPyAncmVzdWx0LXNpZ25fcmlnaHQnIDogJ3Jlc3VsdC1zaWduX3dyb25nJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IG5ldyBCdXR0b24obGluZS5ub2RlLCAncmVzdWx0X19wbGF5JywgJycsICgpID0+IGF1ZGlvLnBsYXkoKSk7XHJcbiAgICAgICAgICAgIGJ0bi5ub2RlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXVkaW8ub25jYW5wbGF5dGhyb3VnaCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ0bi5ub2RlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIG5ldyBDcmVhdG9yKGxpbmUubm9kZSwgJ3NwYW4nLCAncmVzdWx0X193b3JkJywgd29yZC53b3JkKTtcclxuICAgICAgICAgICAgbmV3IENyZWF0b3IobGluZS5ub2RlLCAnc3BhbicsICdyZXN1bHRfX3RyYXNjcmlwdCcsIHdvcmQudHJhbnNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIG5ldyBDcmVhdG9yKGxpbmUubm9kZSwgJ3NwYW4nLCAncmVzdWx0X193b3JkJywgYCAtICR7d29yZC53b3JkVHJhbnNsYXRlfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGxvd0JhciA9IG5ldyBDcmVhdG9yKHRoaXMubm9kZSwgJ2RpdicsICdsb3ctYmFyJywgYDxkaXY+PC9kaXY+PGRpdiBjbGFzcz1cImxvdy1iYXJfX2xhYmVsLXdyYXBwZXJcIj5cclxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJyYWRpbzFcIiBjbGFzcz1cImxvdy1iYXJfX2xhYmVsXCI+PC9sYWJlbD5cclxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJyYWRpbzJcIiBjbGFzcz1cImxvdy1iYXJfX2xhYmVsXCI+PC9sYWJlbD5cclxuICAgICAgICA8L2Rpdj5gKTtcclxuICAgICAgICBuZXcgQnV0dG9uKGxvd0Jhci5ub2RlLCAncmVzdWx0X19leGl0JywgJ0V4aXQnLCAoKSA9PiBvbkV4aXQoKSk7XHJcbiAgICB9XHJcbiAgICBkcmF3UGllKGVsZW1lbnQsIGFuZ2xlKSB7XHJcbiAgICAgICAgY29uc3QgZHJTZWdtZW50ID0gZnVuY3Rpb24gKHN0eWxlLCBhbmdlMSwgYW5nZTIpIHtcclxuICAgICAgICAgICAgbGV0IGRpciA9ICcwJztcclxuICAgICAgICAgICAgaWYgKGFuZ2UyIC0gYW5nZTEgPiAwLjUpXHJcbiAgICAgICAgICAgICAgICBkaXIgPSAnMSc7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlMSA9IE1hdGguUEkgKiAyICogYW5nZTE7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlMiA9IE1hdGguUEkgKiAyICogYW5nZTI7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhZCA9IDQ1LCBjeCA9IDUwLCBjeSA9IDUwO1xyXG4gICAgICAgICAgICBjb25zdCBkeDEgPSBNYXRoLnNpbihhbmdsZTEpICogcmFkICsgY3g7XHJcbiAgICAgICAgICAgIGNvbnN0IGR5MSA9IC1NYXRoLmNvcyhhbmdsZTEpICogcmFkICsgY3k7XHJcbiAgICAgICAgICAgIGNvbnN0IGR4MiA9IE1hdGguc2luKGFuZ2xlMikgKiByYWQgKyBjeDtcclxuICAgICAgICAgICAgY29uc3QgZHkyID0gLU1hdGguY29zKGFuZ2xlMikgKiByYWQgKyBjeTtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0eWxlJywgc3R5bGUpO1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsIGBNICR7ZHgxfSwke2R5MX0gQSAke3JhZH0sJHtyYWR9IDAgJHtkaXJ9IDEgJHtkeDJ9LCR7ZHkyfSBMICR7Y3h9LCR7Y3l9IFpgKTtcclxuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoYW5nbGUgIT09IDApIHtcclxuICAgICAgICAgICAgZHJTZWdtZW50KCdmaWxsOmxpbWU7IHN0cm9rZTpibGFjazsgc3Ryb2tlLXdpZHRoOjM7JywgMCwgYW5nbGUpO1xyXG4gICAgICAgICAgICBkclNlZ21lbnQoJ2ZpbGw6cmVkOyBzdHJva2U6YmxhY2s7IHN0cm9rZS13aWR0aDozOycsIGFuZ2xlLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRyU2VnbWVudCgnZmlsbDpyZWQ7IHN0cm9rZTpibGFjazsgc3Ryb2tlLXdpZHRoOjM7JywgMCwgMC45OSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvQnV0dG9uJztcclxuaW1wb3J0IHsgQ3JlYXRvciB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvQ3JlYXRvcic7XHJcbmltcG9ydCB7IEdST1VQX0FNT1VOVCB9IGZyb20gJy4uLy4uLy4uL2Jhc2ljL2NvbW1vbi9jb25zdGFudHMnO1xyXG5pbXBvcnQgJy4vcnVsZXMuc2Nzcyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1ZGlvQ2FsbFJ1bGVzIGV4dGVuZHMgQ3JlYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGZyb21Cb29rID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsICdkaXYnLCAncnVsZXMnKTtcclxuICAgICAgICBjb25zdCB3bmQgPSBuZXcgQ3JlYXRvcih0aGlzLm5vZGUsICdkaXYnLCAncnVsZXNfX3dpbmRvdycsIGBcclxuICAgICAgICA8aDIgY2xhc3M9XCJydWxlc19fdGl0bGVcIj7Qn9GA0LDQstC40LvQsCDQuNCz0YDRiyBcItCQ0YPQtNC40L7QstGL0LfQvtCyXCI8L2gyPlxyXG4gICAgICAgIDxwIGNsYXNzPVwicnVsZXNfX3J1bGVzXCI+0JjQs9GA0LAgXCLQkNGD0LTQuNC+0LLRi9C30L7QslwiINC/0L7Qt9Cy0L7Qu9GP0LXRgiDRg9C70YPRh9GI0LjRgtGMINCy0L7RgdC/0YDQuNGP0YLQuNC1INGB0LvQvtCyINC90LAg0YHQu9GD0YUuPC9wPlxyXG4gICAgICAgIDxwIGNsYXNzPVwicnVsZXNfX3J1bGVzXCI+0JLRiyDQtNC+0LvQttC90Ysg0LLRi9Cx0YDQsNGC0Ywg0L/QtdGA0LXQstC+0LQg0YPRgdC70YvRiNCw0L3QvdC+0LPQviDRgdC70L7QstCwLjwvcD5cclxuICAgICAgICA8cCBjbGFzcz1cInJ1bGVzX19ydWxlc1wiPtCj0L/RgNCw0LLQu9GP0YLRjCDQvNC+0LbQvdC+INC60L3QvtC/0LrQsNC80LggMSAtIDUg0LLRi9Cx0L7RgCwgRW50ZXIgLSDRgdC70LXQtNGD0YnQuNC5PC9wPlxyXG4gICAgICBgKTtcclxuICAgICAgICBjb25zdCBidG5XcmFwcGVyID0gbmV3IENyZWF0b3Iod25kLm5vZGUsICdkaXYnLCAncnVsZXNfX2J0bi13cmFwcGVyJyk7XHJcbiAgICAgICAgaWYgKGZyb21Cb29rKSB7XHJcbiAgICAgICAgICAgIG5ldyBCdXR0b24oYnRuV3JhcHBlci5ub2RlLCAncnVsZXNfX2J1dHRvbicsICdPaycsICgpID0+IHRoaXMub25DbGljaygwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBidG5XcmFwcGVyLm5vZGUuaW5uZXJIVE1MICs9ICc8cCBjbGFzcz1cInJ1bGVzX19ydWxlc1wiPtCS0YvQsdC10YDQuNGC0LUg0LPRgNGD0L/Qv9GDINGB0LvQvtC20L3QvtGB0YLQuDo8L3A+JztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gR1JPVVBfQU1PVU5UOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9IG5ldyBCdXR0b24oYnRuV3JhcHBlci5ub2RlLCAncnVsZXNfX2J1dHRvbicsIGAke2l9YCwgKCkgPT4gdGhpcy5vbkNsaWNrKGkpKTtcclxuICAgICAgICAgICAgICAgIGJ0bi5ub2RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuZ2V0Q29sb3JGcm9tTnVtYmVyKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMua2V5SGFuZGxlckJpbmQgPSB0aGlzLmtleUhhbmRsZXIuYmluZCh0aGlzKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleUhhbmRsZXJCaW5kKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0J7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gS2V5Ym9hcmRFdmVudCDQtNC70Y8g0LLRi9Cx0L7RgNCwINGBINC60LvQsNCy0LjQsNGC0YPRgNGLXHJcbiAgICAgKiBAcGFyYW0gZSDQodC+0LHRi9GC0LjQtSBLZXlib2FyZEV2ZW50XHJcbiAgICAgKi9cclxuICAgIGtleUhhbmRsZXIoZSkge1xyXG4gICAgICAgIGlmIChlLmtleSA+ICcwJyAmJiBlLmtleSA8PSBgJHtHUk9VUF9BTU9VTlR9YCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2socGFyc2VJbnQoZS5rZXkpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5SGFuZGxlckJpbmQpO1xyXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIGdldENvbG9yRnJvbU51bWJlcihudW0pIHtcclxuICAgICAgICBsZXQgc3RyID0gJyMnO1xyXG4gICAgICAgIHN0ciArPSBudW0gJiAxID8gJ2ZmJyA6ICcwMCc7XHJcbiAgICAgICAgc3RyICs9IG51bSAmIDIgPyAnZmYnIDogJzAwJztcclxuICAgICAgICBzdHIgKz0gbnVtICYgNCA/ICdmZicgOiAnMDAnO1xyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi9BdWRpb0NhbGwnO1xyXG4iLCJpbXBvcnQgeyBBcGkgfSBmcm9tICcuLi8uLi9iYXNpYy9hcGknO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRoUGFnZU1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICog0J/RgNC+0LjQt9Cy0L7QtNC40YIg0YDQtdCz0LjRgdGC0YDQsNGG0LjRjiDQvdC+0LLQvtCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICAgKiBAcGFyYW0gbmFtZSDQmNC80Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICAgKiBAcGFyYW0gZW1haWwg0LUt0LzQtdC50Lsg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICAgKiBAcGFyYW0gcGFzc3dvcmQg0J/QsNGA0L7Qu9GMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICogQHJldHVybnMg0JTQsNC90L3Ri9C1INC+INGA0LXQs9C40YHRgtGA0LDRhtC40Lgg0LjQu9C4INC+0YjQuNCx0LrRg1xyXG4gICAgICovXHJcbiAgICBhc3luYyByZWdpc3Rlck5ld1VzZXIobmFtZSwgZW1haWwsIHBhc3N3b3JkKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5jcmVhdGVOZXdVc2VyKHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9GA0L7QuNC30LLQvtC00LjRgiDQu9C+0LPQuNC9INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICogQHBhcmFtIGVtYWlsINCb0L7Qs9C40L0g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICAgKiBAcGFyYW0gcGFzc3dvcmQg0J/QsNGA0L7Qu9GMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgICogQHJldHVybnMg0KLQvtC60LXQvSDQu9C+0LPQuNC90LAg0LjQu9C4INC+0YjQuNCx0LrQsFxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwaS5sb2dpblVzZXIoeyBlbWFpbCwgcGFzc3dvcmQgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCX0LDQv9C40YHRi9Cy0LDRgiDRgtC+0LrQtdC9INC4INCY0JQg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC00LvRjyDQtNCw0LvRjNC90LXQudGI0LjRhSDQt9Cw0L/RgNC+0YHQvtCyXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2Ug0KLQvtC60LXQvSDQu9C+0LPQuNC90LAg0Lgg0JjQlFxyXG4gICAgICovXHJcbiAgICBzZXRBdXRoRGF0YShyZXNwb25zZSkge1xyXG4gICAgICAgIEFwaS5zZXRBdXRoRGF0YShyZXNwb25zZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEF1dGhQYWdlTW9kZWwgZnJvbSAnLi9BdXRoUGFnZS5tb2RlbCc7XHJcbmltcG9ydCBBdXRoUGFnZVZpZXcgZnJvbSAnLi9BdXRoUGFnZS52aWV3JztcclxuaW1wb3J0IHsgRVJlZ2lzdGVyQnV0dG9uVGV4dCB9IGZyb20gJy4uLy4uL2Jhc2ljL2VudW1zL2VudW1zJztcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vLi4vYmFzaWMnO1xyXG5jb25zdCBUT0tFTl9XT1JLX1RJTUUgPSA0OyAvL9GH0LDRgdCwXHJcbmV4cG9ydCBjbGFzcyBBdXRoUGFnZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICB0aGlzLmF1dGhQYWdlTW9kZWwgPSBuZXcgQXV0aFBhZ2VNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuYXV0aFBhZ2VWaWV3ID0gbmV3IEF1dGhQYWdlVmlldyh0aGlzLnBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5hdXRoUGFnZVZpZXcub25DbGljayA9ICh0ZXh0KSA9PiB0aGlzLm9uQ2xpY2sodGV4dCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5hdXRoUGFnZVZpZXcucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCe0LHRgNCw0LHQvtGC0YfQuNC6INC90LDQttCw0YLQuNGPINC60L3QvtC/0LrQuCDRgNC10LPQuNGB0YLRgNCw0YbQuNC4INC40LvQuCDQu9C+0LPQuNC90LBcclxuICAgICAqIEBwYXJhbSB0ZXh0INCh0YLRgNC+0LrQsCDQvdCw0LbQsNGC0L7QuSDQutC90L7Qv9C60LhcclxuICAgICAqL1xyXG4gICAgb25DbGljayh0ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgW25hbWUsIGxvZ2luLCBwYXNzd29yZF0gPSB0aGlzLmF1dGhQYWdlVmlldy5nZXRMb2dpbkRhdGEoKTtcclxuICAgICAgICBpZiAodGV4dCA9PT0gRVJlZ2lzdGVyQnV0dG9uVGV4dC5jYW5jZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMudHJ5TGF1bmNoRXhpdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0ZXh0ID09PSBFUmVnaXN0ZXJCdXR0b25UZXh0LmxvZ2luKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXV0aFBhZ2VWaWV3LnNldE1lc3NhZ2VUZXh0KCdMb2dpbmluZyAuLi4nLCAnZ3JlZW4nKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dpblVzZXIobG9naW4sIHBhc3N3b3JkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZvaWQgdGhpcy5hdXRoUGFnZU1vZGVsLnJlZ2lzdGVyTmV3VXNlcihuYW1lLCBsb2dpbiwgcGFzc3dvcmQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJ2Vycm9yTWVzc2FnZScgaW4gcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGhQYWdlVmlldy5zZXRNZXNzYWdlVGV4dChyZXNwb25zZS5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dpblVzZXIobG9naW4sIHBhc3N3b3JkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQn9GA0L7QuNC30LLQvtC00LjRgiDQu9C+0LPQuNC9INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy4g0JIg0YHQu9GD0YfQsNC1INGD0YHQv9C10YXQsCDQt9Cw0LrRgNGL0LLQsNC10YIg0L7QutC90L5cclxuICAgICAqIEBwYXJhbSBsb2dpbiDQm9C+0LPQuNC9XHJcbiAgICAgKiBAcGFyYW0gcGFzc3dvcmQg0J/QsNGA0L7Qu9GMXHJcbiAgICAgKi9cclxuICAgIGxvZ2luVXNlcihsb2dpbiwgcGFzc3dvcmQpIHtcclxuICAgICAgICB2b2lkIHRoaXMuYXV0aFBhZ2VNb2RlbC5sb2dpblVzZXIobG9naW4sIHBhc3N3b3JkKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoJ2Vycm9yTWVzc2FnZScgaW4gcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0aFBhZ2VWaWV3LnNldE1lc3NhZ2VUZXh0KHJlc3BvbnNlLmVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhQYWdlTW9kZWwuc2V0QXV0aERhdGEocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlQXV0aFRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJ5TGF1bmNoRXhpdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCj0LTQsNC70Y/QtdGCINC+0LrQvdC+INC40LcgRE9NXHJcbiAgICAgKi9cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgLy8gVE9ETyDQodC00LXQu9Cw0YLRjCDQv9C70LDQstC90YPRjiDQsNC90LjQvNCw0YbQuNGOINC40YHRh9C10LfQvdC+0LLQtdC90Y9cclxuICAgICAgICB0aGlzLmF1dGhQYWdlVmlldy5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCk0YPQvdC60YbQuNGPINC30LDQv9GD0YHQutCw0LXRgiDQv9C10YDQtdC00LDQvdC90YPRjiDRhNGD0L3QutGG0LjRjiDQv9C10YDQtdC0INCy0YvRhdC+0LTQvtC8XHJcbiAgICAgKi9cclxuICAgIHRyeUxhdW5jaEV4aXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub25FeGl0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkV4aXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzYXZlQXV0aFRvTG9jYWxTdG9yYWdlKCkge1xyXG4gICAgICAgIGNvbnN0IGF1dGggPSBBcGkuZ2V0QXV0aFRva2VuKCk7XHJcbiAgICAgICAgaWYgKGF1dGggIT09IG51bGwpIHtcclxuICAgICAgICAgICAgYXV0aC50aW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JzbGFuZy1hdXRoJywgSlNPTi5zdHJpbmdpZnkoYXV0aCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlc3RvcmVBdXRoRnJvbUxvY2FsU3RvcmFnZSgpIHtcclxuICAgICAgICBjb25zdCBzdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncnNsYW5nLWF1dGgnKTtcclxuICAgICAgICBpZiAoIXN0cilcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF1dGggPSBKU09OLnBhcnNlKHN0cik7XHJcbiAgICAgICAgICAgIGlmICghYXV0aClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKCFhdXRoLnVzZXJJZCB8fCB0eXBlb2YgYXV0aC51c2VySWQgIT09ICdzdHJpbmcnKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoIWF1dGgudG9rZW4gfHwgdHlwZW9mIGF1dGgudG9rZW4gIT09ICdzdHJpbmcnKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoIWF1dGgucmVmcmVzaFRva2VuIHx8IHR5cGVvZiBhdXRoLnJlZnJlc2hUb2tlbiAhPT0gJ3N0cmluZycpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICghYXV0aC50aW1lIHx8IHR5cGVvZiBhdXRoLnRpbWUgIT09ICdudW1iZXInKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lUGFzdCA9IChEYXRlLm5vdygpIC0gYXV0aC50aW1lKSAvIDYwIC8gNjAgLyAxMDAwOyAvLyDQsiDRh9Cw0YHQsNGFXHJcbiAgICAgICAgICAgIGlmICh0aW1lUGFzdCA8IFRPS0VOX1dPUktfVElNRSkge1xyXG4gICAgICAgICAgICAgICAgQXBpLnNldEF1dGhEYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogYXV0aC50b2tlbixcclxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IGF1dGgucmVmcmVzaFRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogYXV0aC51c2VySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICAgICAgICB9LCBhdXRoLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2b2lkIEFwaS5nZXRVc2VyTmV3VG9rZW4oKS50aGVuKCh0b2tlbnMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3Rva2VuJyBpbiB0b2tlbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IEFwaS5nZXRBdXRoVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBpLnNldEF1dGhEYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2Vucy50b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogdG9rZW5zLnJlZnJlc2hUb2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlciA/IHVzZXIudXNlcklkIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgRGF0ZS5ub3coKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc0F1dGhvcml6ZWQoKSB7XHJcbiAgICAgICAgaWYgKEFwaS5pc0F1dGhvcml6ZWQoKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMucmVzdG9yZUF1dGhGcm9tTG9jYWxTdG9yYWdlKCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDcmVhdG9yIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9DcmVhdG9yJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CdXR0b24nO1xyXG5pbXBvcnQgTGFiZWxJbnB1dCBmcm9tICcuL0xhYmVsSW5wdXQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXIuc2Nzcyc7XHJcbmltcG9ydCB7IEVSZWdpc3RlckJ1dHRvblRleHQgfSBmcm9tICcuLi8uLi9iYXNpYy9lbnVtcy9lbnVtcyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhQYWdlVmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB0aGlzLnNjcmVlbiA9IG5ldyBDcmVhdG9yKHRoaXMucGFyZW50LCAnZGl2JywgJ3JlZ2lzdGVyJyk7XHJcbiAgICAgICAgdGhpcy53bmQgPSBuZXcgQ3JlYXRvcih0aGlzLnNjcmVlbi5ub2RlLCAnZGl2JywgJ3JlZ2lzdGVyX193aW5kb3cnKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuZXcgTGFiZWxJbnB1dCh0aGlzLnduZC5ub2RlLCAnTmFtZScpO1xyXG4gICAgICAgIHRoaXMuZW1haWwgPSBuZXcgTGFiZWxJbnB1dCh0aGlzLnduZC5ub2RlLCAnRS1NYWlsJyk7XHJcbiAgICAgICAgdGhpcy5lbWFpbC5zZXRJbnB1dFR5cGUoJ2VtYWlsJyk7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IG5ldyBMYWJlbElucHV0KHRoaXMud25kLm5vZGUsICdQYXNzd29yZCcpO1xyXG4gICAgICAgIHRoaXMucGFzc3dvcmQuc2V0SW5wdXRUeXBlKCdwYXNzd29yZCcpO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG5ldyBDcmVhdG9yKHRoaXMud25kLm5vZGUsICdkaXYnLCAncmVnaXN0ZXJfX21lc3NhZ2UnKTtcclxuICAgICAgICB0aGlzLmJ0bkxvZ2luID0gbmV3IEJ1dHRvbih0aGlzLnduZC5ub2RlLCAncmVnaXN0ZXJfX2J1dHRvbicsIEVSZWdpc3RlckJ1dHRvblRleHQubG9naW4sIHRoaXMub25DbGljayk7XHJcbiAgICAgICAgdGhpcy5idG5QYXNzd29yZCA9IG5ldyBCdXR0b24odGhpcy53bmQubm9kZSwgJ3JlZ2lzdGVyX19idXR0b24nLCBFUmVnaXN0ZXJCdXR0b25UZXh0LnJlZ2lzdGVyLCB0aGlzLm9uQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuYnRuQ2FuY2VsID0gbmV3IEJ1dHRvbih0aGlzLnduZC5ub2RlLCAncmVnaXN0ZXJfX2J1dHRvbicsIEVSZWdpc3RlckJ1dHRvblRleHQuY2FuY2VsLCB0aGlzLm9uQ2xpY2spO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICAvLyBUT0RPINCh0LTQtdC70LDRgtGMINC/0LvQsNCy0L3QvtC1INC40YHRh9C10LfQsNC90LjQtVxyXG4gICAgICAgIHRoaXMuc2NyZWVuLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog0J/QvtC70YPRh9Cw0LXRgiDQuNC3INGE0L7RgNC80Ysg0LjQvNGPLCDQu9C+0LPQuNC9INC4INC/0LDRgNC+0LvRjFxyXG4gICAgICogQHJldHVybnMg0JjQvNGPLCDQu9C+0LPQuNC9INC4INC/0LDRgNC+0LvRjFxyXG4gICAgICovXHJcbiAgICBnZXRMb2dpbkRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLm5hbWUuZ2V0VmFsdWUoKSwgdGhpcy5lbWFpbC5nZXRWYWx1ZSgpLCB0aGlzLnBhc3N3b3JkLmdldFZhbHVlKCldO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDQktGL0LLQvtC00LjRgiDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcclxuICAgICAqIEBwYXJhbSB0ZXh0INCi0LXQutGB0YIg0LTQu9GPINCy0YvQstC+0LTQsFxyXG4gICAgICovXHJcbiAgICBzZXRNZXNzYWdlVGV4dCh0ZXh0LCBjb2xvcikge1xyXG4gICAgICAgIHRoaXMubWVzc2FnZS5ub2RlLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgICAgICB0aGlzLm1lc3NhZ2Uubm9kZS5zdHlsZS5jb2xvciA9IGNvbG9yID8gY29sb3IgOiAnJztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDcmVhdG9yIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9DcmVhdG9yJztcclxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0lucHV0JztcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFiZWxJbnB1dCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5hbWUpIHtcclxuICAgICAgICB0aGlzLnduZCA9IG5ldyBDcmVhdG9yKHBhcmVudCwgJ2RpdicsICdpbnB1dF9fd3JhcHBlcicpO1xyXG4gICAgICAgIHRoaXMuc3BhbiA9IG5ldyBDcmVhdG9yKHRoaXMud25kLm5vZGUsICdzcGFuJywgJ2lucHV0X19zcGFuJywgbmFtZSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dCh0aGlzLnduZC5ub2RlLCAnaW5wdXRfX2lucHV0Jyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCf0L7Qu9GD0YfQsNC10YIg0LfQvdCw0YfQtdC90LjQtSDQv9C+0LvRjyDQuNC90L/Rg9GC0LBcclxuICAgICAqIEByZXR1cm5zINCi0LXQutGB0YIg0LIg0L/QvtC70LUg0LjQvdC/0YPRgtCwXHJcbiAgICAgKi9cclxuICAgIGdldFZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0LmdldFZhbHVlKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINGC0LjQvyDQuNC90L/Rg9GC0LAg0L7RgtC70LjRh9C90YvQuSDQvtGCIHR5cGU9J3RleHQnXHJcbiAgICAgKiBAcGFyYW0gdHlwZSDQotC40L8g0LjQvdC/0YPRgtCwXHJcbiAgICAgKi9cclxuICAgIHNldElucHV0VHlwZSh0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5ub2RlLnR5cGUgPSB0eXBlO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vQXV0aFBhZ2UnO1xyXG4iLCJpbXBvcnQgeyBDcmVhdG9yIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9DcmVhdG9yJztcclxuaW1wb3J0ICcuL2xvYWRpbmdwYWdlLnNjc3MnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nUGFnZSBleHRlbmRzIENyZWF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50KSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50LCAnZGl2JywgJ2xvYWRpbmcnKTtcclxuICAgICAgICB0aGlzLm5vZGUuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZ19fdGV4dFwiPkxvYWRpbmcuLi48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmdfX291dGVyLWJveFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nX19pbm5lci1ib3ggaW5uZXItYm94MVwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nX19pbm5lci1ib3ggaW5uZXItYm94MlwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nX19pbm5lci1ib3ggaW5uZXItYm94M1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nX19pbm5lci1ib3ggaW5uZXItYm94NFwiPjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi90ZXh0Ym9vayc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdGV4dGJvb2sudmlldyc7XHJcbiIsImltcG9ydCB7IFRleHRib29rVmlldyB9IGZyb20gJy4vdGV4dGJvb2sudmlldyc7XHJcbmltcG9ydCB7IFdvcmRHcm91cCwgV29yZEdyb3VwQnV0dG9uLCBXb3JkUGFnaW5hdGlvbiB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBncm91cHMsIG1heFdvcmRzUGFnZXMgfSBmcm9tICcuLi8uLi9iYXNpYyc7XHJcbmV4cG9ydCBjbGFzcyBUZXh0Ym9vayB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gcGFyZW50Tm9kZTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB0ZXh0Ym9vayA9IG5ldyBUZXh0Ym9va1ZpZXcodGhpcy5wYXJlbnROb2RlKTtcclxuICAgICAgICB0aGlzLnJlbmRlckdyb3VwQnV0dG9ucyh0ZXh0Ym9vayk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJQYWdpbmF0aW9uKHRleHRib29rKTtcclxuICAgICAgICB0aGlzLnJlbmRlckdyb3VwKHRleHRib29rKTtcclxuICAgIH1cclxuICAgIHJlbmRlckdyb3VwQnV0dG9ucyh0ZXh0Ym9vaykge1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGdyb3VwcykuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBuZXcgV29yZEdyb3VwQnV0dG9uKHRleHRib29rLCBpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbmRlclBhZ2luYXRpb24odGV4dGJvb2spIHtcclxuICAgICAgICBjb25zdCBwYWdpbmF0aW9uID0gbmV3IFdvcmRQYWdpbmF0aW9uKHRleHRib29rKTtcclxuICAgICAgICBwYWdpbmF0aW9uLnBhZ2luYXRlKG1heFdvcmRzUGFnZXMpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyR3JvdXAodGV4dGJvb2spIHtcclxuICAgICAgICBjb25zdCB3b3JkR3JvdXAgPSBuZXcgV29yZEdyb3VwKHRleHRib29rKTtcclxuICAgICAgICB2b2lkIHdvcmRHcm91cC5yZW5kZXJDYXJkcygpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENyZWF0b3IgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzJztcclxuaW1wb3J0ICcuL3RleHRib29rLnNjc3MnO1xyXG5leHBvcnQgY2xhc3MgVGV4dGJvb2tWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGUpIHtcclxuICAgICAgICB0aGlzLnRleHRib29rID0gbmV3IENyZWF0b3IocGFyZW50Tm9kZSwgJ2RpdicsICd0ZXh0Ym9vaycpO1xyXG4gICAgICAgIHRoaXMudGV4dGJvb2tIZWFkZXIgPSBuZXcgQ3JlYXRvcih0aGlzLnRleHRib29rLm5vZGUsICdkaXYnLCAndGV4dGJvb2tfX2hlYWRlcicpO1xyXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgQ3JlYXRvcih0aGlzLnRleHRib29rSGVhZGVyLm5vZGUsICdkaXYnLCAnZ3JvdXAnKTtcclxuICAgICAgICB0aGlzLndvcmRzID0gbmV3IENyZWF0b3IodGhpcy50ZXh0Ym9vay5ub2RlLCAnZGl2JywgJ3dvcmRzJyk7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IG5ldyBDcmVhdG9yKHRoaXMud29yZHMubm9kZSwgJ2gxJywgJ3dvcmRzX190aXRsZScsICfQodC70L7QstCwJyk7XHJcbiAgICAgICAgdGhpcy53b3Jkc0NvbnRhaW5lciA9IG5ldyBDcmVhdG9yKHRoaXMud29yZHMubm9kZSwgJ2RpdicsICd3b3Jkc19fY29udGFpbmVyJyk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVHcm91cCA9IHRoaXMudGl0bGUubm9kZTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgKiBmcm9tICcuL1RleHRib29rUGFnZSc7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL3N0eWxlcy9pbmRleC5zY3NzJztcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSAnLi9hcHAnO1xyXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XHJcbmFwcC5zdGFydCgpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=